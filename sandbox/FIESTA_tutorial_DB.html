<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>FIESTA - Database Tools</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">FIESTA - Database Tools</h1>



<div id="fiesta-overview" class="section level2">
<h2>FIESTA Overview</h2>
<p>The R package, FIESTA (Forest Inventory ESTimation and Analysis) is a
research estimation tool for analysts that work with sample-based
inventory data like that from the U.S. Department of Agriculture, Forest
Service, Forest Inventory and Analysis (FIA) Program to accommodate:
unique population boundaries, different evaluation time periods,
customized stratification schemes, non-standard variance equations,
integration of multi-scale remotely-sensed data and other auxiliary
information, and interaction with other modeling and estimation tools
from CRAN R’s library of packages. FIESTA contains a collection of
functions that can access FIA databases, summarize and compile plot and
spatial data, and generate estimates with associated sampling
errors.</p>
<p>Functions are organized by type or objective and are named with a
corresponding prefix:</p>
<p><strong>Core Functions</strong></p>
<ul>
<li>Database tools (DB) - functions for querying and extracting data
from FIA’s national database.</li>
<li>Data tools (dat) - functions for summarizing and exploring FIA
data.</li>
<li>Spatial tools (sp) - functions for manipulating and summarizing
spatial data.</li>
</ul>
<p><strong>Estimation Modules</strong></p>
<ul>
<li>Green-Book (GB) - functions for FIA’s standard ‘Green-Book’
estimators.</li>
<li>Photo-Based (PB) - functions for supplementary photo-based
estimators.</li>
<li>Small Area (SA) - functions for integration with available small
area estimators (SAE).</li>
<li>Model-Assisted (MA) - functions for integration with available
Model-Assisted estimators.</li>
</ul>
<p><strong>Analysis Tools</strong></p>
<ul>
<li>Analysis tools (an) - wrapper functions for stream-lining estimation
processes.</li>
</ul>
<div id="overview-of-fiesta-database-db-tools" class="section level3">
<h3>Overview of FIESTA Database (DB) tools</h3>
<p>FIESTA’s DB tools extract data from FIA’s online publicly-available,
comma-delimited files (*.csv or *.zip). FIA’s CSV files are available by
state from the FIA DataMart at the following link: <a href="https://apps.fs.usda.gov/fia/datamart/datamart.html" class="uri">https://apps.fs.usda.gov/fia/datamart/datamart.html</a>.
Because of FIA’s confidentiality agreement to protect the privacy of
landowners, as well as protecting the scientific integrity of FIA’s
sample design, the exact coordinates of the sample plot locations are
not included in the public data. If the exact coordinates are necessary
for your analysis, contact FIA’s Spatial Data Services (<a href="https://www.fia.fs.fed.us/tools-data/spatial/index.php" class="uri">https://www.fia.fs.fed.us/tools-data/spatial/index.php</a>).</p>
</div>
<div id="objective-of-tutorialthe-objective-of-this-tutorial-is-to-demonstrate-the-use-of-fiestas-db-tools-for-accessing-fia-data.-these-tools-extract-data-from-fia-datamart-using-fias-standard-evaluations-as-well-as-customized-evaluations." class="section level3">
<h3>Objective of tutorialThe objective of this tutorial is to
demonstrate the use of FIESTA’s DB tools for accessing FIA data. These
tools extract data from FIA Datamart using FIA’s standard evaluations as
well as customized evaluations.</h3>
<p>An FIA Evaluation is a group of plots within the FIA database that is
used for population estimates. An FIA Evaluation represents different
inventory spans of data with different stratification and area
adjustments for nonreponse. Each Evaluation is determined by the type of
estimation (evalType) including: area and tree estimates, growth and
mortality estimates, and area change estimates (evalType). These plots
are identified by an evalid, which is a unique identifier in the format
of a 2-digit State code, a 2-digit year code, and a 2-digit evaluation
type code. For example, EVALID ‘491601’ represents the Utah 2016
evaluation for current area estimates.</p>
<table>
<colgroup>
<col width="18%" />
<col width="81%" />
</colgroup>
<thead>
<tr class="header">
<th>FUNCTION</th>
<th>DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#DBgetCSV">DBgetCSV()</a></td>
<td>Downloads comma-delimited file (.csv) or downloads and extracts a
compressed csv file (.zip) from FIA’s online DataMart.</td>
</tr>
<tr class="even">
<td><a href="#DBqryCSV">DBqryCSV()</a></td>
<td>Extracts and queries data from FIA’s online DataMart, either CSV or
ZIP files.</td>
</tr>
<tr class="odd">
<td><a href="#DBgetEvalid">DBgetEvalid()</a></td>
<td>Gets evalid for identifying an estimation group of plots for state
or checks evalid.</td>
</tr>
<tr class="even">
<td><a href="#DBgetPlots">DBgetPlots()</a></td>
<td>Extracts inventory plot data from FIA database.</td>
</tr>
<tr class="odd">
<td><a href="#DBgetStrata">DBgetStrata()</a></td>
<td>Extracts strata information and total acres by estimation unit from
FIA database, including plot-level assignment and a data frame with
strata weights by estimation unit.</td>
</tr>
</tbody>
</table>
</div>
<div id="set-up" class="section level3">
<h3>Set up</h3>
<p>First, you’ll need to load the <code>FIESTA</code> library:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(FIESTA)</span></code></pre></div>
<p>Next, you’ll need to set up an “outfolder”. This is just a file path
to a folder where you’d like <code>FIESTA</code> to send your data
output. For this vignette, we have saved our outfolder file path as the
<code>outfolder</code> object in a temporary directory. We also set a
few default options preferred for this vignette.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>outfolder <span class="ot">&lt;-</span> <span class="fu">tempdir</span>()</span></code></pre></div>
</div>
</div>
<div id="db-examples" class="section level2">
<h2>DB Examples</h2>
<p>The following examples show how to extract data from FIA’s
publicly-available, online DataMart. Data can be returned as R objects
or exported to CSV (.csv) files or a SQLite (.sqlite) database. The zip
files are extracted on-the-fly from the online website. Web server
connections will affect download speeds. We show examples for the
following functions:</p>
<p>The following examples extract data from FIA’s online DataMart (<a href="https://apps.fs.usda.gov/fia/datamart/datamart.html" class="uri">https://apps.fs.usda.gov/fia/datamart/datamart.html</a>).</p>
<div id="dbgetcsv" class="section level3">
<h3><a name="DBgetCSV"></a><code>DBgetCSV()</code></h3>
<p>The <code>DBgetCSV</code> function extracts data from FIA’s
publicly-available, online DataMart CSV/ZIP files. The zip files are
extracted on-the-fly from the online website. Web server connections
will affect download speeds.</p>
<div id="example-1-extract-plot-data-for-wyoming-and-utah" class="section level4">
<h4>Example 1: Extract PLOT data for Wyoming and Utah</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>WYUTplot <span class="ot">&lt;-</span> <span class="fu">DBgetCSV</span>(<span class="at">DBtable=</span><span class="st">&quot;PLOT&quot;</span>, <span class="at">states=</span><span class="fu">c</span>(<span class="st">&quot;Wyoming&quot;</span>, <span class="st">&quot;Utah&quot;</span>))</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(WYUTplot<span class="sc">$</span>STATECD)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
##    49    56 
## 26977 27340</code></pre>
</details>
</details>
</div>
<div id="dbgetcsv-1" class="section level4">
<h4><a name="DBgetCSV"></a>DBgetCSV()</h4>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Get plot table for Wyoming</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>WYplots <span class="ot">&lt;-</span> <span class="fu">DBgetCSV</span>(<span class="st">&quot;PLOT&quot;</span>, <span class="st">&quot;Wyoming&quot;</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(WYplots)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] 27340    72</code></pre>
</details>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Get plot table for Wyoming and Utah</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>WYUTplots <span class="ot">&lt;-</span> <span class="fu">DBgetCSV</span>(<span class="at">DBtable=</span><span class="st">&quot;PLOT&quot;</span>, <span class="at">states=</span><span class="fu">c</span>(<span class="st">&quot;Wyoming&quot;</span>, <span class="st">&quot;Utah&quot;</span>))</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(WYUTplots<span class="sc">$</span>STATECD)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
##    49    56 
## 26977 27340</code></pre>
</details>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Get survey table for Wyoming</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>WYsurvey <span class="ot">&lt;-</span> <span class="fu">DBgetCSV</span>(<span class="st">&quot;SURVEY&quot;</span>, <span class="st">&quot;Wyoming&quot;</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>WYsurvey</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##                CN INVYR P3_OZONE_IND STATECD STATEAB STATENM RSCD ANN_INVENTORY
## 1   3001122010690  1984            N      56      WY Wyoming   22             N
## 2   2701863010690  2000            N      56      WY Wyoming   22             N
## 3  40383603010690  2011            N      56      WY Wyoming   22             Y
## 4  40383604010690  2012            N      56      WY Wyoming   22             Y
## 5  40383605010690  2013            N      56      WY Wyoming   22             Y
## 6  40409732010690  2014            N      56      WY Wyoming   22             Y
## 7  40409733010690  2015            N      56      WY Wyoming   22             Y
## 8  40409734010690  2016            N      56      WY Wyoming   22             Y
## 9  40409735010690  2017            N      56      WY Wyoming   22             Y
## 10 40409736010690  2018            N      56      WY Wyoming   22             Y
## 11 40409737010690  2019            N      56      WY Wyoming   22             Y
## 12 40409738010690  2020            N      56      WY Wyoming   22             Y
##                                             NOTES     CREATED_BY
## 1  Periodic inventory FOR CYCLE=1 AND SUBCYCLE=0. FIADB17_PUBLIC
## 2  Periodic inventory FOR CYCLE=2 AND SUBCYCLE=0. FIADB17_PUBLIC
## 3                       Annual 01 of 10 subcycles  NIMS_PROD_4_0
## 4                       Annual 02 of 10 subcycles  NIMS_PROD_4_0
## 5                       Annual 03 of 10 subcycles  NIMS_PROD_4_0
## 6                       Annual 04 of 10 subcycles  NIMS_PROD_4_0
## 7                       Annual 05 of 10 subcycles  NIMS_PROD_4_0
## 8                       Annual 06 of 10 subcycles  NIMS_PROD_4_0
## 9                       Annual 07 of 10 subcycles  NIMS_PROD_4_0
## 10                      Annual 08 of 10 subcycles  NIMS_PROD_4_0
## 11                      Annual 09 of 10 subcycles  NIMS_PROD_4_0
## 12                      Annual 10 of 10 subcycles  NIMS_PROD_4_0
##           CREATED_DATE CREATED_IN_INSTANCE        MODIFIED_BY
## 1           2004-05-27               10690 FS_NIMS_FIADB_RMRS
## 2           2004-05-27               10690 FS_NIMS_FIADB_RMRS
## 3  2010-12-19 11:09:24               10690            DABOYER
## 4  2010-12-19 11:09:24               10690            DABOYER
## 5  2010-12-19 11:09:24               10690            DABOYER
## 6  2011-01-14 15:23:21               10690            DABOYER
## 7  2011-01-14 15:23:21               10690            DABOYER
## 8  2011-01-14 15:23:21               10690            DABOYER
## 9  2011-01-14 15:23:21               10690            DABOYER
## 10 2011-01-14 15:23:21               10690            DABOYER
## 11 2011-01-14 15:23:21               10690            DABOYER
## 12 2011-01-14 15:23:21               10690            DABOYER
##          MODIFIED_DATE MODIFIED_IN_INSTANCE CYCLE SUBCYCLE          PRJ_CN
## 1  2021-04-30 20:11:04               290487     1        0 794502809290487
## 2  2021-04-30 20:11:04               290487     2        0 794502809290487
## 3  2021-09-02 08:12:21               290487     3        1 833968357290487
## 4  2021-09-02 08:12:21               290487     3        2 833968357290487
## 5  2021-09-02 08:12:21               290487     3        3 833968357290487
## 6  2021-09-02 08:12:21               290487     3        4 833968357290487
## 7  2021-09-02 08:12:21               290487     3        5 833968357290487
## 8  2021-09-02 08:12:21               290487     3        6 833968357290487
## 9  2021-09-02 08:12:21               290487     3        7 833968357290487
## 10 2021-09-02 08:12:21               290487     3        8 833968357290487
## 11 2021-09-02 08:12:21               290487     3        9 833968357290487
## 12 2021-09-02 08:12:21               290487     3       10 833968357290487</code></pre>
</details>
</div>
</div>
<div id="dbqrycsv" class="section level3">
<h3><a name="DBqryCSV"></a><code>DBqryCSV()</code></h3>
<p>The <code>DBqryCSV</code> function queries table from FIA’ online
publicly-available DataMart. The tables in the query must be specified
in the sqltables parameter.</p>
<div id="example-multiple-uses" class="section level4">
<h4>Example: Multiple Uses</h4>
<details>
<summary>
View Example
</summary>
</div>
<div id="dbqrycsv-1" class="section level4">
<h4><a name="DBqryCSV"></a>DBqryCSV()</h4>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get umber of plots by inventory year for the state of Wyoming</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>sql1 <span class="ot">&lt;-</span> <span class="st">&quot;select INVYR, count(*) AS NBRPLOTS </span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="st">         from PLOT </span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="st">         where statecd=56 group by INVYR&quot;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">DBqryCSV</span>(<span class="at">sql=</span>sql1, <span class="at">states=</span><span class="st">&quot;Wyoming&quot;</span>, <span class="at">sqltables=</span><span class="st">&quot;PLOT&quot;</span>)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##    INVYR NBRPLOTS
## 1   1984     7724
## 2   2000    10110
## 3   2011     1060
## 4   2012     1077
## 5   2013     1013
## 6   2014     1073
## 7   2015     1061
## 8   2016     1067
## 9   2017     1068
## 10  2018     1019
## 11  2019     1058
## 12  2020       10</code></pre>
</details>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get min, mean, max height by FORTYPCD in Wyoming</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>sql2 <span class="ot">&lt;-</span> <span class="st">&quot;select c.FORTYPCD, min(HT) HTmin, round(avg(HT)) HTmean, max(HT) maxHT </span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="st">               from COND c </span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="st">               inner join TREE t ON c.PLT_CN = t.PLT_CN </span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="st">               where c.statecd = 56 </span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="st">               group by c.FORTYPCD order by c.FORTYPCD&quot;</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="fu">DBqryCSV</span>(<span class="at">sql=</span>sql2, <span class="at">states=</span><span class="st">&quot;Wyoming&quot;</span>, <span class="at">sqltables=</span><span class="fu">c</span>(<span class="st">&quot;COND&quot;</span>, <span class="st">&quot;TREE&quot;</span>))</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##    FORTYPCD HTmin HTmean maxHT
## 1        NA     2     40   115
## 2       182     2     18    86
## 3       184     1     11    85
## 4       185     4     10    18
## 5       201     1     43   138
## 6       221     2     36   105
## 7       265     4     48   151
## 8       266     5     46   140
## 9       268     6     45   111
## 10      269     7     60   137
## 11      281     3     45   117
## 12      366     2     32   103
## 13      367     5     36    99
## 14      509     6     29    80
## 15      517    22     38    50
## 16      703     4     43   109
## 17      706     8     27    56
## 18      901     3     40   137
## 19      902    12     34    71
## 20      962    10     21    42
## 21      971     4     15    40
## 22      974     1     12    74
## 23      975     6     29    94
## 24      999     2     40   119</code></pre>
</details>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get number of plots by inventory year for Utah and Wyoming</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>sql3 <span class="ot">&lt;-</span> <span class="st">&quot;select STATECD, INVYR, count(*) NBRPLOTS </span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="st">         from PLOT </span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="st">         where statecd in(49,56) </span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="st">         group by STATECD, INVYR&quot;</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="fu">DBqryCSV</span>(<span class="at">sql=</span>sql3, <span class="at">states=</span><span class="fu">c</span>(<span class="st">&quot;Utah&quot;</span>, <span class="st">&quot;Wyoming&quot;</span>), <span class="at">sqltables=</span><span class="st">&quot;PLOT&quot;</span>)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##    STATECD INVYR NBRPLOTS
## 1       49  1993     8515
## 2       49  2000      931
## 3       49  2001      956
## 4       49  2002      940
## 5       49  2003      917
## 6       49  2004      937
## 7       49  2005      961
## 8       49  2006      913
## 9       49  2007      932
## 10      49  2008      873
## 11      49  2009      931
## 12      49  2010      908
## 13      49  2011      941
## 14      49  2012      920
## 15      49  2013      896
## 16      49  2014      922
## 17      49  2015      935
## 18      49  2016      913
## 19      49  2017      932
## 20      49  2018      873
## 21      49  2019      931
## 22      56  1984     7724
## 23      56  2000    10110
## 24      56  2011     1060
## 25      56  2012     1077
## 26      56  2013     1013
## 27      56  2014     1073
## 28      56  2015     1061
## 29      56  2016     1067
## 30      56  2017     1068
## 31      56  2018     1019
## 32      56  2019     1058
## 33      56  2020       10</code></pre>
</details>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get number of plots by inventory year for Utah and Wyoming that have subalpine fir trees (SPCD=19)</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>sql4 <span class="ot">&lt;-</span> <span class="st">&quot;select p.STATECD, p.INVYR, count(*) NBRPLOTS </span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="st">         from PLOT p </span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="st">         join TREE t ON p.CN = t.PLT_CN </span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="st">         where p.statecd in(49,56) and t.SPCD = 19</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="st">         group by p.STATECD, p.INVYR&quot;</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="fu">DBqryCSV</span>(<span class="at">sql=</span>sql4, <span class="at">states=</span><span class="fu">c</span>(<span class="st">&quot;Utah&quot;</span>, <span class="st">&quot;Wyoming&quot;</span>), <span class="at">sqltables=</span><span class="fu">c</span>(<span class="st">&quot;PLOT&quot;</span>, <span class="st">&quot;TREE&quot;</span>))</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##    STATECD INVYR NBRPLOTS
## 1       49  1993     4128
## 2       49  2000      480
## 3       49  2001      647
## 4       49  2002      485
## 5       49  2003      390
## 6       49  2004      556
## 7       49  2005      552
## 8       49  2006      474
## 9       49  2007      536
## 10      49  2008      487
## 11      49  2009      247
## 12      49  2010      583
## 13      49  2011      749
## 14      49  2012      562
## 15      49  2013      397
## 16      49  2014      633
## 17      49  2015      621
## 18      49  2016      580
## 19      49  2017      613
## 20      49  2018      557
## 21      49  2019      280
## 22      56  1984      313
## 23      56  2000    13127
## 24      56  2011     1462
## 25      56  2012     1146
## 26      56  2013     1098
## 27      56  2014     1211
## 28      56  2015     1146
## 29      56  2016     1280
## 30      56  2017     1258
## 31      56  2018     1367
## 32      56  2019     1091
## 33      56  2020       16</code></pre>
</details>
</details>
</div>
</div>
<div id="dbgetevalid" class="section level3">
<h3><a name="DBgetEvalid"></a><code>DBgetEvalid()</code></h3>
<p>The <code>DBgetEvalid</code> function gets information for FIA
Evaluations.</p>
<div id="example-1-get-most-current-evalid-and-inventory-years-for-wyoming" class="section level4">
<h4>Example 1: Get most current evalid and inventory years for
Wyoming</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>WYeval <span class="ot">&lt;-</span> <span class="fu">DBgetEvalid</span>(<span class="at">states =</span> <span class="st">&quot;Wyoming&quot;</span>,</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">evalCur =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(WYeval)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;states&quot;        &quot;rslst&quot;         &quot;evalidlist&quot;    &quot;invtype&quot;      
##  [5] &quot;invyrtab&quot;      &quot;evalTypelist&quot;  &quot;evalEndyrlist&quot; &quot;invyrs&quot;       
##  [9] &quot;SURVEY&quot;        &quot;PLOT&quot;</code></pre>
</details>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>WYeval<span class="sc">$</span>evalidlist</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## $Wyoming
## [1] 561901</code></pre>
</details>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>WYeval<span class="sc">$</span>invyrs</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## $Wyoming
## [1] 2011 2012 2013 2014 2015 2016 2017 2018 2019</code></pre>
</details>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>WYeval<span class="sc">$</span>invyrtab</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##     STATECD STATENM STATEAB ANN_INVENTORY INVYR
##  1:      56 Wyoming      WY             Y  2011
##  2:      56 Wyoming      WY             Y  2012
##  3:      56 Wyoming      WY             Y  2013
##  4:      56 Wyoming      WY             Y  2014
##  5:      56 Wyoming      WY             Y  2015
##  6:      56 Wyoming      WY             Y  2016
##  7:      56 Wyoming      WY             Y  2017
##  8:      56 Wyoming      WY             Y  2018
##  9:      56 Wyoming      WY             Y  2019
## 10:      56 Wyoming      WY             Y  2020</code></pre>
</details>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>WYeval<span class="sc">$</span>invtype</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;ANNUAL&quot;</code></pre>
</details>
</details>
</div>
<div id="example-2-get-most-current-evalid-and-inventory-years-for-rmrs-states" class="section level4">
<h4>Example 2: Get most current evalid and inventory years for RMRS
states</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>RMRSeval <span class="ot">&lt;-</span> <span class="fu">DBgetEvalid</span>(<span class="at">RS =</span> <span class="st">&quot;RMRS&quot;</span>,</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">evalCur =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(RMRSeval)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;states&quot;        &quot;rslst&quot;         &quot;evalidlist&quot;    &quot;invtype&quot;      
##  [5] &quot;invyrtab&quot;      &quot;evalTypelist&quot;  &quot;evalEndyrlist&quot; &quot;invyrs&quot;       
##  [9] &quot;SURVEY&quot;        &quot;PLOT&quot;</code></pre>
</details>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>RMRSeval<span class="sc">$</span>evalidlist</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## $Arizona
## [1] 41901
## 
## $Colorado
## [1] 81901
## 
## $Idaho
## [1] 161901
## 
## $Montana
## [1] 301901
## 
## $Nevada
## [1] 321901
## 
## $`New Mexico`
## [1] 351901
## 
## $Utah
## [1] 491901
## 
## $Wyoming
## [1] 561901</code></pre>
</details>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>RMRSeval<span class="sc">$</span>invyrs</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## $Arizona
##  [1] 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019
## 
## $Colorado
##  [1] 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019
## 
## $Idaho
##  [1] 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019
## 
## $Montana
##  [1] 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019
## 
## $Nevada
##  [1] 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019
## 
## $`New Mexico`
##  [1] 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019
## 
## $Utah
##  [1] 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019
## 
## $Wyoming
## [1] 2011 2012 2013 2014 2015 2016 2017 2018 2019</code></pre>
</details>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>RMRSeval<span class="sc">$</span>invyrtab</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##      STATECD STATENM STATEAB ANN_INVENTORY INVYR
##   1:       4 Arizona      AZ             Y  2001
##   2:       4 Arizona      AZ             Y  2002
##   3:       4 Arizona      AZ             Y  2003
##   4:       4 Arizona      AZ             Y  2004
##   5:       4 Arizona      AZ             Y  2005
##  ---                                            
## 127:      56 Wyoming      WY             Y  2016
## 128:      56 Wyoming      WY             Y  2017
## 129:      56 Wyoming      WY             Y  2018
## 130:      56 Wyoming      WY             Y  2019
## 131:      56 Wyoming      WY             Y  2020</code></pre>
</details>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>RMRSeval<span class="sc">$</span>invtype</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;ANNUAL&quot;</code></pre>
</details>
</details>
</div>
<div id="example-3-get-most-current-evaluations-for-new-york-and-texas-for-vol-and-grm-evaltypes" class="section level4">
<h4>Example 3: Get most current evaluations for New York and Texas for
VOL and GRM evalTypes</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>NYTXeval <span class="ot">&lt;-</span> <span class="fu">DBgetEvalid</span>(<span class="at">states=</span><span class="fu">c</span>(<span class="st">&quot;New York&quot;</span>, <span class="st">&quot;Texas&quot;</span>), <span class="at">evalType=</span><span class="fu">c</span>(<span class="st">&quot;VOL&quot;</span>, <span class="st">&quot;GRM&quot;</span>))</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(NYTXeval)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;states&quot;        &quot;rslst&quot;         &quot;evalidlist&quot;    &quot;invtype&quot;      
##  [5] &quot;invyrtab&quot;      &quot;evalTypelist&quot;  &quot;evalEndyrlist&quot; &quot;invyrs&quot;       
##  [9] &quot;SURVEY&quot;        &quot;PLOT&quot;</code></pre>
</details>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>NYTXeval<span class="sc">$</span>evalidlist</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## $`New York`
## [1] 361901 361903
## 
## $Texas
## [1] 481901 481903</code></pre>
</details>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>NYTXeval<span class="sc">$</span>evalTypelist</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## $`New York`
## [1] &quot;EXPVOL&quot;  &quot;EXPGROW&quot;
## 
## $Texas
## [1] &quot;EXPVOL&quot;  &quot;EXPGROW&quot;</code></pre>
</details>
</details>
</div>
</div>
<div id="dbgetplots" class="section level3">
<h3><a name="DBgetPlots"></a><code>DBgetPlots()</code></h3>
<p>The <code>DBgetPlots</code> function extracts data from FIA’s online
DataMart or SQLite database.</p>
<div id="example-1-get-data-for-wyoming-most-current-fia-evaluation-all-plots-no-trees" class="section level4">
<h4>Example 1: Get data for Wyoming, most current FIA Evaluation, all
plots, no trees</h4>
<details>
<summary>
View Example
</summary>
</div>
<div id="dbgetplots-1" class="section level4">
<h4><a name="DBgetPlots"></a>DBgetPlots()</h4>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Wyoming&quot;</span>, </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>, </span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, </span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">evalType =</span> <span class="st">&quot;CURR&quot;</span>)</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>                  )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat1)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;states&quot;                 &quot;tabs&quot;                   &quot;tabIDs&quot;                
##  [4] &quot;dbqueries&quot;              &quot;puniqueid&quot;              &quot;xy_PUBLIC&quot;             
##  [7] &quot;pop_plot_stratum_assgn&quot; &quot;evalid&quot;                 &quot;pltcnt&quot;                
## [10] &quot;invyrs&quot;</code></pre>
</details>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>tabs1 <span class="ot">&lt;-</span> dat1<span class="sc">$</span>tabs</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>plt1 <span class="ot">&lt;-</span> tabs1<span class="sc">$</span>plt</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>cond1 <span class="ot">&lt;-</span> tabs1<span class="sc">$</span>cond</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>dat1<span class="sc">$</span>evalid</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## $Wyoming
## [1] 561901</code></pre>
</details>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>dat1<span class="sc">$</span>pltcnt</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##     STABBR STATECD INVYR       PLOT_STATUS NBRPLTS
## 1       WY      56  2011    Sampled-Forest     189
## 2       WY      56  2011 Sampled-Nonforest     845
## 3                                 Subtotal    1034
## 31      WY      56  2012    Sampled-Forest     198
## 4       WY      56  2012 Sampled-Nonforest     851
## 6                                 Subtotal    1049
## 5       WY      56  2013    Sampled-Forest     191
## 61      WY      56  2013 Sampled-Nonforest     799
## 9                                 Subtotal     990
## 7       WY      56  2014    Sampled-Forest     206
## 8       WY      56  2014 Sampled-Nonforest     852
## 12                                Subtotal    1058
## 91      WY      56  2015    Sampled-Forest     185
## 10      WY      56  2015 Sampled-Nonforest     854
## 15                                Subtotal    1039
## 11      WY      56  2016    Sampled-Forest     189
## 121     WY      56  2016 Sampled-Nonforest     848
## 18                                Subtotal    1037
## 13      WY      56  2017    Sampled-Forest     185
## 14      WY      56  2017 Sampled-Nonforest     852
## 21                                Subtotal    1037
## 151     WY      56  2018    Sampled-Forest     177
## 16      WY      56  2018 Sampled-Nonforest     803
## 24                                Subtotal     980
## 17      WY      56  2019    Sampled-Forest     169
## 181     WY      56  2019 Sampled-Nonforest     835
## 27                                Subtotal    1004
## 28                                   Total    9228</code></pre>
</details>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(plt1<span class="sc">$</span>INVYR)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
## 2011 2012 2013 2014 2015 2016 2017 2018 2019 
## 1034 1049  990 1058 1039 1037 1037  980 1004</code></pre>
</details>
</details>
</div>
<div id="example-2-get-data-for-wyoming-most-current-measurement-in-database-all-plots-no-trees" class="section level4">
<h4>Example 2: Get data for Wyoming, most current measurement in
database, all plots, no trees</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>dat2 <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Wyoming&quot;</span>, </span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">eval =</span> <span class="st">&quot;custom&quot;</span>, </span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, </span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">evalType =</span> <span class="st">&quot;CURR&quot;</span>)</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>                   )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat2)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;states&quot;       &quot;tabs&quot;         &quot;tabIDs&quot;       &quot;dbqueries&quot;    &quot;puniqueid&quot;   
## [6] &quot;xyCur_PUBLIC&quot; &quot;pltcnt&quot;</code></pre>
</details>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>tabs2 <span class="ot">&lt;-</span> dat2<span class="sc">$</span>tabs</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>plt2 <span class="ot">&lt;-</span> tabs2<span class="sc">$</span>plt</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>cond2 <span class="ot">&lt;-</span> tabs2<span class="sc">$</span>cond</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>dat2<span class="sc">$</span>evalid</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## NULL</code></pre>
</details>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>dat2<span class="sc">$</span>pltcnt</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##     STABBR STATECD INVYR       PLOT_STATUS NBRPLTS
## 1       WY      56  2011        Nonsampled      26
## 2       WY      56  2011    Sampled-Forest     189
## 3       WY      56  2011 Sampled-Nonforest     845
## 4                                 Subtotal    1060
## 41      WY      56  2012        Nonsampled      28
## 5       WY      56  2012    Sampled-Forest     198
## 6       WY      56  2012 Sampled-Nonforest     851
## 8                                 Subtotal    1077
## 7       WY      56  2013        Nonsampled      23
## 81      WY      56  2013    Sampled-Forest     191
## 9       WY      56  2013 Sampled-Nonforest     799
## 12                                Subtotal    1013
## 10      WY      56  2014        Nonsampled      15
## 11      WY      56  2014    Sampled-Forest     206
## 121     WY      56  2014 Sampled-Nonforest     852
## 16                                Subtotal    1073
## 13      WY      56  2015        Nonsampled      22
## 14      WY      56  2015    Sampled-Forest     185
## 15      WY      56  2015 Sampled-Nonforest     854
## 20                                Subtotal    1061
## 161     WY      56  2016        Nonsampled      30
## 17      WY      56  2016    Sampled-Forest     189
## 18      WY      56  2016 Sampled-Nonforest     848
## 24                                Subtotal    1067
## 19      WY      56  2017        Nonsampled      31
## 201     WY      56  2017    Sampled-Forest     185
## 21      WY      56  2017 Sampled-Nonforest     852
## 28                                Subtotal    1068
## 22      WY      56  2018        Nonsampled      39
## 23      WY      56  2018    Sampled-Forest     177
## 241     WY      56  2018 Sampled-Nonforest     803
## 32                                Subtotal    1019
## 25      WY      56  2019        Nonsampled      54
## 26      WY      56  2019    Sampled-Forest     169
## 27      WY      56  2019 Sampled-Nonforest     835
## 36                                Subtotal    1058
## 281     WY      56  2020    Sampled-Forest      10
## 38                                Subtotal      10
## 39                                   Total    9506</code></pre>
</details>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(plt2<span class="sc">$</span>INVYR)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
## 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 
## 1060 1077 1013 1073 1061 1067 1068 1019 1058   10</code></pre>
</details>
</details>
</div>
<div id="example-3-get-data-for-wyoming-most-current-fia-evaluation-include-spatial" class="section level4">
<h4>Example 3: Get data for Wyoming, most current FIA Evaluation,
include spatial</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>dat3 <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Wyoming&quot;</span>, </span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>,</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, </span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">evalType =</span> <span class="st">&quot;CURR&quot;</span>),</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">issp =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat3)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;states&quot;                 &quot;tabs&quot;                   &quot;tabIDs&quot;                
##  [4] &quot;dbqueries&quot;              &quot;puniqueid&quot;              &quot;xy_PUBLIC&quot;             
##  [7] &quot;pop_plot_stratum_assgn&quot; &quot;evalid&quot;                 &quot;pltcnt&quot;                
## [10] &quot;invyrs&quot;</code></pre>
</details>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>spxy3 <span class="ot">&lt;-</span> dat3<span class="sc">$</span>xy_PUBLIC</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at spatial output</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sf<span class="sc">::</span><span class="fu">st_geometry</span>(spxy3))</span></code></pre></div>
<details>
<summary>
plot
</summary>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAMAAAAjXV6yAAAABlBMVEUAAAD///+l2Z/dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEp0lEQVR4nO3dS24dVxAE0af9b9ojwzRuUWGkU1YCjjPiR6ruDFCAZvz80E99fvcLrDMQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBD4HYE+n++e+vkc3/v86Re/1u0/eOrn7358+8n5hW+/+A++9+VP5W/fC/HNAzbk719scd5fEQ9o1jjOz4gXNHMc50fkO/8ngfwJQvGCZo7j/I50QbXHe35HuqDa4z2/I11Q7fGenxEvaOY4zs+IFzRzHOd3pAuqPd7zO9IF1R7H/RnpgGqO4/6MdEA1x3F/RjqgmuO4PyMdUM1x3J+RDqjmOO7PSAdUcxz3Z6QDqjne8zvSBdUe7/kd6YJqj/f8jnRBtcdxf0Y6oJrjuD8iHmogGlDNcdyfkQ6o5jjuz0gHVHMc90es/hP73V2+SBdUe7znd6QLqj3e8zvSBdUex/0Z6YBqjvf8jnRBtcd7fke6oNrjPT8jXtDMcd0f4f+DULqg2uM9vyNdUO3xnp8RL2jmuO6viAc0axznZ8QLmjmO8zPiBc0cx/kZ8YJmjuv+inhAs8Z1f0U8oFnjur8iHtCscd1fEQ9o1rjur4gHNGtc91fEA5o1rvsr4gHNGtf9FfGAZo3r/op4QLPGdX9FPKBZ47q/Ih7QrHGcX5EvKNa4zs+IFzRzHOdnxAuaOa77K+IBzRrX/RXxgGaN6/6KeECzxnV/RTygWeO6vyIe0KxxnJ8RL2jmOM7PiBc0cxznZ8QLmjmO8zvSBdUe7/kd6YJqj/f8jnRBtcd7fka8oJnjOD8jXtDMcZyfES9o5jjOz4gXNHMc53ekC6o93vM70gXVHu/5HemCao/3/Ix4QTPHcX5GvKCZ4zg/I17QzHHdn5EOqOY47s9IB1RzHPdnpAOqOY77K+IBzRrX/RXxgGaN6/6KeECzxnV/RTygWeO6PyMdUM3xnt+RLqj2eM/vSBdUe7znZ8QLmjmO8zPiBc0cx/kZ8YJmjuP8jHhBM8d1f0U8oFnjOL8jXVDt8Z7fkS6o9njP70gXVHu853ekC6o93vM70gXVHu/5HemCao/3/Ix4QTPHcX5GvKCZ4zi/I11Q7fGe35EuqPZ4z+9IF1R7HPdXxAOaNc4HtAb+y78ev3+xxTdP+OsFf/L2/3zk18+/fPyL+vjr1ImBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIHAH5IrCWO5V6E8AAAAAElFTkSuQmCC" /><!-- --></p>
</details>
</details>
</div>
<div id="example-4-get-data-for-wyoming-most-current-fia-evaluation-include-spatial-add-filter" class="section level4">
<h4>Example 4: Get data for Wyoming, most current FIA Evaluation,
include spatial, add filter</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a filter to include only plots with Whitebark pine forest type (FORTYPCD == 367)</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: *allFilter* filters for plots and/or conditions for all states specified.</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>dat4 <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states=</span><span class="st">&quot;Wyoming&quot;</span>, </span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>,</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, </span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">evalType =</span> <span class="st">&quot;CURR&quot;</span>),</span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>                   <span class="at">issp =</span> <span class="cn">TRUE</span>, </span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>                   <span class="at">allFilter =</span> <span class="st">&quot;FORTYPCD == 367&quot;</span>)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat4)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;states&quot;                 &quot;tabs&quot;                   &quot;tabIDs&quot;                
##  [4] &quot;dbqueries&quot;              &quot;puniqueid&quot;              &quot;xy_PUBLIC&quot;             
##  [7] &quot;pop_plot_stratum_assgn&quot; &quot;evalid&quot;                 &quot;pltcnt&quot;                
## [10] &quot;invyrs&quot;</code></pre>
</details>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>spxy4 <span class="ot">&lt;-</span> dat4<span class="sc">$</span>xy_PUBLIC</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at spatial output</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sf<span class="sc">::</span><span class="fu">st_geometry</span>(spxy3))</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sf<span class="sc">::</span><span class="fu">st_geometry</span>(spxy4), <span class="at">add=</span><span class="cn">TRUE</span>, <span class="at">col=</span><span class="st">&quot;green&quot;</span>)</span></code></pre></div>
<details>
<summary>
plot
</summary>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAMAAAAjXV6yAAAABlBMVEUA/wD///9vvVhRAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEp0lEQVR4nO3dS24dVxAE0af9b9ojwzRuUWGkU1YCjjPiR6ruDFCAZvz80E99fvcLrDMQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBD4HYE+n++e+vkc3/v86Re/1u0/eOrn7358+8n5hW+/+A++9+VP5W/fC/HNAzbk719scd5fEQ9o1jjOz4gXNHMc50fkO/8ngfwJQvGCZo7j/I50QbXHe35HuqDa4z2/I11Q7fGenxEvaOY4zs+IFzRzHOd3pAuqPd7zO9IF1R7H/RnpgGqO4/6MdEA1x3F/RjqgmuO4PyMdUM1x3J+RDqjmOO7PSAdUcxz3Z6QDqjne8zvSBdUe7/kd6YJqj/f8jnRBtcdxf0Y6oJrjuD8iHmogGlDNcdyfkQ6o5jjuz0gHVHMc90es/hP73V2+SBdUe7znd6QLqj3e8zvSBdUex/0Z6YBqjvf8jnRBtcd7fke6oNrjPT8jXtDMcd0f4f+DULqg2uM9vyNdUO3xnp8RL2jmuO6viAc0axznZ8QLmjmO8zPiBc0cx/kZ8YJmjuv+inhAs8Z1f0U8oFnjur8iHtCscd1fEQ9o1rjur4gHNGtc91fEA5o1rvsr4gHNGtf9FfGAZo3r/op4QLPGdX9FPKBZ47q/Ih7QrHGcX5EvKNa4zs+IFzRzHOdnxAuaOa77K+IBzRrX/RXxgGaN6/6KeECzxnV/RTygWeO6vyIe0KxxnJ8RL2jmOM7PiBc0cxznZ8QLmjmO8zvSBdUe7/kd6YJqj/f8jnRBtcd7fka8oJnjOD8jXtDMcZyfES9o5jjOz4gXNHMc53ekC6o93vM70gXVHu/5HemCao/3/Ix4QTPHcX5GvKCZ4zg/I17QzHHdn5EOqOY47s9IB1RzHPdnpAOqOY77K+IBzRrX/RXxgGaN6/6KeECzxnV/RTygWeO6PyMdUM3xnt+RLqj2eM/vSBdUe7znZ8QLmjmO8zPiBc0cx/kZ8YJmjuP8jHhBM8d1f0U8oFnjOL8jXVDt8Z7fkS6o9njP70gXVHu853ekC6o93vM70gXVHu/5HemCao/3/Ix4QTPHcX5GvKCZ4zi/I11Q7fGe35EuqPZ4z+9IF1R7HPdXxAOaNc4HtAb+y78ev3+xxTdP+OsFf/L2/3zk18+/fPyL+vjr1ImBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIHAH5IrCWO5V6E8AAAAAElFTkSuQmCC" /><!-- --></p>
</details>
</details>
</div>
<div id="example-5-get-data-for-wyoming-most-current-fia-evaluation-include-spatial-add-tree-filter" class="section level4">
<h4>Example 5: Get data for Wyoming, most current FIA Evaluation,
include spatial, add tree filter</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a filter to include only plots with Whitebark pine tree species (SPCD == 101)</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: *alltFilter* filters for plots and/or conditions for all states specified.</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>dat5 <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Wyoming&quot;</span>, </span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>,</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, </span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">evalType =</span> <span class="st">&quot;CURR&quot;</span>),</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>                   <span class="at">issp =</span> <span class="cn">TRUE</span>, </span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>                   <span class="at">alltFilter =</span> <span class="st">&quot;SPCD == 101&quot;</span>)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat5)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;states&quot;                 &quot;tabs&quot;                   &quot;tabIDs&quot;                
##  [4] &quot;dbqueries&quot;              &quot;puniqueid&quot;              &quot;xy_PUBLIC&quot;             
##  [7] &quot;pop_plot_stratum_assgn&quot; &quot;evalid&quot;                 &quot;pltcnt&quot;                
## [10] &quot;invyrs&quot;</code></pre>
</details>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>spxy5 <span class="ot">&lt;-</span> dat5<span class="sc">$</span>xy_PUBLIC</span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at spatial output</span></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sf<span class="sc">::</span><span class="fu">st_geometry</span>(spxy3))</span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sf<span class="sc">::</span><span class="fu">st_geometry</span>(spxy4), <span class="at">add=</span><span class="cn">TRUE</span>, <span class="at">col=</span><span class="st">&quot;red&quot;</span>)</span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sf<span class="sc">::</span><span class="fu">st_geometry</span>(spxy5), <span class="at">add=</span><span class="cn">TRUE</span>, <span class="at">col=</span><span class="st">&quot;green&quot;</span>)</span></code></pre></div>
<details>
<summary>
plot
</summary>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAMAAAAjXV6yAAAABlBMVEUA/wD///9vvVhRAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEp0lEQVR4nO3dS24dVxAE0af9b9ojwzRuUWGkU1YCjjPiR6ruDFCAZvz80E99fvcLrDMQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBD4HYE+n++e+vkc3/v86Re/1u0/eOrn7358+8n5hW+/+A++9+VP5W/fC/HNAzbk719scd5fEQ9o1jjOz4gXNHMc50fkO/8ngfwJQvGCZo7j/I50QbXHe35HuqDa4z2/I11Q7fGenxEvaOY4zs+IFzRzHOd3pAuqPd7zO9IF1R7H/RnpgGqO4/6MdEA1x3F/RjqgmuO4PyMdUM1x3J+RDqjmOO7PSAdUcxz3Z6QDqjne8zvSBdUe7/kd6YJqj/f8jnRBtcdxf0Y6oJrjuD8iHmogGlDNcdyfkQ6o5jjuz0gHVHMc90es/hP73V2+SBdUe7znd6QLqj3e8zvSBdUex/0Z6YBqjvf8jnRBtcd7fke6oNrjPT8jXtDMcd0f4f+DULqg2uM9vyNdUO3xnp8RL2jmuO6viAc0axznZ8QLmjmO8zPiBc0cx/kZ8YJmjuv+inhAs8Z1f0U8oFnjur8iHtCscd1fEQ9o1rjur4gHNGtc91fEA5o1rvsr4gHNGtf9FfGAZo3r/op4QLPGdX9FPKBZ47q/Ih7QrHGcX5EvKNa4zs+IFzRzHOdnxAuaOa77K+IBzRrX/RXxgGaN6/6KeECzxnV/RTygWeO6vyIe0KxxnJ8RL2jmOM7PiBc0cxznZ8QLmjmO8zvSBdUe7/kd6YJqj/f8jnRBtcd7fka8oJnjOD8jXtDMcZyfES9o5jjOz4gXNHMc53ekC6o93vM70gXVHu/5HemCao/3/Ix4QTPHcX5GvKCZ4zg/I17QzHHdn5EOqOY47s9IB1RzHPdnpAOqOY77K+IBzRrX/RXxgGaN6/6KeECzxnV/RTygWeO6PyMdUM3xnt+RLqj2eM/vSBdUe7znZ8QLmjmO8zPiBc0cx/kZ8YJmjuP8jHhBM8d1f0U8oFnjOL8jXVDt8Z7fkS6o9njP70gXVHu853ekC6o93vM70gXVHu/5HemCao/3/Ix4QTPHcX5GvKCZ4zi/I11Q7fGe35EuqPZ4z+9IF1R7HPdXxAOaNc4HtAb+y78ev3+xxTdP+OsFf/L2/3zk18+/fPyL+vjr1ImBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIHAH5IrCWO5V6E8AAAAAElFTkSuQmCC" /><!-- --></p>
</details>
</details>
</div>
<div id="example-6-get-data-for-wyoming-most-current-fia-evaluation-include-plotgeom-data-and-subplot-tables" class="section level4">
<h4>Example 6: Get data for Wyoming, most current FIA Evaluation,
include plotgeom data and subplot tables</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>dat6 <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Wyoming&quot;</span>, </span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>,</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, </span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">evalType =</span> <span class="st">&quot;CURR&quot;</span>),</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">issubp =</span> <span class="cn">TRUE</span>,</span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>                   <span class="at">plotgeom =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat6)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;states&quot;                 &quot;tabs&quot;                   &quot;tabIDs&quot;                
##  [4] &quot;dbqueries&quot;              &quot;puniqueid&quot;              &quot;xy_PUBLIC&quot;             
##  [7] &quot;pop_plot_stratum_assgn&quot; &quot;evalid&quot;                 &quot;pltcnt&quot;                
## [10] &quot;invyrs&quot;</code></pre>
</details>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>tabs6 <span class="ot">&lt;-</span> dat6<span class="sc">$</span>tabs</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>plt6 <span class="ot">&lt;-</span> tabs6<span class="sc">$</span>plt</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="do">## subplot and subp_cond tables are added to tabs list</span></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(tabs6)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;subplot&quot;   &quot;subp_cond&quot; &quot;plt&quot;       &quot;cond&quot;</code></pre>
</details>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="do">## PLOTGEOM data are appended to plt table (e.g., ALP_ADFORCD, FVS_VARIANT)</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(plt6)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##                CN PREV_PLT_CN INVYR STATECD CYCLE SUBCYCLE UNITCD COUNTYCD
## 1 276307975489998          NA  2014      56     3        4      3        5
## 2 282479222489998          NA  2013      56     3        3      1       29
## 3 339004000489998          NA  2015      56     3        5      3       11
## 4 339004001489998          NA  2015      56     3        5      3       45
## 5 339004002489998          NA  2016      56     3        6      3       11
## 6 339004003489998          NA  2016      56     3        6      3       11
##    PLOT PLOT_STATUS_CD PLOT_NONSAMPLE_REASN_CD SAMP_METHOD_CD SUBP_EXAMINE_CD
## 1 90582              2                      NA              1               4
## 2 90583              1                      NA              1               4
## 3 88410              1                      NA              1               4
## 4 83723              1                      NA              1               4
## 5 89681              1                      NA              1               4
## 6 85577              1                      NA              1               4
##   MANUAL MACRO_BREAKPOINT_DIA INTENSITY MEASYEAR MEASMON MEASDAY REMPER KINDCD
## 1      7                   NA         1     2016      10      20     NA      1
## 2      6                   NA         1     2014       9      30     NA      1
## 3      6                   NA         1     2015       9      20     NA      1
## 4      6                   NA         1     2015       9      16     NA      1
## 5      7                   NA         1     2016      10      17     NA      1
## 6      7                   NA         1     2016      10      18     NA      1
##   DESIGNCD RDDISTCD WATERCD LON_PUBLIC LAT_PUBLIC ELEV_PUBLIC GROW_TYP_CD
## 1        1       NA      NA  -105.8203   44.97642        3570           1
## 2        1        9       0  -109.9348   44.24736        9550           1
## 3        1        2       0  -104.3743   44.61294        5010           1
## 4        1        1       0  -104.0644   44.12116        6510           1
## 5        1        7       0  -104.3143   44.56942        4870           1
## 6        1        7       0  -104.4921   44.52617        5520           1
##   MORT_TYP_CD P2PANEL P3PANEL SUBPANEL DECLINATION NF_PLOT_STATUS_CD
## 1           1       1      NA        2          NA                NA
## 2           1       5      NA        1          NA                NA
## 3           1       2      NA        2          NA                NA
## 4           1       2      NA        2          NA                NA
## 5           1       3      NA        2          NA                NA
## 6           1       3      NA        2          NA                NA
##   NF_PLOT_NONSAMPLE_REASN_CD NF_SAMPLING_STATUS_CD P2VEG_SAMPLING_STATUS_CD
## 1                         NA                     0                        1
## 2                         NA                     1                        2
## 3                         NA                     0                        1
## 4                         NA                     0                        1
## 5                         NA                     0                        1
## 6                         NA                     0                        1
##   P2VEG_SAMPLING_LEVEL_DETAIL_CD INVASIVE_SAMPLING_STATUS_CD
## 1                              2                           1
## 2                              2                           2
## 3                              2                           1
## 4                              2                           1
## 5                              2                           1
## 6                              2                           1
##   INVASIVE_SPECIMEN_RULE_CD DESIGNCD_P2A QA_STATUS       MODIFIED_DATE CONGCD
## 1                         0           NA         1 2022-09-21 18:25:05   5600
## 2                         0           NA         1 2022-09-21 18:44:34   5600
## 3                         0           NA         1 2022-09-21 18:27:39   5600
## 4                         0           NA         1 2022-09-21 18:52:51   5600
## 5                         0           NA         1 2022-09-21 18:27:39   5600
## 6                         0           NA         1 2022-09-21 18:27:39   5600
##   ECOSUBCD      HUC EMAP_HEX ALP_ADFORCD FVS_VARIANT FVS_LOC_CD FVS_REGION
## 1    331Gf 10090207    19136          NA          CR        202          2
## 2   M331Ag 10070001    21338         403          TT        416          4
## 3   M334Ab 10120201    18305         203          CR        203          2
## 4   M334Ab 10120201    18137         203          CR        203          2
## 5   M334Ab 10120203    18305         203          CR        203          2
## 6   M334Ab 10120201    18305         203          CR        203          2
##   FVS_FOREST FVS_DISTRICT NBRCND NBRCNDSAMP NBRCNDFOR NBRCNDFTYP CCLIVEPLT
## 1          2           NA      2          2         0          0       6.0
## 2         16           NA      1          1         1          1      35.0
## 3          3           NA      1          1         1          1      62.0
## 4          3           NA      2          2         1          1      34.9
## 5          3           NA      1          1         1          1      50.0
## 6          3           NA      1          1         1          1      70.0
##          FORNONSAMP        PLOT_ID
## 1 Sampled-Nonforest ID560300590582
## 2    Sampled-Forest ID560102990583
## 3    Sampled-Forest ID560301188410
## 4    Sampled-Forest ID560304583723
## 5    Sampled-Forest ID560301189681
## 6    Sampled-Forest ID560301185577</code></pre>
</details>
</details>
</div>
<div id="example-7-get-data-for-wyoming-most-current-fia-evaluation-include-pop-tables" class="section level4">
<h4>Example 7: Get data for Wyoming, most current FIA Evaluation,
include pop tables</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>dat7 <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Wyoming&quot;</span>, </span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>,</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, </span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">evalType =</span> <span class="st">&quot;CURR&quot;</span>),</span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">savePOP =</span> <span class="cn">TRUE</span>,</span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>                   <span class="at">othertables =</span> <span class="fu">c</span>(<span class="st">&quot;POP_STRATUM&quot;</span>, <span class="st">&quot;POP_ESTN_UNIT&quot;</span>))</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="do">## savePOP = TRUE, saves the POP_PLOT_STRATUM_ASSGN table used to select plots </span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat7)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;states&quot;                 &quot;tabs&quot;                   &quot;tabIDs&quot;                
##  [4] &quot;dbqueries&quot;              &quot;puniqueid&quot;              &quot;xy_PUBLIC&quot;             
##  [7] &quot;pop_plot_stratum_assgn&quot; &quot;evalid&quot;                 &quot;pltcnt&quot;                
## [10] &quot;invyrs&quot;</code></pre>
</details>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="do">## pop_stratum and pop_estn_unit tables are added to tabs list</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>tabs7 <span class="ot">&lt;-</span> dat7<span class="sc">$</span>tabs</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(tabs7)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;pop_stratum&quot;   &quot;pop_estn_unit&quot; &quot;plt&quot;           &quot;cond&quot;</code></pre>
</details>
</details>
</div>
<div id="example-8-export-data-to-csv-files" class="section level4">
<h4>Example 8: Export data to CSV files</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Wyoming&quot;</span>, </span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>,</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, <span class="at">evalType =</span> <span class="st">&quot;CURR&quot;</span>),</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">returndata =</span> <span class="cn">FALSE</span>,</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">savedata =</span> <span class="cn">TRUE</span>,</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">savedata_opts =</span> <span class="fu">savedata_options</span>(<span class="at">outfolder =</span> outfolder, </span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">out_fmt =</span> <span class="st">&quot;csv&quot;</span>,</span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">overwrite_layer =</span> <span class="cn">TRUE</span>)</span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>           )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Read in data from outfolder</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">file.path</span>(outfolder, <span class="st">&quot;plot.csv&quot;</span>), <span class="at">stringsAsFactors=</span><span class="cn">FALSE</span>)</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(plt)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##             CN PREV_PLT_CN INVYR STATECD CYCLE SUBCYCLE UNITCD COUNTYCD  PLOT
## 1 2.763080e+14          NA  2014      56     3        4      3        5 90582
## 2 2.824792e+14          NA  2013      56     3        3      1       29 90583
## 3 3.390040e+14          NA  2015      56     3        5      3       11 88410
## 4 3.390040e+14          NA  2015      56     3        5      3       45 83723
## 5 3.390040e+14          NA  2016      56     3        6      3       11 89681
## 6 3.390040e+14          NA  2016      56     3        6      3       11 85577
##   PLOT_STATUS_CD PLOT_NONSAMPLE_REASN_CD SAMP_METHOD_CD SUBP_EXAMINE_CD MANUAL
## 1              2                      NA              1               4      7
## 2              1                      NA              1               4      6
## 3              1                      NA              1               4      6
## 4              1                      NA              1               4      6
## 5              1                      NA              1               4      7
## 6              1                      NA              1               4      7
##   MACRO_BREAKPOINT_DIA INTENSITY MEASYEAR MEASMON MEASDAY REMPER KINDCD
## 1                   NA         1     2016      10      20     NA      1
## 2                   NA         1     2014       9      30     NA      1
## 3                   NA         1     2015       9      20     NA      1
## 4                   NA         1     2015       9      16     NA      1
## 5                   NA         1     2016      10      17     NA      1
## 6                   NA         1     2016      10      18     NA      1
##   DESIGNCD RDDISTCD WATERCD LON_PUBLIC LAT_PUBLIC ELEV_PUBLIC GROW_TYP_CD
## 1        1       NA      NA  -105.8203   44.97642        3570           1
## 2        1        9       0  -109.9348   44.24736        9550           1
## 3        1        2       0  -104.3743   44.61294        5010           1
## 4        1        1       0  -104.0644   44.12116        6510           1
## 5        1        7       0  -104.3143   44.56942        4870           1
## 6        1        7       0  -104.4921   44.52617        5520           1
##   MORT_TYP_CD P2PANEL P3PANEL SUBPANEL DECLINATION NF_PLOT_STATUS_CD
## 1           1       1      NA        2          NA                NA
## 2           1       5      NA        1          NA                NA
## 3           1       2      NA        2          NA                NA
## 4           1       2      NA        2          NA                NA
## 5           1       3      NA        2          NA                NA
## 6           1       3      NA        2          NA                NA
##   NF_PLOT_NONSAMPLE_REASN_CD NF_SAMPLING_STATUS_CD P2VEG_SAMPLING_STATUS_CD
## 1                         NA                     0                        1
## 2                         NA                     1                        2
## 3                         NA                     0                        1
## 4                         NA                     0                        1
## 5                         NA                     0                        1
## 6                         NA                     0                        1
##   P2VEG_SAMPLING_LEVEL_DETAIL_CD INVASIVE_SAMPLING_STATUS_CD
## 1                              2                           1
## 2                              2                           2
## 3                              2                           1
## 4                              2                           1
## 5                              2                           1
## 6                              2                           1
##   INVASIVE_SPECIMEN_RULE_CD DESIGNCD_P2A QA_STATUS       MODIFIED_DATE NBRCND
## 1                         0           NA         1 2022-09-21 18:25:05      2
## 2                         0           NA         1 2022-09-21 18:44:34      1
## 3                         0           NA         1 2022-09-21 18:27:39      1
## 4                         0           NA         1 2022-09-21 18:52:51      2
## 5                         0           NA         1 2022-09-21 18:27:39      1
## 6                         0           NA         1 2022-09-21 18:27:39      1
##   NBRCNDSAMP NBRCNDFOR NBRCNDFTYP CCLIVEPLT        FORNONSAMP        PLOT_ID
## 1          2         0          0       6.0 Sampled-Nonforest ID560300590582
## 2          1         1          1      35.0    Sampled-Forest ID560102990583
## 3          1         1          1      62.0    Sampled-Forest ID560301188410
## 4          2         1          1      34.9    Sampled-Forest ID560304583723
## 5          1         1          1      50.0    Sampled-Forest ID560301189681
## 6          1         1          1      70.0    Sampled-Forest ID560301185577</code></pre>
</details>
</details>
</div>
<div id="example-9-export-data-to-a-sqlite-database" class="section level4">
<h4>Example 9: Export data to a SQLite database</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Wyoming&quot;</span>, </span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>,</span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, <span class="at">evalType =</span> <span class="st">&quot;CURR&quot;</span>),</span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">returndata =</span> <span class="cn">FALSE</span>,</span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">savedata =</span> <span class="cn">TRUE</span>,</span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">savedata_opts =</span> <span class="fu">savedata_options</span>(<span class="at">outfolder =</span> outfolder, </span>
<span id="cb104-7"><a href="#cb104-7" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">out_fmt =</span> <span class="st">&quot;sqlite&quot;</span>,</span>
<span id="cb104-8"><a href="#cb104-8" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">out_dsn =</span> <span class="st">&quot;data.db&quot;</span>,</span>
<span id="cb104-9"><a href="#cb104-9" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">overwrite_dsn =</span> <span class="cn">TRUE</span>,</span>
<span id="cb104-10"><a href="#cb104-10" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">overwrite_layer =</span> <span class="cn">TRUE</span>)</span>
<span id="cb104-11"><a href="#cb104-11" aria-hidden="true" tabindex="-1"></a>           )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Connect to database and list tables</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>sqlitefn <span class="ot">&lt;-</span> <span class="fu">file.path</span>(outfolder, <span class="st">&quot;data.db&quot;</span>)</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>conn <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbConnect</span>(RSQLite<span class="sc">::</span><span class="fu">SQLite</span>(), sqlitefn)</span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>DBI<span class="sc">::</span><span class="fu">dbListTables</span>(conn)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;cond&quot;                   &quot;plot&quot;                   &quot;pltcnt&quot;                
## [4] &quot;pop_plot_stratum_assgn&quot; &quot;xy_PUBLIC&quot;</code></pre>
</details>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Read in plot table</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbReadTable</span>(conn, <span class="st">&quot;plot&quot;</span>)</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(plt)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] 9228   50</code></pre>
</details>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="do">## List fields in plot</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>DBI<span class="sc">::</span><span class="fu">dbListFields</span>(conn, <span class="st">&quot;plot&quot;</span>)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;CN&quot;                             &quot;PREV_PLT_CN&quot;                   
##  [3] &quot;INVYR&quot;                          &quot;STATECD&quot;                       
##  [5] &quot;CYCLE&quot;                          &quot;SUBCYCLE&quot;                      
##  [7] &quot;UNITCD&quot;                         &quot;COUNTYCD&quot;                      
##  [9] &quot;PLOT&quot;                           &quot;PLOT_STATUS_CD&quot;                
## [11] &quot;PLOT_NONSAMPLE_REASN_CD&quot;        &quot;SAMP_METHOD_CD&quot;                
## [13] &quot;SUBP_EXAMINE_CD&quot;                &quot;MANUAL&quot;                        
## [15] &quot;MACRO_BREAKPOINT_DIA&quot;           &quot;INTENSITY&quot;                     
## [17] &quot;MEASYEAR&quot;                       &quot;MEASMON&quot;                       
## [19] &quot;MEASDAY&quot;                        &quot;REMPER&quot;                        
## [21] &quot;KINDCD&quot;                         &quot;DESIGNCD&quot;                      
## [23] &quot;RDDISTCD&quot;                       &quot;WATERCD&quot;                       
## [25] &quot;LON_PUBLIC&quot;                     &quot;LAT_PUBLIC&quot;                    
## [27] &quot;ELEV_PUBLIC&quot;                    &quot;GROW_TYP_CD&quot;                   
## [29] &quot;MORT_TYP_CD&quot;                    &quot;P2PANEL&quot;                       
## [31] &quot;P3PANEL&quot;                        &quot;SUBPANEL&quot;                      
## [33] &quot;DECLINATION&quot;                    &quot;NF_PLOT_STATUS_CD&quot;             
## [35] &quot;NF_PLOT_NONSAMPLE_REASN_CD&quot;     &quot;NF_SAMPLING_STATUS_CD&quot;         
## [37] &quot;P2VEG_SAMPLING_STATUS_CD&quot;       &quot;P2VEG_SAMPLING_LEVEL_DETAIL_CD&quot;
## [39] &quot;INVASIVE_SAMPLING_STATUS_CD&quot;    &quot;INVASIVE_SPECIMEN_RULE_CD&quot;     
## [41] &quot;DESIGNCD_P2A&quot;                   &quot;QA_STATUS&quot;                     
## [43] &quot;MODIFIED_DATE&quot;                  &quot;NBRCND&quot;                        
## [45] &quot;NBRCNDSAMP&quot;                     &quot;NBRCNDFOR&quot;                     
## [47] &quot;NBRCNDFTYP&quot;                     &quot;CCLIVEPLT&quot;                     
## [49] &quot;FORNONSAMP&quot;                     &quot;PLOT_ID&quot;</code></pre>
</details>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Query plot data</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>DBI<span class="sc">::</span><span class="fu">dbGetQuery</span>(conn, <span class="st">&quot;select PLOT_STATUS_CD, count(*) from plot group by PLOT_STATUS_CD&quot;</span>)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##   PLOT_STATUS_CD count(*)
## 1              1     1689
## 2              2     7539</code></pre>
</details>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Disconnect database connection</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>DBI<span class="sc">::</span><span class="fu">dbDisconnect</span>(conn)</span></code></pre></div>
</details>
</div>
<div id="example-10-export-data-to-a-spatialite-database" class="section level4">
<h4>Example 10: Export data to a spatiaLite database</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Note: SpatiaLite is an extension to SQLite, providing vector geodatabase functionality.</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a><span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Wyoming&quot;</span>, </span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>,</span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, <span class="at">evalType =</span> <span class="st">&quot;CURR&quot;</span>),</span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">issp =</span> <span class="cn">TRUE</span>,</span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">returndata =</span> <span class="cn">FALSE</span>,</span>
<span id="cb115-8"><a href="#cb115-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">savedata =</span> <span class="cn">TRUE</span>,</span>
<span id="cb115-9"><a href="#cb115-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">savedata_opts =</span> <span class="fu">savedata_options</span>(<span class="at">outfolder =</span> outfolder, </span>
<span id="cb115-10"><a href="#cb115-10" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">out_fmt =</span> <span class="st">&quot;sqlite&quot;</span>,</span>
<span id="cb115-11"><a href="#cb115-11" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">out_dsn =</span> <span class="st">&quot;datasp.db&quot;</span>,</span>
<span id="cb115-12"><a href="#cb115-12" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">overwrite_dsn =</span> <span class="cn">TRUE</span>,</span>
<span id="cb115-13"><a href="#cb115-13" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">overwrite_layer =</span> <span class="cn">TRUE</span>)</span>
<span id="cb115-14"><a href="#cb115-14" aria-hidden="true" tabindex="-1"></a>           )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state... 
## options:        SPATIALITE=YES 
## Updating layer `xyx_PUBLIC&#39; to data source `C:\Users\tfrescino\AppData\Local\Temp\RtmpUxnvE7/datasp.db&#39; using driver `SQLite&#39;
## options:        GEOMETRY_NAME = geometry 
## Writing 9228 features with 9 fields and geometry type Point.</code></pre>
</details>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Connect to database and list tables</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>splitefn <span class="ot">&lt;-</span> <span class="fu">file.path</span>(outfolder, <span class="st">&quot;datasp.db&quot;</span>)</span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>conn <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbConnect</span>(RSQLite<span class="sc">::</span><span class="fu">SQLite</span>(), splitefn)</span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>DBI<span class="sc">::</span><span class="fu">dbListTables</span>(conn)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;ElementaryGeometries&quot;               &quot;KNN&quot;                               
##  [3] &quot;SpatialIndex&quot;                       &quot;cond&quot;                              
##  [5] &quot;data_licenses&quot;                      &quot;geom_cols_ref_sys&quot;                 
##  [7] &quot;geometry_columns&quot;                   &quot;geometry_columns_auth&quot;             
##  [9] &quot;geometry_columns_field_infos&quot;       &quot;geometry_columns_statistics&quot;       
## [11] &quot;geometry_columns_time&quot;              &quot;idx_xyx_public_GEOMETRY&quot;           
## [13] &quot;idx_xyx_public_GEOMETRY_node&quot;       &quot;idx_xyx_public_GEOMETRY_parent&quot;    
## [15] &quot;idx_xyx_public_GEOMETRY_rowid&quot;      &quot;plot&quot;                              
## [17] &quot;pltcnt&quot;                             &quot;pop_plot_stratum_assgn&quot;            
## [19] &quot;spatial_ref_sys&quot;                    &quot;spatial_ref_sys_all&quot;               
## [21] &quot;spatial_ref_sys_aux&quot;                &quot;spatialite_history&quot;                
## [23] &quot;sql_statements_log&quot;                 &quot;sqlite_sequence&quot;                   
## [25] &quot;vector_layers&quot;                      &quot;vector_layers_auth&quot;                
## [27] &quot;vector_layers_field_infos&quot;          &quot;vector_layers_statistics&quot;          
## [29] &quot;views_geometry_columns&quot;             &quot;views_geometry_columns_auth&quot;       
## [31] &quot;views_geometry_columns_field_infos&quot; &quot;views_geometry_columns_statistics&quot; 
## [33] &quot;virts_geometry_columns&quot;             &quot;virts_geometry_columns_auth&quot;       
## [35] &quot;virts_geometry_columns_field_infos&quot; &quot;virts_geometry_columns_statistics&quot; 
## [37] &quot;xyx_public&quot;</code></pre>
</details>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Disconnect database connection</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>DBI<span class="sc">::</span><span class="fu">dbDisconnect</span>(conn)</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Now, let&#39;s use sf functions to list and read data</span></span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_layers</span>(splitefn)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Driver: SQLite 
## Available layers:
##   layer_name geometry_type features fields crs_name
## 1 xyx_public         Point     9228      9    NAD83</code></pre>
</details>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Import spatial xy coordinates (using sf package)</span></span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>spxy_public <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_read</span>(splitefn, <span class="at">layer=</span><span class="st">&quot;xyx_public&quot;</span>)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Reading layer `xyx_public&#39; from data source 
##   `C:\Users\tfrescino\AppData\Local\Temp\RtmpUxnvE7\datasp.db&#39; 
##   using driver `SQLite&#39;
## Simple feature collection with 9228 features and 9 fields
## Geometry type: POINT
## Dimension:     XY
## Bounding box:  xmin: -111.0554 ymin: 40.99959 xmax: -104.0579 ymax: 44.99897
## Geodetic CRS:  NAD83</code></pre>
</details>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(spxy_public)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] 9228   10</code></pre>
</details>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Display plots with public coordinates</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sf<span class="sc">::</span><span class="fu">st_geometry</span>(spxy_public))</span></code></pre></div>
<details>
<summary>
plot
</summary>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAMAAAAjXV6yAAAABlBMVEUAAAD///+l2Z/dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEp0lEQVR4nO3dS24dVxAE0af9b9ojwzRuUWGkU1YCjjPiR6ruDFCAZvz80E99fvcLrDMQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBD4HYE+n++e+vkc3/v86Re/1u0/eOrn7358+8n5hW+/+A++9+VP5W/fC/HNAzbk719scd5fEQ9o1jjOz4gXNHMc50fkO/8ngfwJQvGCZo7j/I50QbXHe35HuqDa4z2/I11Q7fGenxEvaOY4zs+IFzRzHOd3pAuqPd7zO9IF1R7H/RnpgGqO4/6MdEA1x3F/RjqgmuO4PyMdUM1x3J+RDqjmOO7PSAdUcxz3Z6QDqjne8zvSBdUe7/kd6YJqj/f8jnRBtcdxf0Y6oJrjuD8iHmogGlDNcdyfkQ6o5jjuz0gHVHMc90es/hP73V2+SBdUe7znd6QLqj3e8zvSBdUex/0Z6YBqjvf8jnRBtcd7fke6oNrjPT8jXtDMcd0f4f+DULqg2uM9vyNdUO3xnp8RL2jmuO6viAc0axznZ8QLmjmO8zPiBc0cx/kZ8YJmjuv+inhAs8Z1f0U8oFnjur8iHtCscd1fEQ9o1rjur4gHNGtc91fEA5o1rvsr4gHNGtf9FfGAZo3r/op4QLPGdX9FPKBZ47q/Ih7QrHGcX5EvKNa4zs+IFzRzHOdnxAuaOa77K+IBzRrX/RXxgGaN6/6KeECzxnV/RTygWeO6vyIe0KxxnJ8RL2jmOM7PiBc0cxznZ8QLmjmO8zvSBdUe7/kd6YJqj/f8jnRBtcd7fka8oJnjOD8jXtDMcZyfES9o5jjOz4gXNHMc53ekC6o93vM70gXVHu/5HemCao/3/Ix4QTPHcX5GvKCZ4zg/I17QzHHdn5EOqOY47s9IB1RzHPdnpAOqOY77K+IBzRrX/RXxgGaN6/6KeECzxnV/RTygWeO6PyMdUM3xnt+RLqj2eM/vSBdUe7znZ8QLmjmO8zPiBc0cx/kZ8YJmjuP8jHhBM8d1f0U8oFnjOL8jXVDt8Z7fkS6o9njP70gXVHu853ekC6o93vM70gXVHu/5HemCao/3/Ix4QTPHcX5GvKCZ4zi/I11Q7fGe35EuqPZ4z+9IF1R7HPdXxAOaNc4HtAb+y78ev3+xxTdP+OsFf/L2/3zk18+/fPyL+vjr1ImBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIHAH5IrCWO5V6E8AAAAAElFTkSuQmCC" /><!-- --></p>
</details>
</details>
</div>
<div id="example-11-multiple-states" class="section level4">
<h4>Example 11: Multiple states</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>dat11 <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="fu">c</span>(<span class="st">&quot;Utah&quot;</span>, <span class="st">&quot;Wyoming&quot;</span>), </span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>,</span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, </span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">evalType =</span> <span class="st">&quot;CURR&quot;</span>),</span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a>                    )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat11)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;states&quot;                 &quot;tabs&quot;                   &quot;tabIDs&quot;                
##  [4] &quot;dbqueries&quot;              &quot;puniqueid&quot;              &quot;xy_PUBLIC&quot;             
##  [7] &quot;pop_plot_stratum_assgn&quot; &quot;evalid&quot;                 &quot;pltcnt&quot;                
## [10] &quot;invyrs&quot;</code></pre>
</details>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>plt11 <span class="ot">&lt;-</span> dat11<span class="sc">$</span>tabs<span class="sc">$</span>plt</span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(plt11<span class="sc">$</span>STATECD)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
##   49   56 
## 8785 9228</code></pre>
</details>
</details>
</div>
<div id="example-12-for-all-states-in-a-research-station" class="section level4">
<h4>Example 12: For all states in a Research Station</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>dat12 <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">RS =</span> <span class="st">&quot;RMRS&quot;</span>, </span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>,</span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, </span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">evalType =</span> <span class="st">&quot;CURR&quot;</span>),</span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a>                    )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat12)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;states&quot;                 &quot;tabs&quot;                   &quot;tabIDs&quot;                
##  [4] &quot;dbqueries&quot;              &quot;puniqueid&quot;              &quot;xy_PUBLIC&quot;             
##  [7] &quot;pop_plot_stratum_assgn&quot; &quot;evalid&quot;                 &quot;pltcnt&quot;                
## [10] &quot;invyrs&quot;</code></pre>
</details>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>plt12 <span class="ot">&lt;-</span> dat12<span class="sc">$</span>tabs<span class="sc">$</span>plt</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(plt12<span class="sc">$</span>STATECD)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
##     4     8    16    30    32    35    49    56 
## 11875 10811  8749 15290 11315 12092  8785  9228</code></pre>
</details>
</details>
</div>
<div id="example-13-most-current-evaluation-for-multiple-evaltypes-all-vol-grm" class="section level4">
<h4>Example 13: Most current evaluation for multiple evalTypes (‘ALL’,
‘VOL’, ‘GRM’)</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>dat13 <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Vermont&quot;</span>, </span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>,</span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, </span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">evalType =</span> <span class="fu">c</span>(<span class="st">&quot;VOL&quot;</span>, <span class="st">&quot;CHNG&quot;</span>, <span class="st">&quot;P2VEG&quot;</span>)),</span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a>                    )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state... 
## 
##  ## STATUS: GETTING PLOT/COND CHANGE DATA ( VT ) ...</code></pre>
</details>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat13)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;states&quot;                 &quot;tabs&quot;                   &quot;tabIDs&quot;                
##  [4] &quot;dbqueries&quot;              &quot;puniqueid&quot;              &quot;xy_PUBLIC&quot;             
##  [7] &quot;pop_plot_stratum_assgn&quot; &quot;evalid&quot;                 &quot;pltcnt&quot;                
## [10] &quot;invyrs&quot;</code></pre>
</details>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>tabs13 <span class="ot">&lt;-</span> dat13<span class="sc">$</span>tabs</span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(tabs13)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;pltu&quot; &quot;plt&quot;  &quot;cond&quot;</code></pre>
</details>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>ppsa13 <span class="ot">&lt;-</span> dat13<span class="sc">$</span>pop_plot_stratum_assgn</span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(ppsa13<span class="sc">$</span>EVALID)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
## 502001 502003 502010 
##   1120   1011    117</code></pre>
</details>
</details>
</div>
<div id="example-14-get-data-for-multiple-evalids" class="section level4">
<h4>Example 14: Get data for multiple evalids</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a>dat14 <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>,</span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, </span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">evalid =</span> <span class="fu">c</span>(<span class="dv">491800</span>, <span class="dv">491801</span>, <span class="dv">491803</span>)),</span>
<span id="cb146-4"><a href="#cb146-4" aria-hidden="true" tabindex="-1"></a>                    )</span>
<span id="cb146-5"><a href="#cb146-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-6"><a href="#cb146-6" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat14)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;states&quot;                 &quot;tabs&quot;                   &quot;tabIDs&quot;                
##  [4] &quot;dbqueries&quot;              &quot;puniqueid&quot;              &quot;xy_PUBLIC&quot;             
##  [7] &quot;pop_plot_stratum_assgn&quot; &quot;evalid&quot;                 &quot;pltcnt&quot;                
## [10] &quot;invyrs&quot;</code></pre>
</details>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>tabs14 <span class="ot">&lt;-</span> dat14<span class="sc">$</span>tabs</span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(tabs14)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;tree&quot; &quot;seed&quot; &quot;plt&quot;  &quot;cond&quot;</code></pre>
</details>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>ppsa14 <span class="ot">&lt;-</span> dat14<span class="sc">$</span>pop_plot_stratum_assgn</span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(ppsa14<span class="sc">$</span>EVALID)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
## 491800 491801 491803 
##   9171   8830   7857</code></pre>
</details>
</details>
</div>
<div id="example-15-get-data-for-multiple-states-by-endyr" class="section level4">
<h4>Example 15: Get data for multiple states by Endyr</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>dat15 <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states=</span><span class="fu">c</span>(<span class="st">&quot;Utah&quot;</span>, <span class="st">&quot;Texas&quot;</span>, <span class="st">&quot;New York&quot;</span>, <span class="st">&quot;Oregon&quot;</span>), </span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>,</span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, </span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">evalType =</span> <span class="st">&quot;ALL&quot;</span>,</span>
<span id="cb152-5"><a href="#cb152-5" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">Endyr =</span> <span class="dv">2017</span>),</span>
<span id="cb152-6"><a href="#cb152-6" aria-hidden="true" tabindex="-1"></a>                    )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat15)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;states&quot;                 &quot;tabs&quot;                   &quot;tabIDs&quot;                
##  [4] &quot;dbqueries&quot;              &quot;puniqueid&quot;              &quot;xy_PUBLIC&quot;             
##  [7] &quot;pop_plot_stratum_assgn&quot; &quot;evalid&quot;                 &quot;pltcnt&quot;                
## [10] &quot;invyrs&quot;</code></pre>
</details>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>tabs15 <span class="ot">&lt;-</span> dat15<span class="sc">$</span>tabs</span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(tabs15)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;plt&quot;  &quot;cond&quot;</code></pre>
</details>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>ppsa15 <span class="ot">&lt;-</span> dat15<span class="sc">$</span>pop_plot_stratum_assgn</span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(ppsa15<span class="sc">$</span>EVALID)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
## 361700 411700 481700 491700 
##   5300  15331  29155   9171</code></pre>
</details>
</details>
</div>
<div id="example-16-get-data-for-multiple-eval-endyrs" class="section level4">
<h4>Example 16: Get data for multiple eval Endyrs</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>dat16 <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Vermont&quot;</span>, </span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>,</span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, </span>
<span id="cb160-4"><a href="#cb160-4" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">evalType =</span> <span class="st">&quot;VOL&quot;</span>,</span>
<span id="cb160-5"><a href="#cb160-5" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">Endyr =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2019</span>),</span>
<span id="cb160-6"><a href="#cb160-6" aria-hidden="true" tabindex="-1"></a>                    )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat16)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;states&quot;                 &quot;tabs&quot;                   &quot;tabIDs&quot;                
##  [4] &quot;dbqueries&quot;              &quot;puniqueid&quot;              &quot;xy_PUBLIC&quot;             
##  [7] &quot;pop_plot_stratum_assgn&quot; &quot;evalid&quot;                 &quot;pltcnt&quot;                
## [10] &quot;invyrs&quot;</code></pre>
</details>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a>tabs16 <span class="ot">&lt;-</span> dat16<span class="sc">$</span>tabs</span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(tabs16)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;tree&quot; &quot;seed&quot; &quot;plt&quot;  &quot;cond&quot;</code></pre>
</details>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a>ppsa16 <span class="ot">&lt;-</span> dat16<span class="sc">$</span>pop_plot_stratum_assgn</span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(ppsa16<span class="sc">$</span>EVALID)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
## 501501 501601 501701 501801 501901 
##   1101   1122   1125   1125   1124</code></pre>
</details>
</details>
</div>
<div id="example-17-get-data-for-multiple-eval-endyrs" class="section level4">
<h4>Example 17: Get data for multiple eval Endyrs</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a>dat17 <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Wyoming&quot;</span>, </span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">eval =</span> <span class="st">&quot;custom&quot;</span>,</span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">invyrs =</span> <span class="dv">2012</span><span class="sc">:</span><span class="dv">2014</span>, </span>
<span id="cb168-4"><a href="#cb168-4" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">evalType =</span> <span class="st">&quot;ALL&quot;</span>),</span>
<span id="cb168-5"><a href="#cb168-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">issp =</span> <span class="cn">TRUE</span></span>
<span id="cb168-6"><a href="#cb168-6" aria-hidden="true" tabindex="-1"></a>                    )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat17)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;states&quot;    &quot;tabs&quot;      &quot;tabIDs&quot;    &quot;dbqueries&quot; &quot;puniqueid&quot; &quot;xy_PUBLIC&quot;
## [7] &quot;pltcnt&quot;    &quot;invyrs&quot;</code></pre>
</details>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a>tabs17 <span class="ot">&lt;-</span> dat17<span class="sc">$</span>tabs</span>
<span id="cb172-2"><a href="#cb172-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(tabs17)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;plt&quot;  &quot;cond&quot;</code></pre>
</details>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a>plt17 <span class="ot">&lt;-</span> tabs17<span class="sc">$</span>plt</span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-3"><a href="#cb174-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(plt17<span class="sc">$</span>INVYR)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
## 2012 2013 2014 
## 1077 1013 1073</code></pre>
</details>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at output</span></span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sf<span class="sc">::</span><span class="fu">st_geometry</span>(dat17<span class="sc">$</span>xy_PUBLIC))</span></code></pre></div>
<details>
<summary>
plot
</summary>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAMAAAAjXV6yAAAABlBMVEUAAAD///+l2Z/dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEoElEQVR4nO3dQW4cWRAD0Z77X9rwZhb+aYeHomFiEG8loQVWZaD3+vyjX/r87RdYZyBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIPA3An0+n5/8/vn+4w8ff/4VjX/Vnw/0WfCF1++V+MkDNuTvX2xx7q+ID2jWOOZnxBc0cxzzM+ILmjmO+RnxBc0cx/yM+IJmjmN+R3pBtcc7vyO9oNrjnd+RXlDt8c7PiC9o5jjmZ8QXNHMc8zvSC6o93vkd6QXVHsf+jPSAao53fkd6QbXHO78jvaDa453fkV5Q7XHsz0gPqOY49mekB1RzHPsz0gOqOd75HekF1R7v/I70gmqPd35HekG1xzu/I72g2uOd35FeUO1x7M9ID6jmOPZnpAdUc7zzO9ILqj3e+R3pBdUe7/yO9IJqj3d+R3pBtcc7vyO9oNrj2J+RHlDN8c7PiC9o5jjmZ8QXNHMc8zPiC5o5rv0V8QHNGsf8jvSCao93fkd6QbXHO78jvaDa49ifkR5QzfHO70gvqPZ452fEFzRzHPMz4guaOa79FfEBzRrX/or4gGaNa39GekA1x7E/Iz2gmuPYn5EeUM1x7K+ID2jWuPZXxAc0a1z7K+IDmjWu/RXxAc0a1/6K+IBmjWt/RXxAs8YxPyO+oJnjmJ8RX9DMcczPiC9o5rj2V8QHNGtc+yviA5o1rv0V8QHNGtf+iviAZo1rf0V8QLPGMT8jvqCZ45ifEV/QzHHMz4gvaOY45mfEFzRzHPMz4guaOY75GfEFzRzH/Iz4gmaOY35GfEEzxzE/I76gmeOYnxFf0MxxzO9IL6j2eOd3pBdUe7zzO9ILqj3e+RnxBc0cx/yM+IJmjmN+RnxBM8e1vyI+oFnj2l8RH9Csce2viA9o1rj2V8QHNGtc+yviA5o1rv0V8QHNGtf+iviAZo1rf0V8QLPGMT8jvqCZ45ifEV/QzHHMz4gvaOY45mfEFzRzHPMz4guaOY75GfEFzRzX/or4gGaNY35GfEEzxzE/I76gmeOYnxFf0MxxzO9IL6j2eOd3pBdUe7zzO9ILqj3e+RnxBc0cx/yM+IJmjmN+R3pBtcc7vyO9oNrjnd+RXlDtceyviA9o1jgf8F+O+FN1hv9T728X+s0/DL+TX3j9Xon/JwMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBA4FvMcEJQzk9LLIAAAAASUVORK5CYII=" /><!-- --></p>
</details>
</details>
</div>
<div id="example-18-get-data-for-multiple-states-different-inventory-years" class="section level4">
<h4>Example 18: Get data for multiple states, different inventory
years</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a>dat18 <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Wyoming&quot;</span>, </span>
<span id="cb177-2"><a href="#cb177-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">invtype =</span> <span class="st">&quot;PERIODIC&quot;</span>,</span>
<span id="cb177-3"><a href="#cb177-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>,</span>
<span id="cb177-4"><a href="#cb177-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">eval_opts =</span> <span class="fu">list</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, </span>
<span id="cb177-5"><a href="#cb177-5" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">evalType =</span> <span class="st">&quot;VOL&quot;</span>)</span>
<span id="cb177-6"><a href="#cb177-6" aria-hidden="true" tabindex="-1"></a>                    )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat18)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;states&quot;                 &quot;tabs&quot;                   &quot;tabIDs&quot;                
##  [4] &quot;dbqueries&quot;              &quot;puniqueid&quot;              &quot;xy_PUBLIC&quot;             
##  [7] &quot;pop_plot_stratum_assgn&quot; &quot;evalid&quot;                 &quot;pltcnt&quot;                
## [10] &quot;invyrs&quot;</code></pre>
</details>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a>tabs18 <span class="ot">&lt;-</span> dat18<span class="sc">$</span>tabs</span>
<span id="cb181-2"><a href="#cb181-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(tabs18)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;tree&quot; &quot;seed&quot; &quot;plt&quot;  &quot;cond&quot;</code></pre>
</details>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a>plt18 <span class="ot">&lt;-</span> tabs18<span class="sc">$</span>plt</span>
<span id="cb183-2"><a href="#cb183-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-3"><a href="#cb183-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(plt18<span class="sc">$</span>STATECD, plt18<span class="sc">$</span>INVYR)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##     
##      2000
##   56 9956</code></pre>
</details>
</details>
</div>
<div id="example-19-get-data-for-most-current-fia-evaluation-and-most-current-custom-evaluation" class="section level4">
<h4>Example 19: Get data for most current FIA Evaluation and most
current custom Evaluation</h4>
<details>
<summary>
View Example
</summary>
<p>The objective of this section is to understand the differences when
extracting plots for the most current evaluation (evalCur=TRUE) and the
most current measurement (measCur=TRUE).</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Most current evaluation for Utah</span></span>
<span id="cb185-2"><a href="#cb185-2" aria-hidden="true" tabindex="-1"></a>UTevalCur <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Utah&quot;</span>, </span>
<span id="cb185-3"><a href="#cb185-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>,</span>
<span id="cb185-4"><a href="#cb185-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>,</span>
<span id="cb185-5"><a href="#cb185-5" aria-hidden="true" tabindex="-1"></a>                                                 <span class="at">evalType =</span> <span class="st">&quot;ALL&quot;</span>)</span>
<span id="cb185-6"><a href="#cb185-6" aria-hidden="true" tabindex="-1"></a>                        )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(UTevalCur)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;states&quot;                 &quot;tabs&quot;                   &quot;tabIDs&quot;                
##  [4] &quot;dbqueries&quot;              &quot;puniqueid&quot;              &quot;xy_PUBLIC&quot;             
##  [7] &quot;pop_plot_stratum_assgn&quot; &quot;evalid&quot;                 &quot;pltcnt&quot;                
## [10] &quot;invyrs&quot;</code></pre>
</details>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a>tabs.UTevalCur <span class="ot">&lt;-</span> UTevalCur<span class="sc">$</span>tabs</span>
<span id="cb189-2"><a href="#cb189-2" aria-hidden="true" tabindex="-1"></a>plt.UTevalCur <span class="ot">&lt;-</span> tabs.UTevalCur<span class="sc">$</span>plt</span>
<span id="cb189-3"><a href="#cb189-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-4"><a href="#cb189-4" aria-hidden="true" tabindex="-1"></a><span class="do">## The difference in number of plots by inventory year and measurement year</span></span>
<span id="cb189-5"><a href="#cb189-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(plt.UTevalCur<span class="sc">$</span>INVYR, plt.UTevalCur<span class="sc">$</span>MEASYEAR)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##       
##        2010 2011 2012 2013 2014 2015 2016 2017 2018 2019
##   2010  874    4   20    5    1    4    0    0    0    0
##   2011    0  883   32   20    2    3    0    1    0    0
##   2012    0    0  897   20    2    1    0    0    0    0
##   2013    0    1   17  859   13    6    0    0    0    0
##   2014    0    1   22    0  889   10    0    0    0    0
##   2015    0    1   28    0    0  883   15    4    3    1
##   2016    0    0   20    0    0    0  828   50   11    4
##   2017    0    0    1    0    0    0    0  890   31   10
##   2018    0    0    0    0    0    0    0    0  843   30
##   2019    0    0    0    0    0    0    0    0    0  931</code></pre>
</details>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Most current measurement for Utah</span></span>
<span id="cb191-2"><a href="#cb191-2" aria-hidden="true" tabindex="-1"></a>UTmeasCur <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Utah&quot;</span>, </span>
<span id="cb191-3"><a href="#cb191-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">eval =</span> <span class="st">&quot;custom&quot;</span>,</span>
<span id="cb191-4"><a href="#cb191-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>,</span>
<span id="cb191-5"><a href="#cb191-5" aria-hidden="true" tabindex="-1"></a>                                                 <span class="at">evalType =</span> <span class="st">&quot;ALL&quot;</span>)</span>
<span id="cb191-6"><a href="#cb191-6" aria-hidden="true" tabindex="-1"></a>                        )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(UTmeasCur)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;states&quot;       &quot;tabs&quot;         &quot;tabIDs&quot;       &quot;dbqueries&quot;    &quot;puniqueid&quot;   
## [6] &quot;xyCur_PUBLIC&quot; &quot;pltcnt&quot;</code></pre>
</details>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a>tabs.UTmeasCur <span class="ot">&lt;-</span> UTmeasCur<span class="sc">$</span>tabs</span>
<span id="cb195-2"><a href="#cb195-2" aria-hidden="true" tabindex="-1"></a>plt.UTmeasCur <span class="ot">&lt;-</span> tabs.UTmeasCur<span class="sc">$</span>plt</span>
<span id="cb195-3"><a href="#cb195-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-4"><a href="#cb195-4" aria-hidden="true" tabindex="-1"></a><span class="do">## The difference in number of plots by inventory year and measurement year</span></span>
<span id="cb195-5"><a href="#cb195-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(plt.UTmeasCur<span class="sc">$</span>INVYR, plt.UTmeasCur<span class="sc">$</span>MEASYEAR)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##       
##        2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013
##   2000  927    1    0    1    0    2    0    0    0    0    0    0    0    0
##   2001    0  944   12    0    0    0    0    0    0    0    0    0    0    0
##   2002    0   13  927    0    0    0    0    0    0    0    0    0    0    0
##   2003    0    0    0  917    0    0    0    0    0    0    0    0    0    0
##   2004    0    0    0    0  925    0    1    0    7    4    0    0    0    0
##   2005    0    0    0    0    0  954    3    0    3    1    0    0    0    0
##   2006    0    0    0    0    0    0  901    4    1    7    0    0    0    0
##   2007    0    0    0    0    0    0    0  911   16    5    0    0    0    0
##   2008    0    0    0    0    0    0    0    0  855   18    0    0    0    0
##   2009    0    0    0    0    0    0    0    0    0  925    6    0    0    0
##   2010    0    0    0    0    0    0    0    0    0    0  874    4   20    5
##   2011    0    0    0    0    0    0    0    0    0    0    0  883   32   20
##   2012    0    0    0    0    0    0    0    0    0    0    0    0  897   20
##   2013    0    0    0    0    0    0    0    0    0    0    0    1   17  859
##   2014    0    0    0    0    0    0    0    0    0    0    0    1   22    0
##   2015    0    0    0    0    0    0    0    0    0    0    0    1   28    0
##   2016    0    0    0    0    0    0    0    0    0    0    0    0   20    0
##   2017    0    0    0    0    0    0    0    0    0    0    0    0    1    0
##   2018    0    0    0    0    0    0    0    0    0    0    0    0    0    0
##   2019    0    0    0    0    0    0    0    0    0    0    0    0    0    0
##       
##        2014 2015 2016 2017 2018 2019
##   2000    0    0    0    0    0    0
##   2001    0    0    0    0    0    0
##   2002    0    0    0    0    0    0
##   2003    0    0    0    0    0    0
##   2004    0    0    0    0    0    0
##   2005    0    0    0    0    0    0
##   2006    0    0    0    0    0    0
##   2007    0    0    0    0    0    0
##   2008    0    0    0    0    0    0
##   2009    0    0    0    0    0    0
##   2010    1    4    0    0    0    0
##   2011    2    3    0    1    0    0
##   2012    2    1    0    0    0    0
##   2013   13    6    0    0    0    0
##   2014  889   10    0    0    0    0
##   2015    0  883   15    4    3    1
##   2016    0    0  828   50   11    4
##   2017    0    0    0  890   31   10
##   2018    0    0    0    0  843   30
##   2019    0    0    0    0    0  931</code></pre>
</details>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="do">## See that nonsampled plots (PLOT_STATUS_CD=3) decrease in number.</span></span>
<span id="cb197-2"><a href="#cb197-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Nonsampled plots that remain are plots that were nonsampled in every measurement cycle.</span></span>
<span id="cb197-3"><a href="#cb197-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(plt.UTmeasCur<span class="sc">$</span>PLOT_STATUS_CD)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
##     1     2     3 
##  6348 11494   620</code></pre>
</details>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(plt.UTevalCur<span class="sc">$</span>PLOT_STATUS_CD)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
##    1    2    3 
## 3038 5747  386</code></pre>
</details>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Let&#39;s look at an example for plot location 889 in county 78</span></span>
<span id="cb201-2"><a href="#cb201-2" aria-hidden="true" tabindex="-1"></a><span class="do">## In the most current evaluation, inventory year 2012, the plot was denied access, and not sampled (PLOT_STATUS_CD=3 and PLOT_NONSAMPLE_REASN_CD=2)</span></span>
<span id="cb201-3"><a href="#cb201-3" aria-hidden="true" tabindex="-1"></a><span class="do">## The same plot was measured previously, in 2002, and was found with forest (PLOT_STATUS_CD=1)</span></span>
<span id="cb201-4"><a href="#cb201-4" aria-hidden="true" tabindex="-1"></a><span class="do">## We can use this information, with the caveat that the plot hasn&#39;t changed much</span></span>
<span id="cb201-5"><a href="#cb201-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb201-6"><a href="#cb201-6" aria-hidden="true" tabindex="-1"></a>plt.UTevalCur[plt.UTevalCur<span class="sc">$</span>PLOT_ID <span class="sc">==</span> <span class="st">&quot;ID490400780889&quot;</span>,]</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##                  CN   PREV_PLT_CN INVYR STATECD CYCLE SUBCYCLE UNITCD COUNTYCD
## 5685 40383865010690 2377367010690  2012      49     3        3      4        7
##       PLOT PLOT_STATUS_CD PLOT_NONSAMPLE_REASN_CD SAMP_METHOD_CD
## 5685 80889              3                       2              1
##      SUBP_EXAMINE_CD MANUAL MACRO_BREAKPOINT_DIA INTENSITY MEASYEAR MEASMON
## 5685               1      6                   NA         1     2014       8
##      MEASDAY REMPER KINDCD DESIGNCD RDDISTCD WATERCD LON_PUBLIC LAT_PUBLIC
## 5685       5   12.1      2        1       NA      NA   -111.088   39.73064
##      ELEV_PUBLIC GROW_TYP_CD MORT_TYP_CD P2PANEL P3PANEL SUBPANEL DECLINATION
## 5685        9110           2           2       4      NA        1          NA
##      NF_PLOT_STATUS_CD NF_PLOT_NONSAMPLE_REASN_CD NF_SAMPLING_STATUS_CD
## 5685                NA                         NA                     0
##      P2VEG_SAMPLING_STATUS_CD P2VEG_SAMPLING_LEVEL_DETAIL_CD
## 5685                        1                              2
##      INVASIVE_SAMPLING_STATUS_CD INVASIVE_SPECIMEN_RULE_CD DESIGNCD_P2A
## 5685                           1                         0           NA
##      QA_STATUS       MODIFIED_DATE NBRCND NBRCNDSAMP NBRCNDFOR NBRCNDFTYP
## 5685         1 2022-10-13 13:05:34      1          0         0          0
##      CCLIVEPLT               FORNONSAMP        PLOT_ID
## 5685        70 Nonsampled-Denied access ID490400780889</code></pre>
</details>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a>plt.UTmeasCur[plt.UTmeasCur<span class="sc">$</span>PLOT_ID <span class="sc">==</span> <span class="st">&quot;ID490400780889&quot;</span>,]</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##                   CN   PREV_PLT_CN INVYR STATECD CYCLE SUBCYCLE UNITCD COUNTYCD
## 7385   2377367010690                2002      49     2        3      4        7
## 13119 40383865010690 2377367010690  2012      49     3        3      4        7
##        PLOT PLOT_STATUS_CD PLOT_NONSAMPLE_REASN_CD SAMP_METHOD_CD
## 7385  80889              1                      NA              1
## 13119 80889              3                       2              1
##       SUBP_EXAMINE_CD MANUAL MACRO_BREAKPOINT_DIA INTENSITY MEASYEAR MEASMON
## 7385                4    1.6                   NA         1     2002       7
## 13119               1    6.0                   NA         1     2014       8
##       MEASDAY REMPER KINDCD DESIGNCD RDDISTCD WATERCD LON_PUBLIC LAT_PUBLIC
## 7385        9     NA      1        1        8       0   -111.088   39.73064
## 13119       5   12.1      2        1       NA      NA   -111.088   39.73064
##       ELEV_PUBLIC GROW_TYP_CD MORT_TYP_CD P2PANEL P3PANEL SUBPANEL DECLINATION
## 7385         9110           1           1       4      NA        1          NA
## 13119        9110           2           2       4      NA        1          NA
##       NF_PLOT_STATUS_CD NF_PLOT_NONSAMPLE_REASN_CD NF_SAMPLING_STATUS_CD
## 7385                 NA                         NA                     0
## 13119                NA                         NA                     0
##       P2VEG_SAMPLING_STATUS_CD P2VEG_SAMPLING_LEVEL_DETAIL_CD
## 7385                         1                              2
## 13119                        1                              2
##       INVASIVE_SAMPLING_STATUS_CD INVASIVE_SPECIMEN_RULE_CD DESIGNCD_P2A
## 7385                            1                         0           NA
## 13119                           1                         0           NA
##       QA_STATUS       MODIFIED_DATE NBRCND NBRCNDSAMP NBRCNDFOR NBRCNDFTYP
## 7385          1 2022-10-13 13:05:34      1          1         1          1
## 13119         1 2022-10-13 13:05:34      1          0         0          0
##       CCLIVEPLT               FORNONSAMP        PLOT_ID
## 7385         76           Sampled-Forest ID490400780889
## 13119        70 Nonsampled-Denied access ID490400780889</code></pre>
</details>
</details>
</div>
<div id="example-20-get-data-for-most-current-fia-evaluation-and-most-current-custom-evaluation" class="section level4">
<h4>Example 20: Get data for most current FIA Evaluation and most
current custom Evaluation</h4>
<details>
<summary>
View Example
</summary>
<p>Let’s look at the most current evaluation for Oregon.</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Most current evaluation for Oregon</span></span>
<span id="cb205-2"><a href="#cb205-2" aria-hidden="true" tabindex="-1"></a>ORevalCur <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Oregon&quot;</span>, </span>
<span id="cb205-3"><a href="#cb205-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>,</span>
<span id="cb205-4"><a href="#cb205-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>,</span>
<span id="cb205-5"><a href="#cb205-5" aria-hidden="true" tabindex="-1"></a>                                                 <span class="at">evalType =</span> <span class="st">&quot;ALL&quot;</span>)</span>
<span id="cb205-6"><a href="#cb205-6" aria-hidden="true" tabindex="-1"></a>                        )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ORevalCur)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;states&quot;                 &quot;tabs&quot;                   &quot;tabIDs&quot;                
##  [4] &quot;dbqueries&quot;              &quot;puniqueid&quot;              &quot;xy_PUBLIC&quot;             
##  [7] &quot;pop_plot_stratum_assgn&quot; &quot;evalid&quot;                 &quot;pltcnt&quot;                
## [10] &quot;invyrs&quot;</code></pre>
</details>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a>tabs.ORevalCur <span class="ot">&lt;-</span> ORevalCur<span class="sc">$</span>tabs</span>
<span id="cb209-2"><a href="#cb209-2" aria-hidden="true" tabindex="-1"></a>plt.ORevalCur <span class="ot">&lt;-</span> tabs.ORevalCur<span class="sc">$</span>plt</span>
<span id="cb209-3"><a href="#cb209-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb209-4"><a href="#cb209-4" aria-hidden="true" tabindex="-1"></a><span class="do">## The difference in number of plots by inventory year and measurement year</span></span>
<span id="cb209-5"><a href="#cb209-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(plt.ORevalCur<span class="sc">$</span>INVYR, plt.ORevalCur<span class="sc">$</span>MEASYEAR)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##       
##        2010 2011 2012 2013 2014 2015 2016 2017 2018 2019
##   2010 1511   21    3    0    0    0    0    0    0    0
##   2011    0 1514   20    1    0    0    0    0    0    0
##   2012    0    0 1519    8    3    0    0    0    0    0
##   2013    0    0    0 1501   15    4    0    0    0    0
##   2014    0    0    0    0 1514   31    1    0    0    0
##   2015    0    0    0    0    0 1496   36    6    0    0
##   2016    0    0    0    0    0    0 1515   11   10    0
##   2017    0    0    0    0    0    0    0 1423   94   24
##   2018    0    0    0    0    0    0    0    0 1600   52
##   2019    0    0    0    0    0    0    0    0    0 1637</code></pre>
</details>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Most current measurement for Oregon</span></span>
<span id="cb211-2"><a href="#cb211-2" aria-hidden="true" tabindex="-1"></a>ORmeasCur <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Oregon&quot;</span>, </span>
<span id="cb211-3"><a href="#cb211-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">eval =</span> <span class="st">&quot;custom&quot;</span>,</span>
<span id="cb211-4"><a href="#cb211-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>,</span>
<span id="cb211-5"><a href="#cb211-5" aria-hidden="true" tabindex="-1"></a>                                                 <span class="at">evalType =</span> <span class="st">&quot;ALL&quot;</span>)</span>
<span id="cb211-6"><a href="#cb211-6" aria-hidden="true" tabindex="-1"></a>                          )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ORmeasCur)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;states&quot;       &quot;tabs&quot;         &quot;tabIDs&quot;       &quot;dbqueries&quot;    &quot;puniqueid&quot;   
## [6] &quot;xyCur_PUBLIC&quot; &quot;pltcnt&quot;</code></pre>
</details>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a>tabs.ORmeasCur <span class="ot">&lt;-</span> ORmeasCur<span class="sc">$</span>tabs</span>
<span id="cb215-2"><a href="#cb215-2" aria-hidden="true" tabindex="-1"></a>plt.ORmeasCur <span class="ot">&lt;-</span> tabs.ORmeasCur<span class="sc">$</span>plt</span>
<span id="cb215-3"><a href="#cb215-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-4"><a href="#cb215-4" aria-hidden="true" tabindex="-1"></a><span class="do">## The difference in number of plots by inventory year and measurement year</span></span>
<span id="cb215-5"><a href="#cb215-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(plt.ORmeasCur<span class="sc">$</span>INVYR, plt.ORmeasCur<span class="sc">$</span>MEASYEAR)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##       
##        1999 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013
##   2001   25 1522    0    0    0    0    0    0    0    0    0    0    0    0
##   2002   13    0 1511   16    0    0    0    0    0    0    0    0    0    0
##   2003   13    0    2 1488   17    0    0    2    0    0    0    0    0    0
##   2004    0    0    0    0 1522   26    1    0    0    0    0    0    0    0
##   2005    0    0    0    0    1 1548    7    0    0    9    0    0    0    0
##   2006    0    0    0    0    0    0 1472   75    1   14    0    0    0    0
##   2007    0    0    0    0    0    0    0 1507   46   11    0    0    0    0
##   2008    0    0    0    0    0    0    0    0 1440  106    6    0    0    0
##   2009    0    0    0    0    0    0    0    0    0 1524   15    3    0    0
##   2010    0    0    0    0    0    0    0    0    0    2 1543   21    3    0
##   2011    0    0    0    0    0    0    0    0    0    0    0 1534   20    1
##   2012    0    0    0    0    0    0    0    0    0    0    0    0 1548    8
##   2013    0    0    0    0    0    0    0    0    0    0    0    0    0 1523
##   2014    0    0    0    0    0    0    0    0    0    0    0    0    0    0
##   2015    0    0    0    0    0    0    0    0    0    0    0    0    0    0
##   2016    0    0    0    0    0    0    0    0    0    0    0    0    0    0
##   2017    0    0    0    0    0    0    0    0    0    0    0    0    0    0
##   2018    0    0    0    0    0    0    0    0    0    0    0    0    0    0
##   2019    0    0    0    0    0    0    0    0    0    0    0    0    0    0
##       
##        2014 2015 2016 2017 2018 2019
##   2001    0    0    0    0    0    0
##   2002    0    0    0    0    0    0
##   2003    0    0    0    0    0    0
##   2004    0    0    0    0    0    0
##   2005    0    0    0    0    0    0
##   2006    0    0    0    0    0    0
##   2007    0    0    0    0    0    0
##   2008    0    0    0    0    0    0
##   2009    0    0    0    0    0    0
##   2010    0    0    0    0    0    0
##   2011    0    0    0    0    0    0
##   2012    3    0    0    0    0    0
##   2013   15    4    0    0    0    0
##   2014 1547   31    1    0    0    0
##   2015    0 1527   36    6    0    0
##   2016    0    0 1549   11   10    0
##   2017    0    0    0 1448   94   24
##   2018    0    0    0    0 1649   53
##   2019    0    0    0    0    0 1685</code></pre>
</details>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="do">## See that nonsampled plots (PLOT_STATUS_CD=3) decrease in number.</span></span>
<span id="cb217-2"><a href="#cb217-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Nonsampled plots that remain are plots that were nonsampled in every measurement cycle.</span></span>
<span id="cb217-3"><a href="#cb217-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(plt.ORmeasCur<span class="sc">$</span>PLOT_STATUS_CD)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
##     1     2     3 
## 18675 10138  1026</code></pre>
</details>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(plt.ORevalCur<span class="sc">$</span>PLOT_STATUS_CD)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
##    1    2    3 
## 9712 5327  531</code></pre>
</details>
</details>
</div>
<div id="example-21-intensity" class="section level4">
<h4>Example 21: Intensity</h4>
<details>
<summary>
View Example
</summary>
<p>The objective of this section is to understand the differences when
using INTENSITY=1.</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a><span class="do">## With intensified plots</span></span>
<span id="cb221-2"><a href="#cb221-2" aria-hidden="true" tabindex="-1"></a>dat21a <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Vermont&quot;</span>, </span>
<span id="cb221-3"><a href="#cb221-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>,</span>
<span id="cb221-4"><a href="#cb221-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">eval_opts =</span> <span class="fu">list</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, </span>
<span id="cb221-5"><a href="#cb221-5" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">Type =</span> <span class="st">&quot;ALL&quot;</span>)</span>
<span id="cb221-6"><a href="#cb221-6" aria-hidden="true" tabindex="-1"></a>                    )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a>tabs21a <span class="ot">&lt;-</span> dat21a<span class="sc">$</span>tabs</span>
<span id="cb223-2"><a href="#cb223-2" aria-hidden="true" tabindex="-1"></a>plt21a <span class="ot">&lt;-</span> tabs21a<span class="sc">$</span>plt</span>
<span id="cb223-3"><a href="#cb223-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb223-4"><a href="#cb223-4" aria-hidden="true" tabindex="-1"></a><span class="do">## With only P2 plots (intensity1 = TRUE)</span></span>
<span id="cb223-5"><a href="#cb223-5" aria-hidden="true" tabindex="-1"></a>dat21b <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Vermont&quot;</span>, </span>
<span id="cb223-6"><a href="#cb223-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">eval =</span> <span class="st">&quot;FIA&quot;</span>,</span>
<span id="cb223-7"><a href="#cb223-7" aria-hidden="true" tabindex="-1"></a>                    <span class="at">eval_opts =</span> <span class="fu">list</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, </span>
<span id="cb223-8"><a href="#cb223-8" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">Type =</span> <span class="st">&quot;ALL&quot;</span>),</span>
<span id="cb223-9"><a href="#cb223-9" aria-hidden="true" tabindex="-1"></a>                    <span class="at">intensity1 =</span> <span class="cn">TRUE</span></span>
<span id="cb223-10"><a href="#cb223-10" aria-hidden="true" tabindex="-1"></a>                    )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="#cb225-1" aria-hidden="true" tabindex="-1"></a>tabs21b <span class="ot">&lt;-</span> dat21b<span class="sc">$</span>tabs</span>
<span id="cb225-2"><a href="#cb225-2" aria-hidden="true" tabindex="-1"></a>plt21b <span class="ot">&lt;-</span> tabs21b<span class="sc">$</span>plt</span>
<span id="cb225-3"><a href="#cb225-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-4"><a href="#cb225-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(plt21a<span class="sc">$</span>INVYR)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
## 2014 2015 2016 2017 2018 2019 2020 
##  167  178  174  170  167  179  166</code></pre>
</details>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="#cb227-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(plt21b<span class="sc">$</span>INVYR)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
## 2014 2015 2016 2017 2018 2019 2020 
##  146  151  147  150  140  155  148</code></pre>
</details>
</details>
</div>
<div id="example-22-filter-multiple-states-for-region-1-forests" class="section level4">
<h4>Example 22: Filter multiple states for Region 1 forests</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="#cb229-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Most current measurement for Montana, R1, filtered for OWNGRPCD=10</span></span>
<span id="cb229-2"><a href="#cb229-2" aria-hidden="true" tabindex="-1"></a>dat23a <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Montana&quot;</span>, </span>
<span id="cb229-3"><a href="#cb229-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">eval =</span> <span class="st">&quot;custom&quot;</span>,</span>
<span id="cb229-4"><a href="#cb229-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">eval_opts =</span> <span class="fu">list</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, </span>
<span id="cb229-5"><a href="#cb229-5" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">Type =</span> <span class="st">&quot;ALL&quot;</span>),</span>
<span id="cb229-6"><a href="#cb229-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">allFilter =</span> <span class="st">&quot;OWNGRPCD == 10 &amp; (ADFORCD &gt; 100 &amp; ADFORCD &lt; 200)&quot;</span>,</span>
<span id="cb229-7"><a href="#cb229-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">issp =</span> <span class="cn">TRUE</span></span>
<span id="cb229-8"><a href="#cb229-8" aria-hidden="true" tabindex="-1"></a>                     )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Look at plot counts</span></span>
<span id="cb231-2"><a href="#cb231-2" aria-hidden="true" tabindex="-1"></a>dat23a<span class="sc">$</span>pltcnt</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##     STABBR STATECD INVYR       PLOT_STATUS NBRPLTS
## 1       MT      30  2003        Nonsampled       3
## 2       MT      30  2003    Sampled-Forest     266
## 3       MT      30  2003 Sampled-Nonforest      29
## 4                                 Subtotal     298
## 41      MT      30  2004        Nonsampled       3
## 5       MT      30  2004    Sampled-Forest     266
## 6       MT      30  2004 Sampled-Nonforest      30
## 8                                 Subtotal     299
## 7       MT      30  2005        Nonsampled       3
## 81      MT      30  2005    Sampled-Forest     284
## 9       MT      30  2005 Sampled-Nonforest      25
## 12                                Subtotal     312
## 10      MT      30  2006        Nonsampled       1
## 11      MT      30  2006    Sampled-Forest     256
## 121     MT      30  2006 Sampled-Nonforest      31
## 16                                Subtotal     288
## 13      MT      30  2007    Sampled-Forest     278
## 14      MT      30  2007 Sampled-Nonforest      33
## 19                                Subtotal     311
## 15      MT      30  2008        Nonsampled       3
## 161     MT      30  2008    Sampled-Forest     243
## 17      MT      30  2008 Sampled-Nonforest      24
## 23                                Subtotal     270
## 18      MT      30  2009        Nonsampled       8
## 191     MT      30  2009    Sampled-Forest     262
## 20      MT      30  2009 Sampled-Nonforest      25
## 27                                Subtotal     295
## 21      MT      30  2010        Nonsampled       6
## 22      MT      30  2010    Sampled-Forest     257
## 231     MT      30  2010 Sampled-Nonforest      17
## 31                                Subtotal     280
## 24      MT      30  2011        Nonsampled       2
## 25      MT      30  2011    Sampled-Forest     282
## 26      MT      30  2011 Sampled-Nonforest      29
## 35                                Subtotal     313
## 271     MT      30  2012        Nonsampled       4
## 28      MT      30  2012    Sampled-Forest     249
## 29      MT      30  2012 Sampled-Nonforest      30
## 39                                Subtotal     283
## 30      MT      30  2013        Nonsampled       2
## 311     MT      30  2013    Sampled-Forest     262
## 32      MT      30  2013 Sampled-Nonforest      27
## 43                                Subtotal     291
## 33      MT      30  2014        Nonsampled       4
## 34      MT      30  2014    Sampled-Forest     255
## 351     MT      30  2014 Sampled-Nonforest      27
## 47                                Subtotal     286
## 36      MT      30  2015        Nonsampled       9
## 37      MT      30  2015    Sampled-Forest     270
## 38      MT      30  2015 Sampled-Nonforest      19
## 51                                Subtotal     298
## 391     MT      30  2016        Nonsampled       4
## 40      MT      30  2016    Sampled-Forest     257
## 411     MT      30  2016 Sampled-Nonforest      27
## 55                                Subtotal     288
## 42      MT      30  2017        Nonsampled       4
## 431     MT      30  2017    Sampled-Forest     276
## 44      MT      30  2017 Sampled-Nonforest      30
## 59                                Subtotal     310
## 45      MT      30  2018        Nonsampled      10
## 46      MT      30  2018    Sampled-Forest     240
## 471     MT      30  2018 Sampled-Nonforest      23
## 63                                Subtotal     273
## 48      MT      30  2019        Nonsampled      54
## 49      MT      30  2019    Sampled-Forest     222
## 50      MT      30  2019 Sampled-Nonforest      22
## 67                                Subtotal     298
## 68                                   Total    4993</code></pre>
</details>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="#cb233-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(dat23a<span class="sc">$</span>tabs<span class="sc">$</span>cond<span class="sc">$</span>ADFORCD)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
##  102  103  104  108  110  111  112  114  115  116 
## 1172  406    4  401  859  652  302  805  626  796</code></pre>
</details>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Display points with by PLOT_STATUS_CD (1-light blue; 2-brown; 3-blue)</span></span>
<span id="cb235-2"><a href="#cb235-2" aria-hidden="true" tabindex="-1"></a>dat23aspxy <span class="ot">&lt;-</span> dat23a<span class="sc">$</span>xyCur_PUBLIC</span>
<span id="cb235-3"><a href="#cb235-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb235-4"><a href="#cb235-4" aria-hidden="true" tabindex="-1"></a>dat23aspxy<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="fu">with</span>(dat23aspxy, </span>
<span id="cb235-5"><a href="#cb235-5" aria-hidden="true" tabindex="-1"></a>          <span class="fu">ifelse</span>(PLOT_STATUS_CD <span class="sc">==</span> <span class="dv">2</span>, <span class="st">&quot;brown&quot;</span>, </span>
<span id="cb235-6"><a href="#cb235-6" aria-hidden="true" tabindex="-1"></a>                <span class="fu">ifelse</span>(PLOT_STATUS_CD <span class="sc">==</span> <span class="dv">3</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;light blue&quot;</span>)))</span>
<span id="cb235-7"><a href="#cb235-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sf<span class="sc">::</span><span class="fu">st_geometry</span>(dat23aspxy[<span class="st">&#39;PLOT_STATUS_CD&#39;</span>]), <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> .<span class="dv">5</span>,</span>
<span id="cb235-8"><a href="#cb235-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">col =</span> dat23aspxy<span class="sc">$</span>color)</span>
<span id="cb235-9"><a href="#cb235-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb235-10"><a href="#cb235-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb235-11"><a href="#cb235-11" aria-hidden="true" tabindex="-1"></a><span class="do">## Get plots that have pinyon pine trees in Montana</span></span>
<span id="cb235-12"><a href="#cb235-12" aria-hidden="true" tabindex="-1"></a>dat23b <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Montana&quot;</span>, </span>
<span id="cb235-13"><a href="#cb235-13" aria-hidden="true" tabindex="-1"></a>                     <span class="at">eval =</span> <span class="st">&quot;custom&quot;</span>,</span>
<span id="cb235-14"><a href="#cb235-14" aria-hidden="true" tabindex="-1"></a>                     <span class="at">eval_opts =</span> <span class="fu">list</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>, </span>
<span id="cb235-15"><a href="#cb235-15" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">Type =</span> <span class="st">&quot;ALL&quot;</span>),</span>
<span id="cb235-16"><a href="#cb235-16" aria-hidden="true" tabindex="-1"></a>                     <span class="at">allFilter =</span> <span class="st">&quot;OWNGRPCD == 10 &amp; (ADFORCD &gt; 100 &amp; ADFORCD &lt; 200)&quot;</span>,</span>
<span id="cb235-17"><a href="#cb235-17" aria-hidden="true" tabindex="-1"></a>                     <span class="at">issp =</span> <span class="cn">TRUE</span>,</span>
<span id="cb235-18"><a href="#cb235-18" aria-hidden="true" tabindex="-1"></a>                     <span class="at">alltFilter =</span> <span class="st">&quot;SPCD == 101&quot;</span></span>
<span id="cb235-19"><a href="#cb235-19" aria-hidden="true" tabindex="-1"></a>                     )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Display points with by PLOT_STATUS_CD (1-light blue; 2-brown; 3-blue)</span></span>
<span id="cb237-2"><a href="#cb237-2" aria-hidden="true" tabindex="-1"></a>dat23bspxy <span class="ot">&lt;-</span> dat23b<span class="sc">$</span>xyCur_PUBLIC</span>
<span id="cb237-3"><a href="#cb237-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sf<span class="sc">::</span><span class="fu">st_geometry</span>(dat23bspxy), <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> .<span class="dv">5</span>, <span class="at">col =</span> <span class="st">&quot;wheat&quot;</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<details>
<summary>
plot
</summary>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAMAAAAjXV6yAAAABlBMVEX13rP////ZhDc7AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAD4UlEQVR4nO3d0W4TQRAF0fX//zSS8Tq2ZzLlq6SZDql6QEGEvb1HQUIgwXGxZcfuA7onECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQVAJ0nH18dBxPP3Acs09/r9nP+/je9aPVI9N3+bLG5Jm9E4jaDbT7/TGB1oVv8/uA/AqidgO1FxIIEmhd+DK/D8ivIGo30O73xwSCdgO1FxIIEggSCBIIEggSCBJoXfgyAv17oP9KqOYvDncTrBMIagDUW6gDUGshgSCBIIEggdaFL1Lj0xmox1dQZ6HsPYp8Ogtlr1HEc+krFL5FDc759I6Fr1Ajc398x7I3KJI5H9+x7A2KZO7P71f4AjUuDwPtCu+vYXkYaFd4fw3L40K3wvNrVJ4mmhVeX4PyNNGs8PoalOeNXoXH15i8jPQqu73I5HWmU9nlRSLjUJvCu2s4ZktdCs+u0ZgtdSk8u0ZjMtSm8O4ajslQn7K7izzGoT5ldxd5DDt9Cg+v8RhmOpVdXiTyOtOp7PIikWGnUdnhRSDjUJ+yu4s8xqE2hXfXcEyG2hTeXcMx7jQqO7wI5HWmU9nlRSKvM53KLi8SGXYalR1eBDLsNCo7vAhk2GlUdngRyLBzHrdT5lZ2eBHIOHS7ba/NtezuIo/J0vH4b7HtLDu7RmM6dfz9dnvZ1SUWy8XtZecWMSwWt5edW8SwWNxedm4Rw2pyd9m1RQrLTYFgUyAaFQhGf47PDwCaffr5mPvvz4Nnprd+76u/u/rdr1GXQNCmSwR6Y1kgWBaIpj+hEeic/uxrR6Db9Ge/tgS6TT//ujr/yPHy8EGDegDtOwLbeVt3m2t7D+zv439+RAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQQJBAkECQT9AT9mFRZcOe2AAAAAAElFTkSuQmCC" /><!-- --></p>
</details>
</details>
</div>
<div id="example-24-all-condition-inventory-aci-data" class="section level4">
<h4>Example 24: All Condition Inventory (ACI) data</h4>
<details>
<summary>
View Example
</summary>
<p>Region 1 plots, filtered for OWNGRPCD=10, include tree data with ACI
Note: ACI data are not included in FIA evaluations, must specify
inventory years</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="#cb238-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Get plots, 2008-2017 Inventory years</span></span>
<span id="cb238-2"><a href="#cb238-2" aria-hidden="true" tabindex="-1"></a>dat24a <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Montana&quot;</span>, </span>
<span id="cb238-3"><a href="#cb238-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">eval =</span> <span class="st">&quot;custom&quot;</span>,</span>
<span id="cb238-4"><a href="#cb238-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">eval_opts =</span> <span class="fu">list</span>(<span class="at">invyrs =</span> <span class="dv">2010</span><span class="sc">:</span><span class="dv">2019</span>, </span>
<span id="cb238-5"><a href="#cb238-5" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">Type =</span> <span class="st">&quot;VOL&quot;</span>),</span>
<span id="cb238-6"><a href="#cb238-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">allFilter =</span> <span class="st">&quot;OWNGRPCD == 10 &amp; (ADFORCD &gt; 100 &amp; ADFORCD &lt; 200)&quot;</span>,</span>
<span id="cb238-7"><a href="#cb238-7" aria-hidden="true" tabindex="-1"></a>                     )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="#cb240-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Get plots, 2008-2017 Inventory years, including ACI data</span></span>
<span id="cb240-2"><a href="#cb240-2" aria-hidden="true" tabindex="-1"></a>dat24b <span class="ot">&lt;-</span> <span class="fu">DBgetPlots</span>(<span class="at">states =</span> <span class="st">&quot;Montana&quot;</span>, </span>
<span id="cb240-3"><a href="#cb240-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">eval =</span> <span class="st">&quot;custom&quot;</span>,</span>
<span id="cb240-4"><a href="#cb240-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">eval_opts =</span> <span class="fu">list</span>(<span class="at">invyrs =</span> <span class="dv">2010</span><span class="sc">:</span><span class="dv">2019</span>, </span>
<span id="cb240-5"><a href="#cb240-5" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">Type =</span> <span class="st">&quot;VOL&quot;</span>),</span>
<span id="cb240-6"><a href="#cb240-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">allFilter =</span> <span class="st">&quot;OWNGRPCD == 10 &amp; (ADFORCD &gt; 100 &amp; ADFORCD &lt; 200)&quot;</span>,</span>
<span id="cb240-7"><a href="#cb240-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ACI =</span> <span class="cn">TRUE</span></span>
<span id="cb240-8"><a href="#cb240-8" aria-hidden="true" tabindex="-1"></a>                     )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Compare with FIA 2008-2017 Inventory years, not including ACI data</span></span>
<span id="cb242-2"><a href="#cb242-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(dat24a<span class="sc">$</span>tabs<span class="sc">$</span>plt<span class="sc">$</span>NF_PLOT_STATUS_CD)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
##   1   2   3 
## 225  10   8</code></pre>
</details>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="#cb244-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(dat24b<span class="sc">$</span>tabs<span class="sc">$</span>plt<span class="sc">$</span>NF_PLOT_STATUS_CD)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
##   1   2   3 
## 225  10   8</code></pre>
</details>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="#cb246-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(dat24a<span class="sc">$</span>tabs<span class="sc">$</span>cond<span class="sc">$</span>NF_COND_STATUS_CD)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
##   2   5 
## 440  41</code></pre>
</details>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="#cb248-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(dat24b<span class="sc">$</span>tabs<span class="sc">$</span>cond<span class="sc">$</span>NF_COND_STATUS_CD)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
##   2   5 
## 440  41</code></pre>
</details>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="#cb250-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(dat24a<span class="sc">$</span>tabs<span class="sc">$</span>cond<span class="sc">$</span>COND_STATUS_CD)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
##    1    2    3    4    5 
## 2850  481   18   17  171</code></pre>
</details>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="#cb252-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(dat24b<span class="sc">$</span>tabs<span class="sc">$</span>cond<span class="sc">$</span>COND_STATUS_CD)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
##    1    2    3    4    5 
## 2850  481   18   17  171</code></pre>
</details>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="#cb254-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(dat24a<span class="sc">$</span>tabs<span class="sc">$</span>tree)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] 114629     66</code></pre>
</details>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(dat24b<span class="sc">$</span>tabs<span class="sc">$</span>tree)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] 117896     66</code></pre>
</details>
</div>
</div>
<div id="dbgetstrata" class="section level3">
<h3><a name="DBgetStrata"></a><code>DBgetStrata()</code></h3>
<p>The <code>DBgetStrata</code> function queries the FIA database for
post-stratification information.</p>
<div id="example1-get-strata-for-the-most-current-evaluation-for-wyoming" class="section level4">
<h4>Example1: Get strata for the most current evaluation for
Wyoming</h4>
<details>
<summary>
View Example
</summary>
</div>
<div id="dbgetstrata-1" class="section level4">
<h4><a name="DBgetStrata"></a>DBgetStrata()</h4>
</div>
<div id="dbgetstrata-2" class="section level4">
<h4><a name="DBgetStrata"></a>DBgetStrata()</h4>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="#cb258-1" aria-hidden="true" tabindex="-1"></a>strat1 <span class="ot">&lt;-</span> <span class="fu">DBgetStrata</span>(<span class="at">states =</span> <span class="st">&quot;Wyoming&quot;</span>, </span>
<span id="cb258-2"><a href="#cb258-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>)</span>
<span id="cb258-3"><a href="#cb258-3" aria-hidden="true" tabindex="-1"></a>                      )</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="#cb260-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(strat1)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##  [1] &quot;unitarea&quot;   &quot;unitvar&quot;    &quot;unitvar2&quot;   &quot;areavar&quot;    &quot;stratalut&quot; 
##  [6] &quot;strvar&quot;     &quot;getwt&quot;      &quot;getwtvar&quot;   &quot;evalid&quot;     &quot;pltassgn&quot;  
## [11] &quot;pltassgnid&quot;</code></pre>
</details>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="#cb262-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Look at plot assign data</span></span>
<span id="cb262-2"><a href="#cb262-2" aria-hidden="true" tabindex="-1"></a>pltassgn1 <span class="ot">&lt;-</span> strat1<span class="sc">$</span>pltassgn</span>
<span id="cb262-3"><a href="#cb262-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pltassgn1)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##            PLT_CN UNITCD STATECD INVYR ESTN_UNIT COUNTYCD STRATUMCD EVALID
## 1 276307975489998      3      56  2014         5        5         5 561901
## 2 282479222489998      1      56  2013        29       29        12 561901
## 3 339004000489998      3      56  2015       999       11        12 561901
## 4 339004001489998      3      56  2015       999       45        56 561901
## 5 339004002489998      3      56  2016       999       11        12 561901
## 6 339004003489998      3      56  2016       999       11        12 561901</code></pre>
</details>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="#cb264-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(pltassgn1<span class="sc">$</span>EVALID)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] 561901</code></pre>
</details>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="#cb266-1" aria-hidden="true" tabindex="-1"></a>strat1<span class="sc">$</span>evalid  </span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## $Wyoming
## [1] 561901</code></pre>
</details>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="#cb268-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Look at area data for estimation unit</span></span>
<span id="cb268-2"><a href="#cb268-2" aria-hidden="true" tabindex="-1"></a>strat1<span class="sc">$</span>unitarea</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##    STATECD ESTN_UNIT             ESTN_UNIT_DESCR   ACRES EVALID
## 1       56         1                  County 001 2757613 561901
## 2       56         3                  County 003 2021729 561901
## 3       56         5                  County 005 3072988 561901
## 4       56         7                  County 007 5096959 561901
## 5       56         9                  County 009 2729653 561901
## 6       56        11          County 011 no BHNF 1671974 561901
## 7       56        13                  County 013 5930088 561901
## 8       56        15                  County 015 1428579 561901
## 9       56        17                  County 017 1283969 561901
## 10      56        19                  County 019 2671802 561901
## 11      56        21                  County 021 1720074 561901
## 12      56        23                  County 023 2616954 561901
## 13      56        25                  County 025 3440445 561901
## 14      56        27                  County 027 1681849 561901
## 15      56        29                  County 029 4459826 561901
## 16      56        31                  County 031 1350969 561901
## 17      56        33                  County 033 1617318 561901
## 18      56        35                  County 035 3158807 561901
## 19      56        37                  County 037 6714319 561901
## 20      56        39                  County 039 2701941 561901
## 21      56        41                  County 041 1336034 561901
## 22      56        43                  County 043 1435352 561901
## 23      56        45          County 045 no BHNF 1529616 561901
## 24      56       999 Black Hills National Forest  171572 561901</code></pre>
</details>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="#cb270-1" aria-hidden="true" tabindex="-1"></a>strat1<span class="sc">$</span>unitvar</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;ESTN_UNIT&quot;</code></pre>
</details>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb272-1"><a href="#cb272-1" aria-hidden="true" tabindex="-1"></a>strat1<span class="sc">$</span>unitvar2</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;STATECD&quot;</code></pre>
</details>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="#cb274-1" aria-hidden="true" tabindex="-1"></a>strat1<span class="sc">$</span>areavar</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;ACRES&quot;</code></pre>
</details>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb276-1"><a href="#cb276-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Look at stratification data for estimation unit</span></span>
<span id="cb276-2"><a href="#cb276-2" aria-hidden="true" tabindex="-1"></a>strat1<span class="sc">$</span>stratalut</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##    STATECD ESTN_UNIT STRATUMCD                STRATUM_DESCR P2POINTCNT
## 1       56         1         1   High tree cover/Nonprivate         31
## 2       56         1         3    Low tree cover/Nonprivate         22
## 3       56         1        24           Tree cover/Private         12
## 4       56         1        58  Nontree/Nonprivate/Nonvisit         91
## 5       56         1        59     Nontree/Nonprivate/Visit         19
## 6       56         1        68     Nontree/Private/Nonvisit        214
## 7       56         1        69        Nontree/Private/Visit         13
## 8       56         3         6              Nontree/Private         58
## 9       56         3        58  Nontree/Nonprivate/Nonvisit        201
## 10      56         3        59     Nontree/Nonprivate/Visit         16
## 11      56         3      1234                   Tree cover         31
## 12      56         5         5           Nontree/Nonprivate         74
## 13      56         5        68     Nontree/Private/Nonvisit        339
## 14      56         5        69        Nontree/Private/Visit         14
## 15      56         5      1234                   Tree cover         17
## 16      56         7         1   High tree cover/Nonprivate         76
## 17      56         7         3    Low tree cover/Nonprivate         30
## 18      56         7         5           Nontree/Nonprivate        350
## 19      56         7      2468             Private/Nonvisit        280
## 20      56         7      2469                Private/Visit         17
## 21      56         9        12              High tree cover         10
## 22      56         9        34               Low tree cover         20
## 23      56         9        58  Nontree/Nonprivate/Nonvisit         65
## 24      56         9        59     Nontree/Nonprivate/Visit         12
## 25      56         9        68     Nontree/Private/Nonvisit        269
## 26      56         9        69        Nontree/Private/Visit         15
## 27      56        11         5           Nontree/Nonprivate         24
## 28      56        11        68     Nontree/Private/Nonvisit        136
## 29      56        11        69        Nontree/Private/Visit         32
## 30      56        11      1234                   Tree cover         31
## 31      56        13         1   High tree cover/Nonprivate         43
## 32      56        13         2      High tree cover/Private         10
## 33      56        13         3    Low tree cover/Nonprivate         36
## 34      56        13         4       Low tree cover/Private         23
## 35      56        13         5           Nontree/Nonprivate        419
## 36      56        13         6              Nontree/Private        361
## 37      56        15         5           Nontree/Nonprivate         12
## 38      56        15       246                      Private        197
## 39      56        17         6              Nontree/Private         87
## 40      56        17        58  Nontree/Nonprivate/Nonvisit         72
## 41      56        17        59     Nontree/Nonprivate/Visit         10
## 42      56        17      1234                   Tree cover         17
## 43      56        19         5           Nontree/Nonprivate        119
## 44      56        19        13        Tree cover/Nonprivate         46
## 45      56        19      2468             Private/Nonvisit        210
## 46      56        19      2469                Private/Visit         15
## 47      56        21         5           Nontree/Nonprivate         25
## 48      56        21       246                      Private        233
## 49      56        23         3    Low tree cover/Nonprivate         40
## 50      56        23        12              High tree cover         63
## 51      56        23        46         Sparse cover/Private         86
## 52      56        23        58  Nontree/Nonprivate/Nonvisit        143
## 53      56        23        59     Nontree/Nonprivate/Visit         48
## 54      56        25         6              Nontree/Private        215
## 55      56        25        58  Nontree/Nonprivate/Nonvisit        252
## 56      56        25        59     Nontree/Nonprivate/Visit         16
## 57      56        25      1234                   Tree cover         21
## 58      56        27     77778 All strata combined/Nonvisit        242
## 59      56        27     77779    All strata combined/Visit         11
## 60      56        29        12              High tree cover        126
## 61      56        29        34               Low tree cover         52
## 62      56        29        58  Nontree/Nonprivate/Nonvisit        208
## 63      56        29        59     Nontree/Nonprivate/Visit        139
## 64      56        29        68     Nontree/Private/Nonvisit         96
## 65      56        29        69        Nontree/Private/Visit         11
## 66      56        31         5           Nontree/Nonprivate         38
## 67      56        31         6              Nontree/Private        142
## 68      56        31      1234                   Tree cover         15
## 69      56        33         5           Nontree/Nonprivate         42
## 70      56        33        13        Tree cover/Nonprivate         46
## 71      56        33      2468             Private/Nonvisit        144
## 72      56        33      2469                Private/Visit         14
## 73      56        35         5           Nontree/Nonprivate        301
## 74      56        35         6              Nontree/Private         79
## 75      56        35        12              High tree cover         58
## 76      56        35        34               Low tree cover         36
## 77      56        37         5           Nontree/Nonprivate        738
## 78      56        37         6              Nontree/Private        266
## 79      56        37      1234                   Tree cover         24
## 80      56        39         3    Low tree cover/Nonprivate         42
## 81      56        39        12              High tree cover        183
## 82      56        39        56                      Nontree        172
## 83      56        41         5           Nontree/Nonprivate         71
## 84      56        41         6              Nontree/Private         99
## 85      56        41        13        Tree cover/Nonprivate         12
## 86      56        41        24           Tree cover/Private         11
## 87      56        43         5           Nontree/Nonprivate        136
## 88      56        43         6              Nontree/Private         41
## 89      56        43      1234                   Tree cover         16
## 90      56        45         5           Nontree/Nonprivate         69
## 91      56        45         6              Nontree/Private        140
## 92      56        45      1234                   Tree cover         13
## 93      56       999        12              High tree cover         36
## 94      56       999        34               Low tree cover         10
## 95      56       999        56                      Nontree         11
##    P1POINTCNT EVALID
## 1      188600 561901
## 2      146702 561901
## 3      150995 561901
## 4      509955 561901
## 5      117682 561901
## 6     1522716 561901
## 7      120963 561901
## 8      340094 561901
## 9     1332287 561901
## 10     112681 561901
## 11     236667 561901
## 12     508778 561901
## 13    2235173 561901
## 14     151649 561901
## 15     177388 561901
## 16     506193 561901
## 17     232558 561901
## 18    2383457 561901
## 19    1744260 561901
## 20     230491 561901
## 21      96536 561901
## 22     146984 561901
## 23     463420 561901
## 24      92684 561901
## 25    1778006 561901
## 26     152023 561901
## 27     200163 561901
## 28     918600 561901
## 29     276931 561901
## 30     276280 561901
## 31     318807 561901
## 32      82282 561901
## 33     227392 561901
## 34     139736 561901
## 35    2880888 561901
## 36    2280983 561901
## 37     121183 561901
## 38    1307396 561901
## 39     592116 561901
## 40     482828 561901
## 41      80471 561901
## 42     128554 561901
## 43     757571 561901
## 44     321619 561901
## 45    1435401 561901
## 46     157211 561901
## 47     194220 561901
## 48    1525854 561901
## 49     212332 561901
## 50     442757 561901
## 51     563000 561901
## 52    1031122 561901
## 53     367743 561901
## 54    1497498 561901
## 55    1640814 561901
## 56     117201 561901
## 57     184932 561901
## 58    1565413 561901
## 59     116436 561901
## 60     904427 561901
## 61     463514 561901
## 62    1365992 561901
## 63    1017926 561901
## 64     612296 561901
## 65      95671 561901
## 66     292621 561901
## 67     967137 561901
## 68      91211 561901
## 69     284755 561901
## 70     288846 561901
## 71     922057 561901
## 72     121660 561901
## 73    1969272 561901
## 74     543912 561901
## 75     388007 561901
## 76     257616 561901
## 77    4793938 561901
## 78    1747384 561901
## 79     172997 561901
## 80     321491 561901
## 81    1206959 561901
## 82    1173491 561901
## 83     488167 561901
## 84     657693 561901
## 85      87836 561901
## 86     102338 561901
## 87     989302 561901
## 88     313022 561901
## 89     133028 561901
## 90     391665 561901
## 91    1031734 561901
## 92     106217 561901
## 93     122922 561901
## 94      24263 561901
## 95      24387 561901</code></pre>
</details>
<div class="sourceCode" id="cb278"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb278-1"><a href="#cb278-1" aria-hidden="true" tabindex="-1"></a>strat1<span class="sc">$</span>strvar</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;STRATUMCD&quot;</code></pre>
</details>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb280-1"><a href="#cb280-1" aria-hidden="true" tabindex="-1"></a>strat1<span class="sc">$</span>getwtvar</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] &quot;P1POINTCNT&quot;</code></pre>
</details>
</details>
</div>
<div id="example-2-get-strata-information-for-a-specific-evaluation-for-wyoming" class="section level4">
<h4>Example 2: Get strata information for a specific evaluation for
Wyoming</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb282"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb282-1"><a href="#cb282-1" aria-hidden="true" tabindex="-1"></a>strat2 <span class="ot">&lt;-</span> <span class="fu">DBgetStrata</span>(<span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">evalid =</span> <span class="dv">561200</span>))</span>
<span id="cb282-2"><a href="#cb282-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3"><a href="#cb282-3" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(strat2<span class="sc">$</span>pltassgn<span class="sc">$</span>EVALID)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] 561200</code></pre>
</details>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb284-1"><a href="#cb284-1" aria-hidden="true" tabindex="-1"></a>strat2<span class="sc">$</span>evalid  </span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## $Wyoming
## [1] 561200</code></pre>
</details>
</details>
</div>
<div id="example-3-get-strata-information-for-wyoming-evaluation-ending-in-2014" class="section level4">
<h4>Example 3: Get strata information for Wyoming, evaluation ending in
2014</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="#cb286-1" aria-hidden="true" tabindex="-1"></a>strat3 <span class="ot">&lt;-</span> <span class="fu">DBgetStrata</span>(<span class="at">states =</span> <span class="st">&quot;Wyoming&quot;</span>,</span>
<span id="cb286-2"><a href="#cb286-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Endyr =</span> <span class="dv">2014</span>))</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="#cb288-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(strat3<span class="sc">$</span>pltassgn<span class="sc">$</span>EVALID)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## [1] 561401</code></pre>
</details>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="#cb290-1" aria-hidden="true" tabindex="-1"></a>strat3<span class="sc">$</span>evalid  </span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## $Wyoming
## [1] 561401</code></pre>
</details>
</details>
</div>
<div id="example-4-get-strata-information-for-a-specific-set-of-wyoming-plots" class="section level4">
<h4>Example 4: Get strata information for a specific set of Wyoming
plots</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="#cb292-1" aria-hidden="true" tabindex="-1"></a>strat4 <span class="ot">&lt;-</span> <span class="fu">DBgetStrata</span>(<span class="at">dat =</span> WYplt)</span>
<span id="cb292-2"><a href="#cb292-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb292-3"><a href="#cb292-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(strat4<span class="sc">$</span>unitarea)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##   STATECD ESTN_UNIT ESTN_UNIT_DESCR   ACRES EVALID
## 1      56         1      County 001 2757613 561301
## 2      56         3      County 003 2021729 561301
## 3      56         5      County 005 3072988 561301
## 4      56         7      County 007 5096959 561301
## 5      56         9      County 009 2729653 561301
## 6      56        11      County 011 1837124 561301</code></pre>
</details>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="#cb294-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(WYunitarea)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>##   STATECD ESTN_UNIT ESTN_UNIT_DESCR   ACRES EVALID
## 1      56         1      County 001 2757613 561301
## 2      56         3      County 003 2021729 561301
## 3      56         5      County 005 3072988 561301
## 4      56         7      County 007 5096959 561301
## 5      56         9      County 009 2729653 561301
## 6      56        11      County 011 1837124 561301</code></pre>
</details>
</details>
</div>
<div id="example-5-get-strata-information-for-a-specific-set-of-wyoming-plots" class="section level4">
<h4>Example 5: Get strata information for a specific set of Wyoming
plots</h4>
<details>
<summary>
View Example
</summary>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="#cb296-1" aria-hidden="true" tabindex="-1"></a>strat5 <span class="ot">&lt;-</span> <span class="fu">DBgetStrata</span>(<span class="at">states =</span> <span class="fu">c</span>(<span class="st">&quot;Utah&quot;</span>, <span class="st">&quot;Wyoming&quot;</span>),</span>
<span id="cb296-2"><a href="#cb296-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">eval_opts =</span> <span class="fu">eval_options</span>(<span class="at">Cur =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## Inventory years by state...</code></pre>
</details>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="#cb298-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(strat5<span class="sc">$</span>pltassgn<span class="sc">$</span>EVALID)</span></code></pre></div>
<details>
<summary>
output
</summary>
<pre><code>## 
## 491901 561901 
##   8785   9228</code></pre>
</details>
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
