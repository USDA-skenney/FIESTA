<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>FIESTA - Model-Assisted Estimators</title>


<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">FIESTA - Model-Assisted Estimators</h1>



<div id="model-assisted-ma-module-overview" class="section level2">
<h2>Model-Assisted (MA) module overview</h2>
<p><code>FIESTA</code>’s Model-Assisted (MA) module calculates population estimates and their sampling errors by taking advantage of available model-assisted survey estimators from the <code>mase</code> R package (McConville, et al. 2018). These estimators can use a variety of auxiliary data to build models and predict over a response variable of interest, while using a bias-correction term so that the bias of the model does not depend on model mis-specification.</p>
<p>Functions in <code>FIESTA</code> used for fitting model-assisted estimators include the <code>modMAarea</code> function for area estimates and <code>modMAtree</code> for tree estimates. The <code>modMApop</code> function is used to get population data needed for model-assisted estimation. Below is a description and table of contents for the sections related to these functions:</p>
<table>
<colgroup>
<col width="18%"></col>
<col width="81%"></col>
</colgroup>
<thead>
<tr class="header">
<th>FUNCTION</th>
<th>DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#modMApop">modMApop</a></td>
<td>Creates population data for model-assisted estimation.</td>
</tr>
<tr class="even">
<td><a href="#modMAarea">modMAarea</a></td>
<td>Produces area level estimates through model-assisted estimation.</td>
</tr>
<tr class="odd">
<td><a href="#modMAtree">modMAtree</a></td>
<td>Produces tree level estimates through model-assisted estimation.</td>
</tr>
</tbody>
</table>
</div>
<div id="objective-of-tutorial" class="section level2">
<h2>Objective of tutorial</h2>
<p>The main objective of this tutorial is to demonstrate how to use <code>FIESTA</code> for generating estimates using estimators from <code>mase</code>. The model-assisted estimators can be used with FIA’s standard state-level population data (i.e, Evaluation) from the FIA database (FIADB) and also population data from a custom boundary.</p>
<p>The following examples are for generating estimates and estimated variances using standard FIA Evaluation data from FIA’s National database, with custom Estimation unit and Stratification information. The examples use data from three inventory years of field measurements in the state of Wyoming, from FIADB_1.7.2.00, last updated June 20, 2018, downloaded on June 25, 2018 and stored as internal data objects in <code>FIESTA</code>.</p>
<!-- The Green-Book estimators can be used with FIA's standard state-level population data (i.e, Evaluation) from the FIA database (FIADB) and also population data from a custom boundary. The population data includes a set of FIA plot data and summarized auxiliary information for post-stratification, including a table of area by estimation unit within the population, and a table of strata proportions by estimation unit. This tutorial steps through several examples using FIESTA's Green Book module, for three different populations: (POP1) an FIA standard Evaluation, Wyoming 561301; (POP2) a custom boundary with one population, Bighorn National Forest; and (POP3) a custom boundary with sub-populations, Bighorn National Forest Districts. All examples can be used with any population, standard or custom. -->
</div>
<div id="example-data---wyoming-wy-inventory-years-2011-2012" class="section level2">
<h2>Example data - Wyoming (WY), Inventory Years 2011-2012</h2>
<details>
<p><summary>View MA Example Data</summary></p>
<table>
<thead>
<tr class="header">
<th>Data Frame</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>WYplt</td>
<td>WY plot-level data</td>
</tr>
<tr class="even">
<td>WYcond</td>
<td>WY condition-level data</td>
</tr>
<tr class="odd">
<td>WYtree</td>
<td>WY tree-level data</td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col width="27%"></col>
<col width="72%"></col>
</colgroup>
<thead>
<tr class="header">
<th>External data</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>WYbighorn_adminbnd.shp</td>
<td>Polygon shapefile of WY Bighorn National Forest Administrative boundary*</td>
</tr>
<tr class="even">
<td>WYbighorn_districtbnd.shp</td>
<td>Polygon shapefile of WY Bighorn National Forest District boundaries**</td>
</tr>
<tr class="odd">
<td>WYbighorn_forest_nonforest_250m.tif</td>
<td>GeoTIFF raster of predicted forest/nonforest (1/0) for stratification***</td>
</tr>
<tr class="even">
<td>WYbighorn_dem_250m.img</td>
<td>Erdas Imagine raster of elevation change, in meters****</td>
</tr>
</tbody>
</table>
<p>*USDA Forest Service, Automated Lands Program (ALP). 2018. S_USA.AdministrativeForest (<a href="http://data.fs.usda.gov/geodata/edw" class="uri">http://data.fs.usda.gov/geodata/edw</a>). Description: An area encompassing all the National Forest System lands administered by an administrative unit. The area encompasses private lands, other governmental agency lands, and may contain National Forest System lands within the proclaimed boundaries of another administrative unit. All National Forest System lands fall within one and only one Administrative Forest Area.</p>
<p>**USDA Forest Service, Automated Lands Program (ALP). 2018. S_USA.RangerDistrict (<a href="http://data.fs.usda.gov/geodata/edw" class="uri">http://data.fs.usda.gov/geodata/edw</a>). Description: A depiction of the boundary that encompasses a Ranger District.</p>
<p>***Based on MODIS-based classified map resampled from 250m to 500m resolution and reclassified from 3 to 2 classes: 1:forest; 2:nonforest. Projected in Albers Conical Equal Area, Datum NAD27 (Ruefenacht et al. 2008). Clipped to extent of WYbighorn_adminbnd.shp.</p>
<p>****USGS National Elevation Dataset (NED), resampled from 30m resolution to 250m. Projected in Albers Conical Equal Area, Datum NAD27 (U.S. Geological Survey 2017). Clipped to boundary of WYbighorn_adminbnd.shp.</p>
</details>
<div id="set-up" class="section level3">
<h3>Set up</h3>
<p>First, you’ll need to load the <code>FIESTA</code> library:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(FIESTA)</a></code></pre></div>
<p>Next, you’ll need to set up an “outfolder”. This is just a file path to a folder where you’d like <code>FIESTA</code> to send your data output. For our purposes in this vignette, we have saved our outfolder file path as the <code>outfolder</code> object in a temporary directory. We also set a few default options preferred for this vignette.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">## Set options</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw">options</span>(<span class="dt">scipen =</span> <span class="dv">6</span>)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw">options</span>(<span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"></a>
<a class="sourceLine" id="cb2-5" data-line-number="5">## Set outfolder</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">outfolder &lt;-<span class="st"> </span><span class="kw">tempdir</span>()</a></code></pre></div>
</div>
<div id="get-data-for-examples" class="section level3">
<h3>Get data for examples</h3>
<details>
<p><summary>View Getting Data</summary></p>
<p>Now that we’ve loaded <code>FIESTA</code> and setup our outfolder, we can retrieve the data needed to run the examples. First, we point to some external data and predictor layers stored in <code>FIESTA</code> and derive new predictor layers using the <code>raster</code> package.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># File names for external spatial data</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">WYbhfn &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;sp_data/WYbighorn_adminbnd.shp&quot;</span>,</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">                      <span class="dt">package =</span> <span class="st">&quot;FIESTA&quot;</span>)</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">WYbhdistfn &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;sp_data/WYbighorn_districtbnd.shp&quot;</span>,</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">                          <span class="dt">package =</span> <span class="st">&quot;FIESTA&quot;</span>)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"></a>
<a class="sourceLine" id="cb3-7" data-line-number="7">## predictor variables</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">fornffn &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;sp_data/WYbighorn_forest_nonforest_250m.tif&quot;</span>,</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">                       <span class="dt">package =</span> <span class="st">&quot;FIESTA&quot;</span>)</a>
<a class="sourceLine" id="cb3-10" data-line-number="10">demfn &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;sp_data/WYbighorn_dem_250m.img&quot;</span>,</a>
<a class="sourceLine" id="cb3-11" data-line-number="11">                     <span class="dt">package =</span> <span class="st">&quot;FIESTA&quot;</span>)</a>
<a class="sourceLine" id="cb3-12" data-line-number="12"></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co"># Derive new predictor layers from dem</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="kw">library</span>(raster)</a>
<a class="sourceLine" id="cb3-15" data-line-number="15">dem &lt;-<span class="st"> </span><span class="kw">raster</span>(demfn)</a>
<a class="sourceLine" id="cb3-16" data-line-number="16">slp &lt;-<span class="st"> </span><span class="kw">terrain</span>(dem,</a>
<a class="sourceLine" id="cb3-17" data-line-number="17">               <span class="dt">opt =</span> <span class="st">&quot;slope&quot;</span>,</a>
<a class="sourceLine" id="cb3-18" data-line-number="18">               <span class="dt">unit =</span> <span class="st">&quot;degrees&quot;</span>,</a>
<a class="sourceLine" id="cb3-19" data-line-number="19">               <span class="dt">filename =</span> <span class="kw">paste0</span>(outfolder, <span class="st">&quot;/WYbh_slp.img&quot;</span>), </a>
<a class="sourceLine" id="cb3-20" data-line-number="20">               <span class="dt">overwrite =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb3-21" data-line-number="21">asp &lt;-<span class="st"> </span><span class="kw">terrain</span>(dem,</a>
<a class="sourceLine" id="cb3-22" data-line-number="22">               <span class="dt">opt =</span> <span class="st">&quot;aspect&quot;</span>,</a>
<a class="sourceLine" id="cb3-23" data-line-number="23">               <span class="dt">unit =</span> <span class="st">&quot;degrees&quot;</span>, </a>
<a class="sourceLine" id="cb3-24" data-line-number="24">               <span class="dt">filename =</span> <span class="kw">paste0</span>(outfolder, <span class="st">&quot;/WYbh_asp.img&quot;</span>),</a>
<a class="sourceLine" id="cb3-25" data-line-number="25">               <span class="dt">overwrite =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>Next, we can get our FIA plot data and set up our auxiliary data. We can get our FIA plot data with the <code>spMakeSpatialPoints</code> function from <code>FIESTA</code>. For more information on how to use this function, please see the <code>sp</code> vignette included with <code>FIESTA</code> (link).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">WYspplt &lt;-<span class="st"> </span><span class="kw">spMakeSpatialPoints</span>(</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">  <span class="dt">xyplt =</span> WYplt,</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">  <span class="dt">xy.uniqueid =</span> <span class="st">&quot;CN&quot;</span>,</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">  <span class="dt">xvar =</span> <span class="st">&quot;LON_PUBLIC&quot;</span>,</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">  <span class="dt">yvar =</span> <span class="st">&quot;LAT_PUBLIC&quot;</span>,</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">  <span class="dt">prj =</span> <span class="st">&quot;longlat&quot;</span>,</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">  <span class="dt">datum =</span> <span class="st">&quot;NAD83&quot;</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8">)</a>
<a class="sourceLine" id="cb4-9" data-line-number="9"></a>
<a class="sourceLine" id="cb4-10" data-line-number="10">rastlst.cont &lt;-<span class="st"> </span><span class="kw">c</span>(demfn, slp, asp)</a>
<a class="sourceLine" id="cb4-11" data-line-number="11">rastlst.cont.name &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;dem&quot;</span>, <span class="st">&quot;slp&quot;</span>, <span class="st">&quot;asp&quot;</span>)</a>
<a class="sourceLine" id="cb4-12" data-line-number="12">rastlst.cat &lt;-<span class="st"> </span>fornffn</a>
<a class="sourceLine" id="cb4-13" data-line-number="13">rastlst.cat.name=<span class="st">&quot;fornf&quot;</span></a></code></pre></div>
<p>Next, we must generate dataset for model-assisted estimation. We can do this with the <code>spGetAuxiliary</code> function from <code>FIESTA</code>. Again, see the <code>sp</code> vignette for further information on this function.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">modeldat &lt;-<span class="st"> </span><span class="kw">spGetAuxiliary</span>(</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">  <span class="dt">xyplt =</span> WYspplt,</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">  <span class="dt">uniqueid =</span> <span class="st">&quot;CN&quot;</span>,</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">  <span class="dt">unit_layer =</span> WYbhfn,</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">  <span class="dt">unitvar =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb5-6" data-line-number="6">  <span class="dt">rastlst.cont =</span> rastlst.cont,</a>
<a class="sourceLine" id="cb5-7" data-line-number="7">  <span class="dt">rastlst.cont.name =</span> rastlst.cont.name,</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">  <span class="dt">rastlst.cat =</span> rastlst.cat,</a>
<a class="sourceLine" id="cb5-9" data-line-number="9">  <span class="dt">rastlst.cat.name =</span> rastlst.cat.name,</a>
<a class="sourceLine" id="cb5-10" data-line-number="10">  <span class="dt">rastlst.cont.stat =</span> <span class="st">&quot;mean&quot;</span>,</a>
<a class="sourceLine" id="cb5-11" data-line-number="11">  <span class="dt">asptransform =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb5-12" data-line-number="12">  <span class="dt">rast.asp =</span> asp,</a>
<a class="sourceLine" id="cb5-13" data-line-number="13">  <span class="dt">keepNA =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb5-14" data-line-number="14">  <span class="dt">showext =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb5-15" data-line-number="15">  <span class="dt">savedata =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">str</span>(modeldat, <span class="dt">max.level =</span> <span class="dv">1</span>)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## List of 12
##  $ pltassgn      :'data.frame':  56 obs. of  25 variables:
##  $ unitvar       : chr &quot;ONEUNIT&quot;
##  $ pltassgnid    : chr &quot;CN&quot;
##  $ unitarea      :'data.frame':  1 obs. of  2 variables:
##  $ areavar       : chr &quot;ACRES_GIS&quot;
##  $ unitzonal     :'data.frame':  1 obs. of  8 variables:
##  $ inputdf       :Classes 'data.table' and 'data.frame': 4 obs. of  7 variables:
##   ..- attr(*, &quot;.internal.selfref&quot;)=&lt;externalptr&gt; 
##  $ prednames     : chr [1:5] &quot;dem&quot; &quot;slp&quot; &quot;asp_cos&quot; &quot;asp_sin&quot; ...
##  $ zonalnames    : chr [1:6] &quot;dem&quot; &quot;slp&quot; &quot;asp_cos&quot; &quot;asp_sin&quot; ...
##  $ predfac       : chr &quot;fornf&quot;
##  $ npixelvar     : chr &quot;npixels&quot;
##  $ predfac.levels:List of 1</code></pre>
</details>
</details>
</div>
</div>
<div id="examples" class="section level2">
<h2>Examples</h2>
<div id="modmapop" class="section level3">
<h3><code>modMApop</code></h3>
<div id="example-1-creating-our-population-dataset-with-modmapop" class="section level4">
<h4>Example 1: Creating our population dataset with <code>modMApop</code></h4>
<details>
<p><summary>View Example</summary></p>
<p>We can create our population data for model-assisted estimation. To do so, we use the <code>modMApop</code> function in <code>FIESTA</code>. We must assign our population tables with the <code>popTabs</code> argument (and unique identifiers for these tables with the <code>popTabIDs</code> argument if they are not the default), the plot assignment with the <code>pltassgn</code> argument, and in auxiliary dataset we just created with the <code>auxdat</code> argument. The <code>spGetAuxiliary</code> function has done much of the hard work for us so far, so we can just run a simple call to <code>modMApop</code>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">MApopdat &lt;-<span class="st"> </span><span class="kw">modMApop</span>(<span class="dt">popTabs =</span> <span class="kw">list</span>(<span class="dt">tree =</span> WYtree, <span class="dt">cond =</span> WYcond),</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">                     <span class="dt">pltassgn =</span> WYpltassgn,</a>
<a class="sourceLine" id="cb8-3" data-line-number="3">                     <span class="dt">auxdat =</span> modeldat)</a></code></pre></div>
<p>Note that the <code>modMApop</code> function returns a list with lots of information and data for us to use. For a quick look at what this list includes we can use the <code>str</code> function:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">str</span>(MApopdat, <span class="dt">max.level =</span> <span class="dv">1</span>)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## List of 26
##  $ popType    : chr &quot;VOL&quot;
##  $ condx      :Classes 'data.table' and 'data.frame':    66 obs. of  16 variables:
##   ..- attr(*, &quot;sorted&quot;)= chr [1:2] &quot;PLT_CN&quot; &quot;CONDID&quot;
##   ..- attr(*, &quot;.internal.selfref&quot;)=&lt;externalptr&gt; 
##  $ pltcondx   :Classes 'data.table' and 'data.frame':    66 obs. of  40 variables:
##   ..- attr(*, &quot;.internal.selfref&quot;)=&lt;externalptr&gt; 
##   ..- attr(*, &quot;sorted&quot;)= chr [1:2] &quot;PLT_CN&quot; &quot;CONDID&quot;
##  $ cuniqueid  : chr &quot;PLT_CN&quot;
##  $ condid     : chr &quot;CONDID&quot;
##  $ ACI.filter : chr &quot;COND_STATUS_CD == 1&quot;
##  $ unitarea   :Classes 'data.table' and 'data.frame':    1 obs. of  2 variables:
##   ..- attr(*, &quot;.internal.selfref&quot;)=&lt;externalptr&gt; 
##   ..- attr(*, &quot;sorted&quot;)= chr &quot;ONEUNIT&quot;
##  $ areavar    : chr &quot;ACRES_GIS&quot;
##  $ areaunits  : chr &quot;acres&quot;
##  $ unitvar    : chr &quot;ONEUNIT&quot;
##  $ unitvars   : chr &quot;ONEUNIT&quot;
##  $ unitlut    :Classes 'data.table' and 'data.frame':    1 obs. of  7 variables:
##   ..- attr(*, &quot;.internal.selfref&quot;)=&lt;externalptr&gt; 
##   ..- attr(*, &quot;sorted&quot;)= chr &quot;ONEUNIT&quot;
##  $ npixels    :Classes 'data.table' and 'data.frame':    1 obs. of  2 variables:
##   ..- attr(*, &quot;.internal.selfref&quot;)=&lt;externalptr&gt; 
##  $ npixelvar  : chr &quot;npixels&quot;
##  $ prednames  : chr [1:5] &quot;dem&quot; &quot;slp&quot; &quot;asp_cos&quot; &quot;asp_sin&quot; ...
##  $ expcondtab : NULL
##  $ plotsampcnt:Classes 'data.table' and 'data.frame':    2 obs. of  3 variables:
##   ..- attr(*, &quot;.internal.selfref&quot;)=&lt;externalptr&gt; 
##   ..- attr(*, &quot;sorted&quot;)= chr &quot;PLOT_STATUS_CD&quot;
##  $ condsampcnt:Classes 'data.table' and 'data.frame':    4 obs. of  3 variables:
##   ..- attr(*, &quot;.internal.selfref&quot;)=&lt;externalptr&gt; 
##   ..- attr(*, &quot;sorted&quot;)= chr &quot;COND_STATUS_CD&quot;
##  $ states     : chr &quot;Wyoming&quot;
##  $ invyrs     :List of 1
##   ..- attr(*, &quot;dim&quot;)= int 1
##   ..- attr(*, &quot;dimnames&quot;)=List of 1
##   ..- attr(*, &quot;call&quot;)= language by.default(data = invyrtab$INVYR, INDICES = invyrtab$STATECD, FUN = I)
##   ..- attr(*, &quot;class&quot;)= chr &quot;by&quot;
##  $ estvar.area: chr &quot;CONDPROP_ADJ&quot;
##  $ adj        : chr &quot;plot&quot;
##  $ treex      :Classes 'data.table' and 'data.frame':    1691 obs. of  21 variables:
##   ..- attr(*, &quot;.internal.selfref&quot;)=&lt;externalptr&gt; 
##   ..- attr(*, &quot;sorted&quot;)= chr &quot;PLT_CN&quot;
##  $ tuniqueid  : chr &quot;PLT_CN&quot;
##  $ adjtree    : logi TRUE
##  $ predfac    : chr &quot;fornf&quot;</code></pre>
</details>
<p>Now that we’ve created our population dataset, we can move on to estimation.</p>
</details>
</div>
</div>
<div id="modmaarea" class="section level3">
<h3><code>modMAarea</code></h3>
<div id="example-2-area-of-forest-land-wyoming-2011-2013" class="section level4">
<h4>Example 2: Area of forest land, Wyoming, 2011-2013</h4>
<details>
<p><summary>View Example</summary></p>
<p>In this example, we look at estimating the area of forest land in Wyoming from 2011 to 2013 summed to the population unit (<code>sumunit = TRUE</code>) with the generalized regression estimator (<code>MAmethod = &quot;greg&quot;</code>). <code>FIESTA</code> returns raw data for area of forest land, Wyoming, 2011-2013 (sum estimation units).</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">area1 &lt;-<span class="st"> </span><span class="kw">modMAarea</span>(</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">  <span class="dt">MApopdat =</span> MApopdat, <span class="co"># pop - population calculations for WY, post-stratification</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3">  <span class="dt">MAmethod =</span> <span class="st">&quot;greg&quot;</span>, <span class="co"># est - model-assisted method</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4">  <span class="dt">landarea =</span> <span class="st">&quot;FOREST&quot;</span>, <span class="co"># est - forest land filter</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5">  )</a></code></pre></div>
<p>We can look at the structure of this output with <code>str</code> and the estimates below. Note that again <code>FIESTA</code> outputs a list.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">str</span>(area1, <span class="dt">max.level =</span> <span class="dv">2</span>)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## List of 4
##  $ est    :Classes 'data.table' and 'data.frame':    1 obs. of  3 variables:
##   ..$ ONEUNIT               : num 1
##   ..$ Estimate              : num 652879
##   ..$ Percent Sampling Error: num 9.5
##   ..- attr(*, &quot;.internal.selfref&quot;)=&lt;externalptr&gt; 
##   ..- attr(*, &quot;sorted&quot;)= chr &quot;ONEUNIT&quot;
##  $ raw    :List of 8
##   ..$ unit_totest  :'data.frame':    1 obs. of  18 variables:
##   ..$ domdat       :'data.frame':    66 obs. of  18 variables:
##   ..$ esttype      : chr &quot;AREA&quot;
##   ..$ MAmethod     : chr &quot;greg&quot;
##   ..$ predselectlst:List of 1
##   ..$ rowvar       : chr &quot;TOTAL&quot;
##   ..$ colvar       : chr &quot;NONE&quot;
##   ..$ areaunits    : chr &quot;acres&quot;
##  $ statecd: int 56
##  $ invyr  : int [1:3] 2011 2012 2013</code></pre>
</details>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">area1<span class="op">$</span>est</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##    ONEUNIT Estimate Percent Sampling Error
## 1:       1 652879.1                    9.5</code></pre>
</details>
</details>
</div>
<div id="example-3-area-of-forest-land-wyoming-2011-2013-using-the-elastic-net-for-variable-selection" class="section level4">
<h4>Example 3: Area of forest land, Wyoming, 2011-2013, using the Elastic Net for variable selection</h4>
<details>
<p><summary>View Example</summary></p>
<p>Here, we fit the same model as the above example, but rather than using <code>&quot;greg&quot;</code> are our model-assisted method, we can use <code>&quot;gregEN&quot;</code> where the EN stands for “elastic net”. The elastic net performs variable selection for us, grabbing predictors it finds to be most useful in the model.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">area2 &lt;-<span class="st"> </span><span class="kw">modMAarea</span>(</a>
<a class="sourceLine" id="cb16-2" data-line-number="2">  <span class="dt">MApopdat =</span> MApopdat, <span class="co"># pop - population calculations for WY, post-stratification</span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3">  <span class="dt">MAmethod =</span> <span class="st">&quot;gregEN&quot;</span>, <span class="co"># est - model-assisted method</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4">  <span class="dt">landarea =</span> <span class="st">&quot;FOREST&quot;</span>, <span class="co"># est - forest land filter</span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5">  )</a></code></pre></div>
<p>We can again see that the structure of the list is very similar to that in the above example:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw">str</span>(area2, <span class="dt">max.level =</span> <span class="dv">2</span>)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## List of 4
##  $ est    :Classes 'data.table' and 'data.frame':    1 obs. of  3 variables:
##   ..$ ONEUNIT               : num 1
##   ..$ Estimate              : num 666930
##   ..$ Percent Sampling Error: num 10.2
##   ..- attr(*, &quot;.internal.selfref&quot;)=&lt;externalptr&gt; 
##   ..- attr(*, &quot;sorted&quot;)= chr &quot;ONEUNIT&quot;
##  $ raw    :List of 8
##   ..$ unit_totest  :'data.frame':    1 obs. of  18 variables:
##   ..$ domdat       :'data.frame':    66 obs. of  18 variables:
##   ..$ esttype      : chr &quot;AREA&quot;
##   ..$ MAmethod     : chr &quot;gregEN&quot;
##   ..$ predselectlst:List of 1
##   ..$ rowvar       : chr &quot;TOTAL&quot;
##   ..$ colvar       : chr &quot;NONE&quot;
##   ..$ areaunits    : chr &quot;acres&quot;
##  $ statecd: int 56
##  $ invyr  : int [1:3] 2011 2012 2013</code></pre>
</details>
<p>However now the <code>raw</code> list has an item call <code>predselectlst</code>. We can look at this item now:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">area2<span class="op">$</span>raw<span class="op">$</span>predselectlst<span class="op">$</span>totest</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##    ONEUNIT TOTAL          dem slp asp_cos asp_sin fornf2
## 1:       1     1 -0.000280812   0       0       0      0</code></pre>
</details>
<p>Notably, we can see that <code>dem</code>, <code>slp</code>, <code>asp_cos</code>, and <code>asp_sin</code> were removed from the model.</p>
</details>
</div>
<div id="example-4-area-by-forest-type-on-forest-land-wyoming-2011-2013" class="section level4">
<h4>Example 4: Area by forest type on forest land, Wyoming, 2011-2013</h4>
<details>
<p><summary>View Example</summary></p>
<p>In this example, we look at adding rows to the output and include returntitle=TRUE to return title information.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">area3 &lt;-<span class="st"> </span><span class="kw">modMAarea</span>(</a>
<a class="sourceLine" id="cb21-2" data-line-number="2">    <span class="dt">MApopdat =</span> MApopdat,         <span class="co"># pop - population calculations for WY, post-stratification</span></a>
<a class="sourceLine" id="cb21-3" data-line-number="3">    <span class="dt">MAmethod =</span> <span class="st">&quot;greg&quot;</span>,           <span class="co"># est - model-assisted method</span></a>
<a class="sourceLine" id="cb21-4" data-line-number="4">    <span class="dt">landarea =</span> <span class="st">&quot;FOREST&quot;</span>,         <span class="co"># est - forest land filter</span></a>
<a class="sourceLine" id="cb21-5" data-line-number="5">    <span class="dt">rowvar =</span> <span class="st">&quot;FORTYPCD&quot;</span>,         <span class="co"># est - row domain</span></a>
<a class="sourceLine" id="cb21-6" data-line-number="6">    <span class="dt">returntitle =</span> <span class="ot">TRUE</span>           <span class="co"># out - return title information</span></a>
<a class="sourceLine" id="cb21-7" data-line-number="7">    )</a></code></pre></div>
<p>Again, we can look at the contents of the output list. The output now includes titlelst, a list of associated titles.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw">str</span>(area3, <span class="dt">max.level =</span> <span class="dv">1</span>)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## List of 5
##  $ est     :'data.frame':    8 obs. of  3 variables:
##  $ titlelst:List of 9
##  $ raw     :List of 9
##  $ statecd : int 56
##  $ invyr   : int [1:3] 2011 2012 2013</code></pre>
</details>
<p>And the estimates:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1">## Estimate and percent sampling error of estimate</a>
<a class="sourceLine" id="cb24-2" data-line-number="2">area3<span class="op">$</span>est</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##   Forest type Estimate Percent Sampling Error
## 1         201  40571.7                  63.78
## 2         265  47531.9                  67.75
## 3         266  69659.5                  43.89
## 4         268  41493.7                  65.41
## 5         281   405267                  16.16
## 6         901    24630                  78.88
## 7         999  23725.4                  71.82
## 8       Total 652879.1                    9.5</code></pre>
</details>
<p>Along with raw data and titles:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1">## Raw data (list object) for estimate</a>
<a class="sourceLine" id="cb26-2" data-line-number="2">raw3 &lt;-<span class="st"> </span>area3<span class="op">$</span>raw      <span class="co"># extract raw data list object from output</span></a>
<a class="sourceLine" id="cb26-3" data-line-number="3"><span class="kw">names</span>(raw3)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## [1] &quot;unit_totest&quot;   &quot;unit_rowest&quot;   &quot;domdat&quot;        &quot;esttype&quot;      
## [5] &quot;MAmethod&quot;      &quot;predselectlst&quot; &quot;rowvar&quot;        &quot;colvar&quot;       
## [9] &quot;areaunits&quot;</code></pre>
</details>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="kw">head</span>(raw3<span class="op">$</span>unit_totest) <span class="co"># estimates by estimation unit (i.e., ESTN_UNIT)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##   ONEUNIT      nhat    nhat.var NBRPLT NBRPLT.gt0 ACRES_GIS AREAUSED      est
## 1       1 0.5869038 0.003106112     56         37   1112412  1112412 652879.1
##      est.var   est.se    est.cv     pse CI99left CI99right CI95left CI95right
## 1 3843693079 61997.52 0.0949602 9.49602   493184  812574.1 531366.2    774392
##   CI68left CI68right
## 1 591225.1    714533</code></pre>
</details>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1">raw3<span class="op">$</span>totest            <span class="co"># estimates for population (i.e., WY)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## NULL</code></pre>
</details>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="kw">head</span>(raw3<span class="op">$</span>unit_rowest) <span class="co"># estimates by row, by estimation unit (i.e., ESTN_UNIT)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##   ONEUNIT Forest type       nhat     nhat.var NBRPLT NBRPLT.gt0 ACRES_GIS
## 1       1         201 0.03647179 0.0005411728     56          2   1112412
## 2       1         265 0.04272865 0.0008381084     56          4   1112412
## 3       1         266 0.06262026 0.0007554881     56          5   1112412
## 4       1         268 0.03730062 0.0005953475     56          3   1112412
## 5       1         281 0.36431363 0.0034662251     56         23   1112412
## 6       1         901 0.02214103 0.0003050492     56          1   1112412
##   AREAUSED       est    est.var   est.se    est.cv      pse CI99left CI99right
## 1  1112412  40571.67  669680321 25878.18 0.6378387 63.78387      0.0 107229.45
## 2  1112412  47531.88 1037126698 32204.45 0.6775337 67.75337      0.0 130485.05
## 3  1112412  69659.55  934887295 30575.93 0.4389338 43.89338      0.0 148417.91
## 4  1112412  41493.67  736719478 27142.58 0.6541378 65.41378      0.0 111408.31
## 5  1112412 405266.98 4289319257 65492.89 0.1616043 16.16043 236568.5 573965.50
## 6  1112412  24629.95  377486546 19429.01 0.7888367 78.88367      0.0  74675.78
##     CI95left CI95right   CI68left CI68right
## 1      0.000  91291.97  14836.907  66306.43
## 2      0.000 110651.44  15505.908  79557.85
## 3   9731.831 129587.26  39253.075 100066.02
## 4      0.000  94692.14  14501.519  68485.82
## 5 276903.270 533630.70 340137.060 470396.91
## 6      0.000  62710.12   5308.619  43951.29</code></pre>
</details>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="kw">head</span>(raw3<span class="op">$</span>rowest)      <span class="co"># estimates by row for population (i.e., WY)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## NULL</code></pre>
</details>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1">## Titles (list object) for estimate</a>
<a class="sourceLine" id="cb36-2" data-line-number="2">titlelst3 &lt;-<span class="st"> </span>area3<span class="op">$</span>titlelst</a>
<a class="sourceLine" id="cb36-3" data-line-number="3"><span class="kw">names</span>(titlelst3)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## [1] &quot;title.estpse&quot;  &quot;title.unitvar&quot; &quot;title.ref&quot;     &quot;outfn.estpse&quot; 
## [5] &quot;outfn.rawdat&quot;  &quot;outfn.param&quot;   &quot;title.rowvar&quot;  &quot;title.row&quot;    
## [9] &quot;title.unitsn&quot;</code></pre>
</details>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1">titlelst3</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## $title.estpse
## [1] &quot;Area, in acres, and percent sampling error on forest land by forest type&quot;
## 
## $title.unitvar
## [1] &quot;ONEUNIT&quot;
## 
## $title.ref
## [1] &quot;, 2011-2013&quot;
## 
## $outfn.estpse
## [1] &quot;area_FORTYPCD_forestland&quot;
## 
## $outfn.rawdat
## [1] &quot;area_FORTYPCD_forestland_rawdata&quot;
## 
## $outfn.param
## [1] &quot;area_FORTYPCD_forestland_parameters&quot;
## 
## $title.rowvar
## [1] &quot;Forest type&quot;
## 
## $title.row
## [1] &quot;Area, in acres, on forest land by forest type; , 2011-2013&quot;
## 
## $title.unitsn
## [1] &quot;acres&quot;</code></pre>
</details>
</details>
</div>
<div id="example-5-area-by-forest-type-and-stand-size-class-on-forest-land-wyoming-2011-2013" class="section level4">
<h4>Example 5: Area by forest type and stand-size class on forest land, Wyoming, 2011-2013</h4>
<details>
<p><summary>View Example</summary></p>
<p>In this example, we look at adding rows and columns to output, including FIA names. We also output estimates and percent standard error in the same cell with the <code>allin1</code> argument in <code>table_options</code> and save data to an outfolder with the <code>outfolder</code> argument in <code>savedata_options</code>.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1">## Area of forest land by forest type and stand-size class, Wyoming, 2011-2013</a>
<a class="sourceLine" id="cb40-2" data-line-number="2">area4 &lt;-<span class="st"> </span><span class="kw">modMAarea</span>(</a>
<a class="sourceLine" id="cb40-3" data-line-number="3">    <span class="dt">MApopdat =</span> MApopdat,         <span class="co"># pop - population calculations for WY, post-stratification</span></a>
<a class="sourceLine" id="cb40-4" data-line-number="4">    <span class="dt">MAmethod =</span> <span class="st">&quot;greg&quot;</span>,           <span class="co"># est - model-assisted method</span></a>
<a class="sourceLine" id="cb40-5" data-line-number="5">    <span class="dt">landarea =</span> <span class="st">&quot;FOREST&quot;</span>,         <span class="co"># est - forest land filter</span></a>
<a class="sourceLine" id="cb40-6" data-line-number="6">    <span class="dt">rowvar =</span> <span class="st">&quot;FORTYPCD&quot;</span>,         <span class="co"># est - row domain</span></a>
<a class="sourceLine" id="cb40-7" data-line-number="7">    <span class="dt">colvar =</span> <span class="st">&quot;STDSZCD&quot;</span>,          <span class="co"># est - column domain</span></a>
<a class="sourceLine" id="cb40-8" data-line-number="8">    <span class="dt">savedata =</span> <span class="ot">TRUE</span>,             <span class="co"># out - save data to outfolder</span></a>
<a class="sourceLine" id="cb40-9" data-line-number="9">    <span class="dt">returntitle =</span> <span class="ot">TRUE</span>,          <span class="co"># out - return title information</span></a>
<a class="sourceLine" id="cb40-10" data-line-number="10">    <span class="dt">table_opts =</span> <span class="kw">list</span>(</a>
<a class="sourceLine" id="cb40-11" data-line-number="11">      <span class="dt">row.FIAname =</span> <span class="ot">TRUE</span>,          <span class="co"># table - row domain names</span></a>
<a class="sourceLine" id="cb40-12" data-line-number="12">      <span class="dt">col.FIAname =</span> <span class="ot">TRUE</span>,          <span class="co"># table - column domain names</span></a>
<a class="sourceLine" id="cb40-13" data-line-number="13">      <span class="dt">allin1 =</span> <span class="ot">TRUE</span>                <span class="co"># table - return output with est(pse)</span></a>
<a class="sourceLine" id="cb40-14" data-line-number="14">      ),</a>
<a class="sourceLine" id="cb40-15" data-line-number="15">    <span class="dt">savedata_opts =</span> <span class="kw">list</span>(</a>
<a class="sourceLine" id="cb40-16" data-line-number="16">      <span class="dt">outfolder =</span> outfolder,       <span class="co"># save - outfolder for saving data</span></a>
<a class="sourceLine" id="cb40-17" data-line-number="17">      <span class="dt">outfn.pre =</span> <span class="st">&quot;WY&quot;</span>             <span class="co"># save - prefix for output files</span></a>
<a class="sourceLine" id="cb40-18" data-line-number="18">      )</a>
<a class="sourceLine" id="cb40-19" data-line-number="19">    )</a>
<a class="sourceLine" id="cb40-20" data-line-number="20"></a>
<a class="sourceLine" id="cb40-21" data-line-number="21">area4<span class="op">$</span>est</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##                         Forest type     Large diameter    Medium diameter
## 1:                      Douglas-fir  20,818.8 ( 88.90)        -- (    --)
## 2:                 Engelmann spruce  36,018.2 ( 75.72)  11,513.7 (166.87)
## 3: Engelmann spruce / subalpine fir  40,505.6 ( 68.21)  13,493.7 ( 71.15)
## 4:                    Subalpine fir  26,591.2 ( 74.25)        -- (    --)
## 5:                   Lodgepole pine 141,979.7 ( 32.74) 226,859.2 ( 20.99)
## 6:                            Aspen        -- (    --)        -- (    --)
## 7:                       Nonstocked        -- (    --)        -- (    --)
## 8:                            Total 265,913.6 ( 20.96) 251,866.5 ( 19.91)
##        Small diameter        Nonstocked              Total
## 1:  19,752.9 ( 97.00)       -- (    --)  40,571.7 ( 63.78)
## 2:        -- (    --)       -- (    --)  47,531.9 ( 67.75)
## 3:  15,660.3 ( 74.24)       -- (    --)  69,659.5 ( 43.89)
## 4:  14,902.5 (126.22)       -- (    --)  41,493.7 ( 65.41)
## 5:  36,428.1 ( 74.65)       -- (    --) 405,267.0 ( 16.16)
## 6:  24,630.0 ( 78.88)       -- (    --)  24,630.0 ( 78.88)
## 7:        -- (    --) 23,725.4 ( 71.82)  23,725.4 ( 71.82)
## 8: 111,373.6 ( 37.11) 23,725.4 ( 71.82) 652,879.1 (  9.50)</code></pre>
</details>
<p>We can again look at the output list, estimates, raw data, and titles:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1">## Look at output list</a>
<a class="sourceLine" id="cb42-2" data-line-number="2"><span class="kw">names</span>(area4)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## [1] &quot;est&quot;      &quot;pse&quot;      &quot;titlelst&quot; &quot;raw&quot;      &quot;statecd&quot;  &quot;invyr&quot;</code></pre>
</details>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1">## Estimate and percent sampling error of estimate</a>
<a class="sourceLine" id="cb44-2" data-line-number="2"><span class="kw">head</span>(area4<span class="op">$</span>est)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##                         Forest type     Large diameter    Medium diameter
## 1:                      Douglas-fir  20,818.8 ( 88.90)        -- (    --)
## 2:                 Engelmann spruce  36,018.2 ( 75.72)  11,513.7 (166.87)
## 3: Engelmann spruce / subalpine fir  40,505.6 ( 68.21)  13,493.7 ( 71.15)
## 4:                    Subalpine fir  26,591.2 ( 74.25)        -- (    --)
## 5:                   Lodgepole pine 141,979.7 ( 32.74) 226,859.2 ( 20.99)
## 6:                            Aspen        -- (    --)        -- (    --)
##       Small diameter  Nonstocked              Total
## 1: 19,752.9 ( 97.00) -- (    --)  40,571.7 ( 63.78)
## 2:       -- (    --) -- (    --)  47,531.9 ( 67.75)
## 3: 15,660.3 ( 74.24) -- (    --)  69,659.5 ( 43.89)
## 4: 14,902.5 (126.22) -- (    --)  41,493.7 ( 65.41)
## 5: 36,428.1 ( 74.65) -- (    --) 405,267.0 ( 16.16)
## 6: 24,630.0 ( 78.88) -- (    --)  24,630.0 ( 78.88)</code></pre>
</details>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1">## Raw data (list object) for estimate</a>
<a class="sourceLine" id="cb46-2" data-line-number="2">raw4 &lt;-<span class="st"> </span>area4<span class="op">$</span>raw      <span class="co"># extract raw data list object from output</span></a>
<a class="sourceLine" id="cb46-3" data-line-number="3"><span class="kw">names</span>(raw4)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##  [1] &quot;unit_totest&quot;   &quot;unit_rowest&quot;   &quot;unit_colest&quot;   &quot;unit_grpest&quot;  
##  [5] &quot;domdat&quot;        &quot;esttype&quot;       &quot;MAmethod&quot;      &quot;predselectlst&quot;
##  [9] &quot;rowvar&quot;        &quot;colvar&quot;        &quot;areaunits&quot;</code></pre>
</details>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1"><span class="kw">head</span>(raw4<span class="op">$</span>unit_totest) <span class="co"># estimates by estimation unit (i.e., ESTN_UNIT)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##   ONEUNIT      nhat    nhat.var NBRPLT NBRPLT.gt0 ACRES_GIS AREAUSED      est
## 1       1 0.5869038 0.003106112     56         37   1112412  1112412 652879.1
##      est.var   est.se    est.cv     pse CI99left CI99right CI95left CI95right
## 1 3843693079 61997.52 0.0949602 9.49602   493184  812574.1 531366.2    774392
##   CI68left CI68right
## 1 591225.1    714533</code></pre>
</details>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1"><span class="kw">head</span>(raw4<span class="op">$</span>totest)      <span class="co"># estimates for population (i.e., WY)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## NULL</code></pre>
</details>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1"><span class="kw">head</span>(raw4<span class="op">$</span>unit_rowest) <span class="co"># estimates by row, by estimation unit (i.e., ESTN_UNIT)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##   ONEUNIT                      Forest type       nhat     nhat.var NBRPLT
## 1       1                      Douglas-fir 0.03647179 0.0005411728     56
## 2       1                 Engelmann spruce 0.04272865 0.0008381084     56
## 3       1 Engelmann spruce / subalpine fir 0.06262026 0.0007554881     56
## 4       1                    Subalpine fir 0.03730062 0.0005953475     56
## 5       1                   Lodgepole pine 0.36431363 0.0034662251     56
## 6       1                            Aspen 0.02214103 0.0003050492     56
##   NBRPLT.gt0 FORTYPCD ACRES_GIS AREAUSED       est    est.var   est.se
## 1          2      201   1112412  1112412  40571.67  669680321 25878.18
## 2          4      265   1112412  1112412  47531.88 1037126698 32204.45
## 3          5      266   1112412  1112412  69659.55  934887295 30575.93
## 4          3      268   1112412  1112412  41493.67  736719478 27142.58
## 5         23      281   1112412  1112412 405266.98 4289319257 65492.89
## 6          1      901   1112412  1112412  24629.95  377486546 19429.01
##      est.cv      pse CI99left CI99right   CI95left CI95right   CI68left
## 1 0.6378387 63.78387      0.0 107229.45      0.000  91291.97  14836.907
## 2 0.6775337 67.75337      0.0 130485.05      0.000 110651.44  15505.908
## 3 0.4389338 43.89338      0.0 148417.91   9731.831 129587.26  39253.075
## 4 0.6541378 65.41378      0.0 111408.31      0.000  94692.14  14501.519
## 5 0.1616043 16.16043 236568.5 573965.50 276903.270 533630.70 340137.060
## 6 0.7888367 78.88367      0.0  74675.78      0.000  62710.12   5308.619
##   CI68right
## 1  66306.43
## 2  79557.85
## 3 100066.02
## 4  68485.82
## 5 470396.91
## 6  43951.29</code></pre>
</details>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1"><span class="kw">head</span>(raw4<span class="op">$</span>rowest)      <span class="co"># estimates by row for population (i.e., WY)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## NULL</code></pre>
</details>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1"><span class="kw">head</span>(raw4<span class="op">$</span>unit_colest) <span class="co"># estimates by column, by estimation unit (i.e., ESTN_UNIT)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##   ONEUNIT Stand-size class       nhat     nhat.var NBRPLT NBRPLT.gt0 STDSZCD
## 1       1   Large diameter 0.23904227 0.0025112040     56         18       1
## 2       1  Medium diameter 0.22641470 0.0020314706     56         14       2
## 3       1   Small diameter 0.10011901 0.0013802129     56          6       3
## 4       1       Nonstocked 0.02132785 0.0002346171     56          1       5
##   ACRES_GIS AREAUSED       est    est.var   est.se    est.cv      pse
## 1   1112412  1112412 265913.57 3107517566 55745.11 0.2096362 20.96362
## 2   1112412  1112412 251866.51 2513866163 50138.47 0.1990676 19.90676
## 3   1112412  1112412 111373.62 1707959965 41327.47 0.3710706 37.10706
## 4   1112412  1112412  23725.36  290329511 17039.06 0.7181790 71.81790
##     CI99left CI99right  CI95left CI95right   CI68left CI68right
## 1 122323.677 409503.47 156655.16 375171.98 210477.405 321349.74
## 2 122718.373 381014.65 153596.92 350136.11 202005.916 301727.11
## 3   4921.104 217826.13  30373.26 192373.98  70275.187 152472.05
## 4      0.000  67615.07      0.00  57121.31   6780.738  40669.99</code></pre>
</details>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" data-line-number="1"><span class="kw">head</span>(raw4<span class="op">$</span>colest)      <span class="co"># estimates by column for population (i.e., WY)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## NULL</code></pre>
</details>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" data-line-number="1"><span class="kw">head</span>(raw4<span class="op">$</span>unit_grpest) <span class="co"># estimates by row and column, by estimation unit (i.e., ESTN_UNIT)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##   ONEUNIT                                           grpvar       nhat
## 1       1                       Douglas-fir#Large diameter 0.01871500
## 2       1                       Douglas-fir#Small diameter 0.01775679
## 3       1                  Engelmann spruce#Large diameter 0.03237848
## 4       1                 Engelmann spruce#Medium diameter 0.01035017
## 5       1  Engelmann spruce / subalpine fir#Large diameter 0.03641240
## 6       1 Engelmann spruce / subalpine fir#Medium diameter 0.01213010
##        nhat.var NBRPLT NBRPLT.gt0                      Forest type
## 1 0.00027683279     56          1                      Douglas-fir
## 2 0.00029669836     56          1                      Douglas-fir
## 3 0.00060114345     56          3                 Engelmann spruce
## 4 0.00029830747     56          1                 Engelmann spruce
## 5 0.00061687748     56          3 Engelmann spruce / subalpine fir
## 6 0.00007448711     56          1 Engelmann spruce / subalpine fir
##   Stand-size class STDSZCD FORTYPCD ACRES_GIS AREAUSED      est   est.var
## 1   Large diameter       1      201   1112412  1112412 20818.79 342569845
## 2   Small diameter       3      201   1112412  1112412 19752.88 367152725
## 3   Large diameter       1      265   1112412  1112412 36018.22 743891721
## 4  Medium diameter       2      265   1112412  1112412 11513.66 369143933
## 5   Large diameter       1      266   1112412  1112412 40505.61 763361972
## 6  Medium diameter       2      266   1112412  1112412 13493.67  92174912
##      est.se    est.cv       pse CI99left CI99right CI95left CI95right
## 1 18508.642 0.8890353  88.90353        0  68493.90        0  57095.07
## 2 19161.230 0.9700476  97.00476        0  69108.93        0  57308.20
## 3 27274.378 0.7572384  75.72384        0 106272.36        0  89475.02
## 4 19213.119 1.6687242 166.87242        0  61003.37        0  49170.68
## 5 27629.006 0.6821032  68.21032        0 111673.21        0  94657.47
## 6  9600.777 0.7115023  71.15023        0  38223.63        0  32310.85
##     CI68left CI68right
## 1  2412.7290  39224.86
## 2   697.8393  38807.91
## 3  8895.0001  63141.44
## 4     0.0000  30620.29
## 5 13029.7260  67981.49
## 6  3946.1018  23041.24</code></pre>
</details>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" data-line-number="1"><span class="kw">head</span>(raw4<span class="op">$</span>grpest)      <span class="co"># estimates by row and column for population (i.e., WY)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## NULL</code></pre>
</details>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" data-line-number="1">## Titles (list object) for estimate</a>
<a class="sourceLine" id="cb64-2" data-line-number="2">titlelst4 &lt;-<span class="st"> </span>area4<span class="op">$</span>titlelst</a>
<a class="sourceLine" id="cb64-3" data-line-number="3"><span class="kw">names</span>(titlelst4)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##  [1] &quot;title.estpse&quot;  &quot;title.unitvar&quot; &quot;title.ref&quot;     &quot;outfn.estpse&quot; 
##  [5] &quot;outfn.rawdat&quot;  &quot;outfn.param&quot;   &quot;title.rowvar&quot;  &quot;title.row&quot;    
##  [9] &quot;title.colvar&quot;  &quot;title.col&quot;     &quot;title.unitsn&quot;</code></pre>
</details>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" data-line-number="1">titlelst4</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## $title.estpse
## [1] &quot;Area, in acres (percent sampling error), by forest type and stand-size class on forest land&quot;
## 
## $title.unitvar
## [1] &quot;ONEUNIT&quot;
## 
## $title.ref
## [1] &quot;, 2011-2013&quot;
## 
## $outfn.estpse
## [1] &quot;WY_area_FORTYPNM_STDSZNM_forestland&quot;
## 
## $outfn.rawdat
## [1] &quot;WY_area_FORTYPNM_STDSZNM_forestland_rawdata&quot;
## 
## $outfn.param
## [1] &quot;WY_area_FORTYPNM_STDSZNM_forestland_parameters&quot;
## 
## $title.rowvar
## [1] &quot;Forest type&quot;
## 
## $title.row
## [1] &quot;Area, in acres (percent sampling error), by forest type on forest land; , 2011-2013&quot;
## 
## $title.colvar
## [1] &quot;Stand-size class&quot;
## 
## $title.col
## [1] &quot;Area, in acres (percent sampling error), by stand-size class on forest land; , 2011-2013&quot;
## 
## $title.unitsn
## [1] &quot;acres&quot;</code></pre>
</details>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" data-line-number="1">## List output files in outfolder</a>
<a class="sourceLine" id="cb68-2" data-line-number="2"><span class="kw">list.files</span>(outfolder, <span class="dt">pattern =</span> <span class="st">&quot;WY_area&quot;</span>)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## [1] &quot;WY_area_FORTYPNM_STDSZNM_forestland.csv&quot;                
## [2] &quot;WY_area_FORTYPNM_STDSZNM_forestland_modMA_mase_greg.csv&quot;</code></pre>
</details>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" data-line-number="1"><span class="kw">list.files</span>(<span class="kw">paste0</span>(outfolder, <span class="st">&quot;/rawdata&quot;</span>), <span class="dt">pattern =</span> <span class="st">&quot;WY_area&quot;</span>)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##  [1] &quot;WY_area_FORTYPNM_STDSZNM_forestland_rawdata_colest.csv&quot;                     
##  [2] &quot;WY_area_FORTYPNM_STDSZNM_forestland_rawdata_domdat.csv&quot;                     
##  [3] &quot;WY_area_FORTYPNM_STDSZNM_forestland_rawdata_grpest.csv&quot;                     
##  [4] &quot;WY_area_FORTYPNM_STDSZNM_forestland_rawdata_modMA_mase_greg_domdat.csv&quot;     
##  [5] &quot;WY_area_FORTYPNM_STDSZNM_forestland_rawdata_modMA_mase_greg_unit_colest.csv&quot;
##  [6] &quot;WY_area_FORTYPNM_STDSZNM_forestland_rawdata_modMA_mase_greg_unit_grpest.csv&quot;
##  [7] &quot;WY_area_FORTYPNM_STDSZNM_forestland_rawdata_modMA_mase_greg_unit_rowest.csv&quot;
##  [8] &quot;WY_area_FORTYPNM_STDSZNM_forestland_rawdata_modMA_mase_greg_unit_totest.csv&quot;
##  [9] &quot;WY_area_FORTYPNM_STDSZNM_forestland_rawdata_rowest.csv&quot;                     
## [10] &quot;WY_area_FORTYPNM_STDSZNM_forestland_rawdata_totest.csv&quot;                     
## [11] &quot;WY_area_FORTYPNM_STDSZNM_forestland_rawdata_unit_colest.csv&quot;                
## [12] &quot;WY_area_FORTYPNM_STDSZNM_forestland_rawdata_unit_grpest.csv&quot;                
## [13] &quot;WY_area_FORTYPNM_STDSZNM_forestland_rawdata_unit_rowest.csv&quot;                
## [14] &quot;WY_area_FORTYPNM_STDSZNM_forestland_rawdata_unit_totest.csv&quot;</code></pre>
</details>
</details>
</div>
</div>
<div id="modmatree" class="section level3">
<h3><code>modMAtree</code></h3>
<p>We will set our estimate variable and filter now. We set <code>estvar</code> to <code>&quot;VOLCFNET&quot;</code> for net cubic foot volume, and filter with <code>estvar.filter</code> set to <code>&quot;STATUSCD == 1&quot;</code> so we only consider live trees in our estimation.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" data-line-number="1">estvar &lt;-<span class="st"> &quot;VOLCFNET&quot;</span></a>
<a class="sourceLine" id="cb72-2" data-line-number="2">live_trees &lt;-<span class="st"> &quot;STATUSCD == 1&quot;</span></a></code></pre></div>
<div id="example-6-net-cubic-foot-volume-of-live-trees-wyoming-2011-2013" class="section level4">
<h4>Example 6: Net cubic-foot volume of live trees, Wyoming, 2011-2013</h4>
<details>
<p><summary>View Example</summary></p>
<p>We now will generate estimates by estimation unit (i.e., ESTN_UNIT) and sum to population (i.e., WY) with <code>modMAtree</code>.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" data-line-number="1">## Return raw data and titles</a>
<a class="sourceLine" id="cb73-2" data-line-number="2">## Total net cubic-foot volume of live trees (at least 5 inches diameter), Wyoming, 2011-2013 </a>
<a class="sourceLine" id="cb73-3" data-line-number="3">tree1 &lt;-<span class="st"> </span><span class="kw">modMAtree</span>(</a>
<a class="sourceLine" id="cb73-4" data-line-number="4">    <span class="dt">MApopdat =</span> MApopdat,         <span class="co"># pop - population calculations</span></a>
<a class="sourceLine" id="cb73-5" data-line-number="5">    <span class="dt">MAmethod =</span> <span class="st">&quot;greg&quot;</span>,           <span class="co"># est - model-assisted method</span></a>
<a class="sourceLine" id="cb73-6" data-line-number="6">    <span class="dt">landarea =</span> <span class="st">&quot;FOREST&quot;</span>,         <span class="co"># est - forest land filter</span></a>
<a class="sourceLine" id="cb73-7" data-line-number="7">    <span class="dt">estvar =</span> estvar,             <span class="co"># est - net cubic-foot volume</span></a>
<a class="sourceLine" id="cb73-8" data-line-number="8">    <span class="dt">estvar.filter =</span> live_trees,  <span class="co"># est - live trees only</span></a>
<a class="sourceLine" id="cb73-9" data-line-number="9">    <span class="dt">returntitle =</span> <span class="ot">TRUE</span>           <span class="co"># out - return title information</span></a>
<a class="sourceLine" id="cb73-10" data-line-number="10">    )</a>
<a class="sourceLine" id="cb73-11" data-line-number="11"></a>
<a class="sourceLine" id="cb73-12" data-line-number="12"><span class="kw">names</span>(tree1)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## [1] &quot;est&quot;      &quot;titlelst&quot; &quot;raw&quot;      &quot;statecd&quot;  &quot;invyr&quot;</code></pre>
</details>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" data-line-number="1">tree1<span class="op">$</span>raw<span class="op">$</span>unit_totest</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##   ONEUNIT     nhat nhat.var NBRPLT NBRPLT.gt0 ACRES_GIS AREAUSED        est
## 1       1 1170.147 29677.11     56         34   1112412  1112412 1301686384
##             est.var    est.se    est.cv      pse  CI99left  CI99right  CI95left
## 1 36724278940777600 191635798 0.1472212 14.72212 808065281 1795307487 926087122
##    CI95right   CI68left  CI68right
## 1 1677285646 1111112654 1492260114</code></pre>
</details>
</details>
</div>
<div id="example-7-net-cubic-foot-volume-of-live-trees-wyoming-2011-2013-using-the-elastic-net-for-variable-selection" class="section level4">
<h4>Example 7: Net cubic-foot volume of live trees, Wyoming, 2011-2013, using the Elastic Net for variable selection</h4>
<details>
<p><summary>View Example</summary></p>
<p>Here, we fit the same model as the above example, but rather than using <code>&quot;greg&quot;</code> are our model-assisted method, we can use <code>&quot;gregEN&quot;</code> where the EN stands for “elastic net”. The elastic net performs variable selection for us, grabbing predictors it finds to be most useful in the model.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" data-line-number="1">## Return raw data and titles</a>
<a class="sourceLine" id="cb77-2" data-line-number="2">## Total net cubic-foot volume of live trees (at least 5 inches diameter), Wyoming, 2011-2013 </a>
<a class="sourceLine" id="cb77-3" data-line-number="3">tree2 &lt;-<span class="st"> </span><span class="kw">modMAtree</span>(</a>
<a class="sourceLine" id="cb77-4" data-line-number="4">    <span class="dt">MApopdat =</span> MApopdat,         <span class="co"># pop - population calculations</span></a>
<a class="sourceLine" id="cb77-5" data-line-number="5">    <span class="dt">MAmethod =</span> <span class="st">&quot;gregEN&quot;</span>,         <span class="co"># est - model-assisted method</span></a>
<a class="sourceLine" id="cb77-6" data-line-number="6">    <span class="dt">landarea =</span> <span class="st">&quot;FOREST&quot;</span>,         <span class="co"># est - forest land filter</span></a>
<a class="sourceLine" id="cb77-7" data-line-number="7">    <span class="dt">estvar =</span> estvar,             <span class="co"># est - net cubic-foot volume</span></a>
<a class="sourceLine" id="cb77-8" data-line-number="8">    <span class="dt">estvar.filter =</span> live_trees,  <span class="co"># est - live trees only</span></a>
<a class="sourceLine" id="cb77-9" data-line-number="9">    <span class="dt">returntitle =</span> <span class="ot">TRUE</span>           <span class="co"># out - return title information</span></a>
<a class="sourceLine" id="cb77-10" data-line-number="10">    )</a></code></pre></div>
<p>We can again see that the structure of the list is very similar to that in the above example:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" data-line-number="1"><span class="kw">str</span>(tree2, <span class="dt">max.level =</span> <span class="dv">2</span>)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## List of 5
##  $ est     :Classes 'data.table' and 'data.frame':   1 obs. of  3 variables:
##   ..$ ONEUNIT               : num 1
##   ..$ Estimate              : num 1338106031
##   ..$ Percent Sampling Error: num 14.5
##   ..- attr(*, &quot;.internal.selfref&quot;)=&lt;externalptr&gt; 
##   ..- attr(*, &quot;sorted&quot;)= chr &quot;ONEUNIT&quot;
##  $ titlelst:List of 10
##   ..$ title.estpse : chr &quot;Net volume of live trees (at least 5 in dia), in cubic feet, and percent sampling error on forest land&quot;
##   ..$ title.yvar   : chr &quot;Net volume, in cubic feet&quot;
##   ..$ title.estvar : chr &quot;Net volume of live trees (at least 5 in dia)&quot;
##   ..$ title.unitvar: chr &quot;ONEUNIT&quot;
##   ..$ title.ref    : chr &quot;Wyoming, 2011-2013&quot;
##   ..$ outfn.estpse : chr &quot;tree_VOLCFNET_forestland&quot;
##   ..$ outfn.rawdat : chr &quot;tree_VOLCFNET_forestland_rawdata&quot;
##   ..$ outfn.param  : chr &quot;tree_VOLCFNET_forestland_parameters&quot;
##   ..$ title.tot    : chr &quot;Net volume of live trees (at least 5 in dia), in cubic feet, on forest land; Wyoming, 2011-2013&quot;
##   ..$ title.unitsn : chr &quot;cubic feet&quot;
##  $ raw     :List of 12
##   ..$ unit_totest  :'data.frame':    1 obs. of  18 variables:
##   ..$ domdat       :'data.frame':    66 obs. of  18 variables:
##   ..$ plotweights  :List of 1
##   ..$ estvar       : chr &quot;VOLCFNET&quot;
##   ..$ estvar.filter: chr &quot;STATUSCD == 1&quot;
##   ..$ esttype      : chr &quot;TREE&quot;
##   ..$ MAmethod     : chr &quot;gregEN&quot;
##   ..$ predselectlst:List of 1
##   ..$ rowvar       : chr &quot;TOTAL&quot;
##   ..$ colvar       : chr &quot;NONE&quot;
##   ..$ areaunits    : chr &quot;acres&quot;
##   ..$ estunits     : num 1
##  $ statecd : int 56
##  $ invyr   : int [1:3] 2011 2012 2013</code></pre>
</details>
<p>However now the <code>raw</code> list has an item call <code>predselectlst</code>. We can look at this item now:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" data-line-number="1">tree2<span class="op">$</span>raw<span class="op">$</span>predselectlst</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## $totest
##    ONEUNIT TOTAL       dem       slp asp_cos  asp_sin    fornf2
## 1:       1     1 0.6115061 -66.69068       0 -536.969 -1225.173</code></pre>
</details>
<p>Notably, we can see that [INSERT CORRECT PREDS] <code>dem</code>, <code>slp</code>, <code>asp_cos</code>, and <code>asp_sin</code> were removed from the model.</p>
</details>
</div>
<div id="example-8-net-cubic-foot-volume-of-live-trees-by-forest-type-wyoming-2011-2013" class="section level4">
<h4>Example 8: Net cubic-foot volume of live trees by forest type, Wyoming, 2011-2013</h4>
<details>
<p><summary>View Example</summary></p>
<p>This example adds rows to the output for net cubic-foot volume of live trees (at least 5 inches diameter) by forest type, Wyoming, 2011-2013. We also choose to return titles with <code>returntitle = TRUE</code>.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" data-line-number="1">tree3 &lt;-<span class="st"> </span><span class="kw">modMAtree</span>(</a>
<a class="sourceLine" id="cb82-2" data-line-number="2">    <span class="dt">MApopdat =</span> MApopdat,         <span class="co"># pop - population calculations</span></a>
<a class="sourceLine" id="cb82-3" data-line-number="3">    <span class="dt">MAmethod =</span> <span class="st">&quot;greg&quot;</span>,           <span class="co"># est - model-assisted method</span></a>
<a class="sourceLine" id="cb82-4" data-line-number="4">    <span class="dt">landarea =</span> <span class="st">&quot;FOREST&quot;</span>,         <span class="co"># est - forest land filter</span></a>
<a class="sourceLine" id="cb82-5" data-line-number="5">    <span class="dt">estvar =</span> <span class="st">&quot;VOLCFNET&quot;</span>,               <span class="co"># est - net cubic-foot volume</span></a>
<a class="sourceLine" id="cb82-6" data-line-number="6">    <span class="dt">estvar.filter =</span> <span class="st">&quot;STATUSCD == 1&quot;</span>,   <span class="co"># est - live trees only</span></a>
<a class="sourceLine" id="cb82-7" data-line-number="7">    <span class="dt">rowvar =</span> <span class="st">&quot;FORTYPCD&quot;</span>,         <span class="co"># est - row domain </span></a>
<a class="sourceLine" id="cb82-8" data-line-number="8">    <span class="dt">returntitle =</span> <span class="ot">TRUE</span>           <span class="co"># out - return title information</span></a>
<a class="sourceLine" id="cb82-9" data-line-number="9">    )</a></code></pre></div>
<p>Again, we investigate the output of the returned list:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb83-1" data-line-number="1">## Look at output list</a>
<a class="sourceLine" id="cb83-2" data-line-number="2"><span class="kw">names</span>(tree3)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## [1] &quot;est&quot;      &quot;titlelst&quot; &quot;raw&quot;      &quot;statecd&quot;  &quot;invyr&quot;</code></pre>
</details>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb85-1" data-line-number="1">## Estimate and percent sampling error of estimate</a>
<a class="sourceLine" id="cb85-2" data-line-number="2">tree3<span class="op">$</span>est</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##   Forest type    Estimate Percent Sampling Error
## 1         201  14128503.6                  69.62
## 2         265 189616779.4                  70.65
## 3         266 135785846.3                  65.68
## 4         268  50176218.6                  71.94
## 5         281 911979036.1                  19.59
## 6         901          --                     --
## 7         999          --                     --
## 8       Total  1301686384                  14.72</code></pre>
</details>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb87-1" data-line-number="1">## Raw data (list object) for estimate</a>
<a class="sourceLine" id="cb87-2" data-line-number="2">raw3 &lt;-<span class="st"> </span>tree3<span class="op">$</span>raw      <span class="co"># extract raw data list object from output</span></a>
<a class="sourceLine" id="cb87-3" data-line-number="3"><span class="kw">names</span>(raw3)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##  [1] &quot;unit_totest&quot;   &quot;unit_rowest&quot;   &quot;domdat&quot;        &quot;plotweights&quot;  
##  [5] &quot;estvar&quot;        &quot;estvar.filter&quot; &quot;esttype&quot;       &quot;MAmethod&quot;     
##  [9] &quot;predselectlst&quot; &quot;rowvar&quot;        &quot;colvar&quot;        &quot;areaunits&quot;    
## [13] &quot;estunits&quot;</code></pre>
</details>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb89-1" data-line-number="1"><span class="kw">head</span>(raw3<span class="op">$</span>unit_totest)   <span class="co"># estimates by estimation unit (i.e., ESTN_UNIT)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##   ONEUNIT     nhat nhat.var NBRPLT NBRPLT.gt0 ACRES_GIS AREAUSED        est
## 1       1 1170.147 29677.11     56         34   1112412  1112412 1301686384
##             est.var    est.se    est.cv      pse  CI99left  CI99right  CI95left
## 1 36724278940777600 191635798 0.1472212 14.72212 808065281 1795307487 926087122
##    CI95right   CI68left  CI68right
## 1 1677285646 1111112654 1492260114</code></pre>
</details>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb91-1" data-line-number="1"><span class="kw">head</span>(raw3<span class="op">$</span>totest)        <span class="co"># estimates for population (i.e., WY)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## NULL</code></pre>
</details>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb93-1" data-line-number="1"><span class="kw">head</span>(raw3<span class="op">$</span>unit_rowest)   <span class="co"># estimates by row, by estimation unit (i.e., ESTN_UNIT)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##   ONEUNIT Forest type      nhat    nhat.var NBRPLT NBRPLT.gt0 ACRES_GIS
## 1       1         201  12.70078    78.19439     56          2   1112412
## 2       1         265 170.45548 14503.95279     56          4   1112412
## 3       1         266 122.06431  6427.30074     56          5   1112412
## 4       1         268  45.10577  1052.94973     56          2   1112412
## 5       1         281 819.82103 25803.85564     56         23   1112412
## 6       1         901   0.00000     0.00000     56          0   1112412
##   AREAUSED       est           est.var    est.se    est.cv      pse  CI99left
## 1  1112412  14128504    96762524140170   9836794 0.6962375 69.62375         0
## 2  1112412 189616779 17948079451933724 133970442 0.7065326 70.65326         0
## 3  1112412 135785846  7953535557462704  89182597 0.6567886 65.67886         0
## 4  1112412  50176219  1302984475648689  36096876 0.7194021 71.94021         0
## 5  1112412 911979036 31931271277818172 178693232 0.1959401 19.59401 451695772
## 6  1112412         0                 0         0       NaN      NaN         0
##    CI99right  CI95left  CI95right  CI68left  CI68right
## 1   39466407         0   33408266   4346226   23910781
## 2  534701771         0  452194022  56388817  322844742
## 3  365504992         0  310580524  47097510  224474183
## 4  143155610         0  120924796  14279395   86073042
## 5 1372262300 561746736 1262211336 734276143 1089681930
## 6          0         0          0         0          0</code></pre>
</details>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb95-1" data-line-number="1"><span class="kw">head</span>(raw3<span class="op">$</span>rowest)        <span class="co"># estimates by row for population (i.e., WY)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## NULL</code></pre>
</details>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb97-1" data-line-number="1">## Titles (list object) for estimate</a>
<a class="sourceLine" id="cb97-2" data-line-number="2">titlelst3 &lt;-<span class="st"> </span>tree3<span class="op">$</span>titlelst</a>
<a class="sourceLine" id="cb97-3" data-line-number="3"><span class="kw">names</span>(titlelst3)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##  [1] &quot;title.estpse&quot;  &quot;title.yvar&quot;    &quot;title.estvar&quot;  &quot;title.unitvar&quot;
##  [5] &quot;title.ref&quot;     &quot;outfn.estpse&quot;  &quot;outfn.rawdat&quot;  &quot;outfn.param&quot;  
##  [9] &quot;title.rowvar&quot;  &quot;title.row&quot;     &quot;title.unitsn&quot;</code></pre>
</details>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb99-1" data-line-number="1">titlelst3</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## $title.estpse
## [1] &quot;Net volume of live trees (at least 5 in dia), in cubic feet, and percent sampling error on forest land by forest type&quot;
## 
## $title.yvar
## [1] &quot;Net volume, in cubic feet&quot;
## 
## $title.estvar
## [1] &quot;Net volume of live trees (at least 5 in dia)&quot;
## 
## $title.unitvar
## [1] &quot;ONEUNIT&quot;
## 
## $title.ref
## [1] &quot;Wyoming, 2011-2013&quot;
## 
## $outfn.estpse
## [1] &quot;tree_VOLCFNET_FORTYPCD_forestland&quot;
## 
## $outfn.rawdat
## [1] &quot;tree_VOLCFNET_FORTYPCD_forestland_rawdata&quot;
## 
## $outfn.param
## [1] &quot;tree_VOLCFNET_FORTYPCD_forestland_parameters&quot;
## 
## $title.rowvar
## [1] &quot;Forest type&quot;
## 
## $title.row
## [1] &quot;Net volume of live trees (at least 5 in dia), in cubic feet, on forest land by forest type; Wyoming, 2011-2013&quot;
## 
## $title.unitsn
## [1] &quot;cubic feet&quot;</code></pre>
</details>
<p>We can also create a simple barplot from the output:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb101-1" data-line-number="1">## Create barplot</a>
<a class="sourceLine" id="cb101-2" data-line-number="2"><span class="kw">datBarplot</span>(</a>
<a class="sourceLine" id="cb101-3" data-line-number="3">      raw3<span class="op">$</span>unit_rowest, </a>
<a class="sourceLine" id="cb101-4" data-line-number="4">      <span class="dt">xvar =</span> titlelst3<span class="op">$</span>title.rowvar, </a>
<a class="sourceLine" id="cb101-5" data-line-number="5">      <span class="dt">yvar =</span> <span class="st">&quot;est&quot;</span></a>
<a class="sourceLine" id="cb101-6" data-line-number="6">      )</a></code></pre></div>
<details>
<p><summary>plot</summary></p>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</details>
<p>And a fancier barplot:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb102-1" data-line-number="1">## Create fancier barplot</a>
<a class="sourceLine" id="cb102-2" data-line-number="2"><span class="kw">datBarplot</span>(</a>
<a class="sourceLine" id="cb102-3" data-line-number="3">      raw3<span class="op">$</span>unit_rowest, </a>
<a class="sourceLine" id="cb102-4" data-line-number="4">      <span class="dt">xvar =</span> titlelst3<span class="op">$</span>title.rowvar, </a>
<a class="sourceLine" id="cb102-5" data-line-number="5">      <span class="dt">yvar =</span> <span class="st">&quot;est&quot;</span>,</a>
<a class="sourceLine" id="cb102-6" data-line-number="6">      <span class="dt">errbars =</span> <span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb102-7" data-line-number="7">      <span class="dt">sevar =</span> <span class="st">&quot;est.se&quot;</span>, </a>
<a class="sourceLine" id="cb102-8" data-line-number="8">      <span class="dt">main =</span> <span class="kw">wraptitle</span>(titlelst3<span class="op">$</span>title.row, <span class="dv">75</span>),</a>
<a class="sourceLine" id="cb102-9" data-line-number="9">      <span class="dt">ylabel =</span> titlelst3<span class="op">$</span>title.yvar, </a>
<a class="sourceLine" id="cb102-10" data-line-number="10">      <span class="dt">divideby =</span> <span class="st">&quot;million&quot;</span></a>
<a class="sourceLine" id="cb102-11" data-line-number="11">      )</a></code></pre></div>
<details>
<p><summary>plot</summary></p>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</details>
</details>
</div>
<div id="example-9-net-cubic-foot-volume-of-live-trees-by-forest-type-and-stand-size-class-wyoming-2011-2013" class="section level4">
<h4>Example 9: Net cubic-foot volume of live trees by forest type and stand-size class, Wyoming, 2011-2013</h4>
<details>
<p><summary>View Example</summary></p>
<p>This examples adds rows and columns to the output, including FIA names, for net cubic-foot volume of live trees (at least 5 inches diameter) by forest type and stand-size class, Wyoming, 2011-2013. We also use the <code>*_options</code> functions to return output with estimates (est) and percent standard error (pse) in same cell - est(pse) with <code>allin1 = TRUE</code> and save data to an outfolder with <code>savedata = TRUE</code> and <code>outfolder = outfolder</code>.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb103-1" data-line-number="1">tree4 &lt;-<span class="st"> </span><span class="kw">modMAtree</span>(</a>
<a class="sourceLine" id="cb103-2" data-line-number="2">    <span class="dt">MApopdat =</span> MApopdat,         <span class="co"># pop - population calculations</span></a>
<a class="sourceLine" id="cb103-3" data-line-number="3">    <span class="dt">MAmethod =</span> <span class="st">&quot;greg&quot;</span>,           <span class="co"># est - model-assisted method</span></a>
<a class="sourceLine" id="cb103-4" data-line-number="4">    <span class="dt">landarea =</span> <span class="st">&quot;FOREST&quot;</span>,         <span class="co"># est - forest land filter</span></a>
<a class="sourceLine" id="cb103-5" data-line-number="5">    <span class="dt">estvar =</span> <span class="st">&quot;VOLCFNET&quot;</span>,               <span class="co"># est - net cubic-foot volume</span></a>
<a class="sourceLine" id="cb103-6" data-line-number="6">    <span class="dt">estvar.filter =</span> <span class="st">&quot;STATUSCD  == 1&quot;</span>,   <span class="co"># est - live trees only</span></a>
<a class="sourceLine" id="cb103-7" data-line-number="7">    <span class="dt">rowvar =</span> <span class="st">&quot;FORTYPCD&quot;</span>,         <span class="co"># est - row domain</span></a>
<a class="sourceLine" id="cb103-8" data-line-number="8">    <span class="dt">colvar =</span> <span class="st">&quot;STDSZCD&quot;</span>,          <span class="co"># est - column domain</span></a>
<a class="sourceLine" id="cb103-9" data-line-number="9">    <span class="dt">returntitle =</span> <span class="ot">TRUE</span>,          <span class="co"># out - return title information</span></a>
<a class="sourceLine" id="cb103-10" data-line-number="10">    <span class="dt">savedata =</span> <span class="ot">TRUE</span>,             <span class="co"># out - save data to outfolder</span></a>
<a class="sourceLine" id="cb103-11" data-line-number="11">    <span class="dt">table_opts =</span> <span class="kw">table_options</span>(</a>
<a class="sourceLine" id="cb103-12" data-line-number="12">      <span class="dt">row.FIAname =</span> <span class="ot">TRUE</span>,          <span class="co"># est - row domain names</span></a>
<a class="sourceLine" id="cb103-13" data-line-number="13">      <span class="dt">col.FIAname =</span> <span class="ot">TRUE</span>,          <span class="co"># est - column domain names</span></a>
<a class="sourceLine" id="cb103-14" data-line-number="14">      <span class="dt">allin1 =</span> <span class="ot">TRUE</span>                <span class="co"># out - return output with est(pse)</span></a>
<a class="sourceLine" id="cb103-15" data-line-number="15">    ),</a>
<a class="sourceLine" id="cb103-16" data-line-number="16">    <span class="dt">savedata_opts =</span> <span class="kw">savedata_options</span>(</a>
<a class="sourceLine" id="cb103-17" data-line-number="17">      <span class="dt">outfolder =</span> outfolder,       <span class="co"># out - outfolder for saving data</span></a>
<a class="sourceLine" id="cb103-18" data-line-number="18">      <span class="dt">outfn.pre =</span> <span class="st">&quot;WY&quot;</span>             <span class="co"># out - prefix for output files</span></a>
<a class="sourceLine" id="cb103-19" data-line-number="19">      )</a>
<a class="sourceLine" id="cb103-20" data-line-number="20">    )</a></code></pre></div>
<p>Again, we investigate the output of the returned list:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb104-1" data-line-number="1">## Look at output list from modGBarea()</a>
<a class="sourceLine" id="cb104-2" data-line-number="2"><span class="kw">names</span>(tree4)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## [1] &quot;est&quot;      &quot;pse&quot;      &quot;titlelst&quot; &quot;raw&quot;      &quot;statecd&quot;  &quot;invyr&quot;</code></pre>
</details>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb106-1" data-line-number="1">## Estimate and percent sampling error of estimate</a>
<a class="sourceLine" id="cb106-2" data-line-number="2">tree4<span class="op">$</span>est</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##                         Forest type         Large diameter
## 1:                      Douglas-fir  10,588,987.9 ( 88.90)
## 2:                 Engelmann spruce 145,816,510.2 ( 80.87)
## 3: Engelmann spruce / subalpine fir 115,503,288.5 ( 76.91)
## 4:                    Subalpine fir  50,176,218.6 ( 71.94)
## 5:                   Lodgepole pine 472,090,874.0 ( 33.78)
## 6:                            Aspen            -- (    --)
## 7:                       Nonstocked            -- (    --)
## 8:                            Total 794,175,879.4 ( 23.26)
##           Medium diameter        Small diameter  Nonstocked
## 1:            -- (    --)  3,539,515.7 ( 97.00) -- (    --)
## 2:  43,800,269.2 (166.87)           -- (    --) -- (    --)
## 3:  15,317,971.9 ( 71.15)  4,964,585.9 ( 74.24) -- (    --)
## 4:            -- (    --)           -- (    --) -- (    --)
## 5: 434,307,202.1 ( 22.81)  5,580,959.9 ( 77.79) -- (    --)
## 6:            -- (    --)           -- (    --) -- (    --)
## 7:            -- (    --)           -- (    --) -- (    --)
## 8: 493,425,443.2 ( 24.11) 14,085,061.4 ( 43.49) -- (    --)
##                       Total
## 1:    14,128,503.6 ( 69.62)
## 2:   189,616,779.4 ( 70.65)
## 3:   135,785,846.3 ( 65.68)
## 4:    50,176,218.6 ( 71.94)
## 5:   911,979,036.1 ( 19.59)
## 6:              -- (    --)
## 7:              -- (    --)
## 8: 1,301,686,384.0 ( 14.72)</code></pre>
</details>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" data-line-number="1">## Raw data (list object) for estimate</a>
<a class="sourceLine" id="cb108-2" data-line-number="2">raw4 &lt;-<span class="st"> </span>tree4<span class="op">$</span>raw      <span class="co"># extract raw data list object from output</span></a>
<a class="sourceLine" id="cb108-3" data-line-number="3"><span class="kw">names</span>(raw4)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##  [1] &quot;unit_totest&quot;   &quot;unit_rowest&quot;   &quot;unit_colest&quot;   &quot;unit_grpest&quot;  
##  [5] &quot;domdat&quot;        &quot;plotweights&quot;   &quot;estvar&quot;        &quot;estvar.filter&quot;
##  [9] &quot;esttype&quot;       &quot;MAmethod&quot;      &quot;predselectlst&quot; &quot;rowvar&quot;       
## [13] &quot;colvar&quot;        &quot;areaunits&quot;     &quot;estunits&quot;</code></pre>
</details>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb110-1" data-line-number="1"><span class="kw">head</span>(raw4<span class="op">$</span>unit_totest)   <span class="co"># estimates by estimation unit (i.e., ESTN_UNIT)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##   ONEUNIT     nhat nhat.var NBRPLT NBRPLT.gt0 ACRES_GIS AREAUSED        est
## 1       1 1170.147 29677.11     56         34   1112412  1112412 1301686384
##             est.var    est.se    est.cv      pse  CI99left  CI99right  CI95left
## 1 36724278940777600 191635798 0.1472212 14.72212 808065281 1795307487 926087122
##    CI95right   CI68left  CI68right
## 1 1677285646 1111112654 1492260114</code></pre>
</details>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb112-1" data-line-number="1"><span class="kw">head</span>(raw4<span class="op">$</span>totest)        <span class="co"># estimates for population (i.e., WY)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## NULL</code></pre>
</details>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb114-1" data-line-number="1"><span class="kw">head</span>(raw4<span class="op">$</span>unit_rowest)   <span class="co"># estimates by row, by estimation unit (i.e., ESTN_UNIT)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##   ONEUNIT                      Forest type      nhat    nhat.var NBRPLT
## 1       1                      Douglas-fir  12.70078    78.19439     56
## 2       1                 Engelmann spruce 170.45548 14503.95279     56
## 3       1 Engelmann spruce / subalpine fir 122.06431  6427.30074     56
## 4       1                    Subalpine fir  45.10577  1052.94973     56
## 5       1                   Lodgepole pine 819.82103 25803.85564     56
## 6       1                            Aspen   0.00000     0.00000     56
##   NBRPLT.gt0 FORTYPCD ACRES_GIS AREAUSED       est           est.var    est.se
## 1          2      201   1112412  1112412  14128504    96762524140170   9836794
## 2          4      265   1112412  1112412 189616779 17948079451933724 133970442
## 3          5      266   1112412  1112412 135785846  7953535557462704  89182597
## 4          2      268   1112412  1112412  50176219  1302984475648689  36096876
## 5         23      281   1112412  1112412 911979036 31931271277818172 178693232
## 6          0      901   1112412  1112412         0                 0         0
##      est.cv      pse  CI99left  CI99right  CI95left  CI95right  CI68left
## 1 0.6962375 69.62375         0   39466407         0   33408266   4346226
## 2 0.7065326 70.65326         0  534701771         0  452194022  56388817
## 3 0.6567886 65.67886         0  365504992         0  310580524  47097510
## 4 0.7194021 71.94021         0  143155610         0  120924796  14279395
## 5 0.1959401 19.59401 451695772 1372262300 561746736 1262211336 734276143
## 6       NaN      NaN         0          0         0          0         0
##    CI68right
## 1   23910781
## 2  322844742
## 3  224474183
## 4   86073042
## 5 1089681930
## 6          0</code></pre>
</details>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb116-1" data-line-number="1"><span class="kw">head</span>(raw4<span class="op">$</span>rowest)        <span class="co"># estimates by row for population (i.e., WY)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## NULL</code></pre>
</details>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb118-1" data-line-number="1"><span class="kw">head</span>(raw4<span class="op">$</span>unit_colest)   <span class="co"># estimates by column, by estimation unit (i.e., ESTN_UNIT)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##   ONEUNIT Stand-size class      nhat    nhat.var NBRPLT NBRPLT.gt0 STDSZCD
## 1       1   Large diameter 713.92220 27578.97718     56         18       1
## 2       1  Medium diameter 443.56343 11435.49631     56         14       2
## 3       1   Small diameter  12.66173    30.31923     56          4       3
## 4       1       Nonstocked   0.00000     0.00000     56          0       5
##   ACRES_GIS AREAUSED       est           est.var    est.se    est.cv      pse
## 1   1112412  1112412 794175879 34127915379744936 184737423 0.2326153 23.26153
## 2   1112412  1112412 493425443 14150983479325762 118957906 0.2410859 24.10859
## 3   1112412  1112412  14085061    37518876622551   6125265 0.4348767 43.48767
## 4   1112412  1112412         0                 0         0       NaN      NaN
##    CI99left  CI99right  CI95left  CI95right  CI68left CI68right
## 1 318323812 1270027946 432097184 1156254575 610462293 977889466
## 2 187010182  799840704 260272231  726578655 375126815 611724071
## 3         0   29862700   2079762   26090361   7993743  20176380
## 4         0          0         0          0         0         0</code></pre>
</details>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb120-1" data-line-number="1"><span class="kw">head</span>(raw4<span class="op">$</span>colest)        <span class="co"># estimates by column for population (i.e., WY)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## NULL</code></pre>
</details>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb122-1" data-line-number="1"><span class="kw">head</span>(raw4<span class="op">$</span>unit_grpest)   <span class="co"># estimates by row and column, by estimation unit (i.e., ESTN_UNIT)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##   ONEUNIT                                           grpvar       nhat
## 1       1                       Douglas-fir#Large diameter   9.518941
## 2       1                       Douglas-fir#Small diameter   3.181838
## 3       1                  Engelmann spruce#Large diameter 131.081348
## 4       1                 Engelmann spruce#Medium diameter  39.374131
## 5       1  Engelmann spruce / subalpine fir#Large diameter 103.831361
## 6       1 Engelmann spruce / subalpine fir#Medium diameter  13.770048
##       nhat.var NBRPLT NBRPLT.gt0                      Forest type
## 1    71.616861     56          1                      Douglas-fir
## 2     9.526693     56          1                      Douglas-fir
## 3 11237.915551     56          3                 Engelmann spruce
## 4  4317.089797     56          1                 Engelmann spruce
## 5  6377.416002     56          3 Engelmann spruce / subalpine fir
## 6    95.989450     56          1 Engelmann spruce / subalpine fir
##   Stand-size class STDSZCD FORTYPCD ACRES_GIS AREAUSED       est
## 1   Large diameter       1      201   1112412  1112412  10588988
## 2   Small diameter       3      201   1112412  1112412   3539516
## 3   Large diameter       1      265   1112412  1112412 145816510
## 4  Medium diameter       2      265   1112412  1112412  43800269
## 5   Large diameter       1      266   1112412  1112412 115503289
## 6  Medium diameter       2      266   1112412  1112412  15317972
##             est.var    est.se    est.cv       pse CI99left CI99right CI95left
## 1    88623089331478   9413984 0.8890353  88.90353        0  34837803        0
## 2    11788913664581   3433499 0.9700476  97.00476        0  12383622        0
## 3 13906484947053024 117925760 0.8087271  80.87271        0 449573139        0
## 4  5342231307186026  73090569 1.6687242 166.87242        0 232069099        0
## 5  7891805133433317  88835832 0.7691195  76.91195        0 344329229        0
## 6   118783224679453  10898772 0.7115023  71.15023        0  43391347        0
##   CI95right   CI68left CI68right
## 1  29040057  1227177.6  19950798
## 2  10269050   125045.8   6953986
## 3 376946753 28544308.3 263088712
## 4 187055152        0.0 116485762
## 5 289618321 27159794.6 203846782
## 6  36679172  4479602.4  26156341</code></pre>
</details>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb124-1" data-line-number="1"><span class="kw">head</span>(raw4<span class="op">$</span>grpest)        <span class="co"># estimates by row and column for population (i.e., WY)</span></a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## NULL</code></pre>
</details>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb126-1" data-line-number="1">## Titles (list object) for estimate</a>
<a class="sourceLine" id="cb126-2" data-line-number="2">titlelst4 &lt;-<span class="st"> </span>tree4<span class="op">$</span>titlelst</a>
<a class="sourceLine" id="cb126-3" data-line-number="3"><span class="kw">names</span>(titlelst4)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##  [1] &quot;title.estpse&quot;  &quot;title.yvar&quot;    &quot;title.estvar&quot;  &quot;title.unitvar&quot;
##  [5] &quot;title.ref&quot;     &quot;outfn.estpse&quot;  &quot;outfn.rawdat&quot;  &quot;outfn.param&quot;  
##  [9] &quot;title.rowvar&quot;  &quot;title.row&quot;     &quot;title.colvar&quot;  &quot;title.col&quot;    
## [13] &quot;title.unitsn&quot;</code></pre>
</details>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb128-1" data-line-number="1">titlelst4</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## $title.estpse
## [1] &quot;Net volume of live trees (at least 5 in dia), in cubic feet (percent sampling error), by forest type and stand-size class on forest land&quot;
## 
## $title.yvar
## [1] &quot;Net volume, in cubic feet&quot;
## 
## $title.estvar
## [1] &quot;Net volume of live trees (at least 5 in dia)&quot;
## 
## $title.unitvar
## [1] &quot;ONEUNIT&quot;
## 
## $title.ref
## [1] &quot;Wyoming, 2011-2013&quot;
## 
## $outfn.estpse
## [1] &quot;WY_tree_VOLCFNET_FORTYPNM_STDSZNM_forestland&quot;
## 
## $outfn.rawdat
## [1] &quot;WY_tree_VOLCFNET_FORTYPNM_STDSZNM_forestland_rawdata&quot;
## 
## $outfn.param
## [1] &quot;WY_tree_VOLCFNET_FORTYPNM_STDSZNM_forestland_parameters&quot;
## 
## $title.rowvar
## [1] &quot;Forest type&quot;
## 
## $title.row
## [1] &quot;Net volume of live trees (at least 5 in dia), in cubic feet (percent sampling error), by forest type on forest land; Wyoming, 2011-2013&quot;
## 
## $title.colvar
## [1] &quot;Stand-size class&quot;
## 
## $title.col
## [1] &quot;Net volume of live trees (at least 5 in dia), in cubic feet (percent sampling error), by stand-size class on forest land; Wyoming, 2011-2013&quot;
## 
## $title.unitsn
## [1] &quot;cubic feet&quot;</code></pre>
</details>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb130-1" data-line-number="1">## List output files in outfolder</a>
<a class="sourceLine" id="cb130-2" data-line-number="2"><span class="kw">list.files</span>(outfolder, <span class="dt">pattern =</span> <span class="st">&quot;WY_tree&quot;</span>)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## [1] &quot;WY_tree_VOLCFNET_FORTYPNM_STDSZNM_forestland.csv&quot;                
## [2] &quot;WY_tree_VOLCFNET_FORTYPNM_STDSZNM_forestland_modMA_mase_greg.csv&quot;</code></pre>
</details>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb132-1" data-line-number="1"><span class="kw">list.files</span>(<span class="kw">paste0</span>(outfolder, <span class="st">&quot;/rawdata&quot;</span>), <span class="dt">pattern =</span> <span class="st">&quot;WY_tree&quot;</span>)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##  [1] &quot;WY_tree_VOLCFNET_FORTYPNM_STDSZNM_forestland_rawdata_colest.csv&quot;                     
##  [2] &quot;WY_tree_VOLCFNET_FORTYPNM_STDSZNM_forestland_rawdata_domdat.csv&quot;                     
##  [3] &quot;WY_tree_VOLCFNET_FORTYPNM_STDSZNM_forestland_rawdata_grpest.csv&quot;                     
##  [4] &quot;WY_tree_VOLCFNET_FORTYPNM_STDSZNM_forestland_rawdata_modMA_mase_greg_domdat.csv&quot;     
##  [5] &quot;WY_tree_VOLCFNET_FORTYPNM_STDSZNM_forestland_rawdata_modMA_mase_greg_unit_colest.csv&quot;
##  [6] &quot;WY_tree_VOLCFNET_FORTYPNM_STDSZNM_forestland_rawdata_modMA_mase_greg_unit_grpest.csv&quot;
##  [7] &quot;WY_tree_VOLCFNET_FORTYPNM_STDSZNM_forestland_rawdata_modMA_mase_greg_unit_rowest.csv&quot;
##  [8] &quot;WY_tree_VOLCFNET_FORTYPNM_STDSZNM_forestland_rawdata_modMA_mase_greg_unit_totest.csv&quot;
##  [9] &quot;WY_tree_VOLCFNET_FORTYPNM_STDSZNM_forestland_rawdata_rowest.csv&quot;                     
## [10] &quot;WY_tree_VOLCFNET_FORTYPNM_STDSZNM_forestland_rawdata_totest.csv&quot;                     
## [11] &quot;WY_tree_VOLCFNET_FORTYPNM_STDSZNM_forestland_rawdata_unit_colest.csv&quot;                
## [12] &quot;WY_tree_VOLCFNET_FORTYPNM_STDSZNM_forestland_rawdata_unit_grpest.csv&quot;                
## [13] &quot;WY_tree_VOLCFNET_FORTYPNM_STDSZNM_forestland_rawdata_unit_rowest.csv&quot;                
## [14] &quot;WY_tree_VOLCFNET_FORTYPNM_STDSZNM_forestland_rawdata_unit_totest.csv&quot;</code></pre>
</details>
</details>
</div>
<div id="example-10-number-of-live-trees-by-species-wyoming-2011-2013" class="section level4">
<h4>Example 10: Number of live trees by species, Wyoming, 2011-2013</h4>
<details>
<p><summary>View Example</summary></p>
<p>We can use tree domain in estimation output rows:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb134-1" data-line-number="1">## Number of live trees (at least 1 inch diameter) by species</a>
<a class="sourceLine" id="cb134-2" data-line-number="2">tree5 &lt;-<span class="st"> </span><span class="kw">modMAtree</span>(</a>
<a class="sourceLine" id="cb134-3" data-line-number="3">    <span class="dt">MApopdat =</span> MApopdat,         <span class="co"># pop - population calculations</span></a>
<a class="sourceLine" id="cb134-4" data-line-number="4">    <span class="dt">MAmethod =</span> <span class="st">&quot;greg&quot;</span>,           <span class="co"># est - model-assisted method</span></a>
<a class="sourceLine" id="cb134-5" data-line-number="5">    <span class="dt">landarea =</span> <span class="st">&quot;FOREST&quot;</span>,         <span class="co"># est - forest land filter</span></a>
<a class="sourceLine" id="cb134-6" data-line-number="6">    <span class="dt">estvar =</span> <span class="st">&quot;TPA_UNADJ&quot;</span>,               <span class="co"># est - number of trees per acre </span></a>
<a class="sourceLine" id="cb134-7" data-line-number="7">    <span class="dt">estvar.filter =</span> <span class="st">&quot;STATUSCD == 1&quot;</span>,    <span class="co"># est - live trees only</span></a>
<a class="sourceLine" id="cb134-8" data-line-number="8">    <span class="dt">rowvar =</span> <span class="st">&quot;SPCD&quot;</span>,             <span class="co"># est - row domain</span></a>
<a class="sourceLine" id="cb134-9" data-line-number="9">    <span class="dt">returntitle =</span> <span class="ot">TRUE</span>,          <span class="co"># out - return title information</span></a>
<a class="sourceLine" id="cb134-10" data-line-number="10">    <span class="dt">table_opts =</span> <span class="kw">table_options</span>(    </a>
<a class="sourceLine" id="cb134-11" data-line-number="11">      <span class="dt">row.FIAname =</span> <span class="ot">TRUE</span>,          <span class="co"># est - row domain names</span></a>
<a class="sourceLine" id="cb134-12" data-line-number="12">      <span class="dt">allin1 =</span> <span class="ot">FALSE</span>               <span class="co"># out - return output with est and pse</span></a>
<a class="sourceLine" id="cb134-13" data-line-number="13">      )</a>
<a class="sourceLine" id="cb134-14" data-line-number="14">    )</a></code></pre></div>
<p>We can also look at the output list and estimates again:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb135-1" data-line-number="1">## Look at output list</a>
<a class="sourceLine" id="cb135-2" data-line-number="2"><span class="kw">names</span>(tree5)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## [1] &quot;est&quot;      &quot;titlelst&quot; &quot;raw&quot;      &quot;statecd&quot;  &quot;invyr&quot;</code></pre>
</details>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb137-1" data-line-number="1">## Estimate and percent sampling error of estimate</a>
<a class="sourceLine" id="cb137-2" data-line-number="2">tree5<span class="op">$</span>est</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##            Species    Estimate Percent Sampling Error
## 1    subalpine fir  67863340.4                  29.32
## 2 Engelmann spruce  50423486.8                  29.88
## 3   lodgepole pine 182515829.5                  18.92
## 4      limber pine   4546777.7                  88.44
## 5      Douglas-fir  24883447.6                  73.23
## 6    quaking aspen  11295394.2                  72.77
## 7            Total 341528276.1                  13.13</code></pre>
</details>
</details>
</div>
<div id="example-11-number-of-live-trees-plus-seedlings-by-species-wyoming-2011-2013" class="section level4">
<h4>Example 11: Number of live trees (plus seedlings) by species, Wyoming, 2011-2013</h4>
<details>
<p><summary>View Example</summary></p>
<p>We can also add seedlings.</p>
<p>Note: seedling data are only available for number of trees (estvar = TPA_UNADJ).</p>
<p>Note: must include seedling data in population data calculations.</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb139-1" data-line-number="1">MApopdat_seed &lt;-<span class="st"> </span><span class="kw">modMApop</span>(<span class="dt">popTabs =</span> <span class="kw">list</span>(<span class="dt">tree =</span> WYtree,</a>
<a class="sourceLine" id="cb139-2" data-line-number="2">                                         <span class="dt">cond =</span> WYcond,</a>
<a class="sourceLine" id="cb139-3" data-line-number="3">                                         <span class="dt">seed =</span> WYseed),</a>
<a class="sourceLine" id="cb139-4" data-line-number="4">                     <span class="dt">pltassgn =</span> WYpltassgn,</a>
<a class="sourceLine" id="cb139-5" data-line-number="5">                     <span class="dt">auxdat =</span> modeldat)</a></code></pre></div>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb140-1" data-line-number="1">## Number of live trees by species, including seedlings</a>
<a class="sourceLine" id="cb140-2" data-line-number="2">tree6 &lt;-<span class="st"> </span><span class="kw">modMAtree</span>(</a>
<a class="sourceLine" id="cb140-3" data-line-number="3">    <span class="dt">MApopdat =</span> MApopdat_seed,         <span class="co"># pop - population calculations</span></a>
<a class="sourceLine" id="cb140-4" data-line-number="4">    <span class="dt">MAmethod =</span> <span class="st">&quot;greg&quot;</span>,           <span class="co"># est - model-assisted method</span></a>
<a class="sourceLine" id="cb140-5" data-line-number="5">    <span class="dt">estseed =</span> <span class="st">&quot;add&quot;</span>,             <span class="co"># est - add seedling data</span></a>
<a class="sourceLine" id="cb140-6" data-line-number="6">    <span class="dt">landarea =</span> <span class="st">&quot;FOREST&quot;</span>,         <span class="co"># est - forest land filter</span></a>
<a class="sourceLine" id="cb140-7" data-line-number="7">    <span class="dt">estvar =</span> <span class="st">&quot;TPA_UNADJ&quot;</span>,               <span class="co"># est - number of trees per acre </span></a>
<a class="sourceLine" id="cb140-8" data-line-number="8">    <span class="dt">estvar.filter =</span> <span class="st">&quot;STATUSCD == 1&quot;</span>,    <span class="co"># est - live trees only</span></a>
<a class="sourceLine" id="cb140-9" data-line-number="9">    <span class="dt">rowvar =</span> <span class="st">&quot;SPCD&quot;</span>,             <span class="co"># est - row domain</span></a>
<a class="sourceLine" id="cb140-10" data-line-number="10">    <span class="dt">returntitle =</span> <span class="ot">TRUE</span>,          <span class="co"># out - return title information</span></a>
<a class="sourceLine" id="cb140-11" data-line-number="11">    <span class="dt">table_opts =</span> <span class="kw">table_options</span>(</a>
<a class="sourceLine" id="cb140-12" data-line-number="12">      <span class="dt">row.FIAname =</span> <span class="ot">TRUE</span>,          <span class="co"># est - row domain names</span></a>
<a class="sourceLine" id="cb140-13" data-line-number="13">      <span class="dt">allin1 =</span> <span class="ot">FALSE</span>)              <span class="co"># out - return output with est and pse</span></a>
<a class="sourceLine" id="cb140-14" data-line-number="14">    )</a></code></pre></div>
<p>And again we can look at our outputs and compare estimates:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb141-1" data-line-number="1">## Look at output list</a>
<a class="sourceLine" id="cb141-2" data-line-number="2"><span class="kw">names</span>(tree6)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>## [1] &quot;est&quot;      &quot;titlelst&quot; &quot;raw&quot;      &quot;statecd&quot;  &quot;invyr&quot;</code></pre>
</details>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb143-1" data-line-number="1">## Estimate and percent sampling error of estimate</a>
<a class="sourceLine" id="cb143-2" data-line-number="2">tree6<span class="op">$</span>est</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##            Species    Estimate Percent Sampling Error
## 1    subalpine fir 393526597.1                  23.98
## 2 Engelmann spruce 109946165.6                  33.08
## 3   lodgepole pine 250563090.6                  18.13
## 4      limber pine  39217057.2                  90.57
## 5      Douglas-fir    49781891                  79.39
## 6    quaking aspen 105247371.8                  61.16
## 7            Total 948282173.2                     16</code></pre>
</details>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb145-1" data-line-number="1">## Compare estimates with and without seedlings</a>
<a class="sourceLine" id="cb145-2" data-line-number="2"><span class="kw">head</span>(tree5<span class="op">$</span>est)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##            Species    Estimate Percent Sampling Error
## 1    subalpine fir  67863340.4                  29.32
## 2 Engelmann spruce  50423486.8                  29.88
## 3   lodgepole pine 182515829.5                  18.92
## 4      limber pine   4546777.7                  88.44
## 5      Douglas-fir  24883447.6                  73.23
## 6    quaking aspen  11295394.2                  72.77</code></pre>
</details>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb147-1" data-line-number="1"><span class="kw">head</span>(tree6<span class="op">$</span>est)</a></code></pre></div>
<details>
<p><summary>output</summary></p>
<pre><code>##            Species    Estimate Percent Sampling Error
## 1    subalpine fir 393526597.1                  23.98
## 2 Engelmann spruce 109946165.6                  33.08
## 3   lodgepole pine 250563090.6                  18.13
## 4      limber pine  39217057.2                  90.57
## 5      Douglas-fir    49781891                  79.39
## 6    quaking aspen 105247371.8                  61.16</code></pre>
</details>
</details>
<!-- #### Example 11: Number of seedlings by species, Wyoming, 2011-2013 -->
<!-- Of course, we can also look at *only* seedlings. -->
<!-- Note: seedling data are only available for number of trees (estvar = TPA_UNADJ). -->
<!-- Note: must include seedling data in population data calculations. -->
<!-- ```{r} -->
<!-- ## Number of live trees seedlings by species -->
<!-- tree7 <- modMAtree( -->
<!--     MApopdat = MApopdat_seed,         # pop - population calculations -->
<!--     MAmethod = "greg",           # est - model-assisted method -->
<!--     estseed = "only",            # est - add seedling data -->
<!--     landarea = "FOREST",         # est - forest land filter -->
<!--     estvar = "TPA_UNADJ",        # est - number of trees per acre  -->
<!--     rowvar = "SPCD",             # est - row domain -->
<!--     returntitle = TRUE,          # out - return title information -->
<!--     table_opts = table_options( -->
<!--       row.FIAname = TRUE,          # est - row domain names -->
<!--       allin1 = FALSE               # out - return output with est and pse -->
<!--       ) -->
<!--     ) -->
<!-- ``` -->
<!-- And again we can look at our outputs and compare estimates: -->
<!-- ```{r} -->
<!-- ## Look at output list -->
<!-- names(tree7) -->
<!-- ## Estimate and percent sampling error of estimate -->
<!-- tree7$est -->
<!-- ## Compare estimates with, without, and only seedlings -->
<!-- head(tree5$est) -->
<!-- head(tree6$est) -->
<!-- head(tree7$est) -->
<!-- ``` -->
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
